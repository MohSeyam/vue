(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var QR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ad(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wy={exports:{}},cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS;function ZR(){if(IS)return cc;IS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return cc.Fragment=e,cc.jsx=n,cc.jsxs=n,cc}var jS;function eD(){return jS||(jS=1,wy.exports=ZR()),wy.exports}var ne=eD(),by={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS;function tD(){if(zS)return Xe;zS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function D(B,ce,Ee){this.props=B,this.context=ce,this.refs=A,this.updater=Ee||k}D.prototype.isReactComponent={},D.prototype.setState=function(B,ce){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ce,"setState")},D.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function P(){}P.prototype=D.prototype;function z(B,ce,Ee){this.props=B,this.context=ce,this.refs=A,this.updater=Ee||k}var $=z.prototype=new P;$.constructor=z,T($,D.prototype),$.isPureReactComponent=!0;var ae=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function pe(B,ce,Ee,ke,_e,rt){return Ee=rt.ref,{$$typeof:t,type:B,key:ce,ref:Ee!==void 0?Ee:null,props:rt}}function de(B,ce){return pe(B.type,ce,void 0,void 0,void 0,B.props)}function Ae(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function Ne(B){var ce={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Ee){return ce[Ee]})}var dt=/\/+/g;function ft(B,ce){return typeof B=="object"&&B!==null&&B.key!=null?Ne(""+B.key):ce.toString(36)}function pt(){}function wt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(pt,pt):(B.status="pending",B.then(function(ce){B.status==="pending"&&(B.status="fulfilled",B.value=ce)},function(ce){B.status==="pending"&&(B.status="rejected",B.reason=ce)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function mt(B,ce,Ee,ke,_e){var rt=typeof B;(rt==="undefined"||rt==="boolean")&&(B=null);var Ve=!1;if(B===null)Ve=!0;else switch(rt){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(B.$$typeof){case t:case e:Ve=!0;break;case h:return Ve=B._init,mt(Ve(B._payload),ce,Ee,ke,_e)}}if(Ve)return _e=_e(B),Ve=ke===""?"."+ft(B,0):ke,ae(_e)?(Ee="",Ve!=null&&(Ee=Ve.replace(dt,"$&/")+"/"),mt(_e,ce,Ee,"",function(Le){return Le})):_e!=null&&(Ae(_e)&&(_e=de(_e,Ee+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(dt,"$&/")+"/")+Ve)),ce.push(_e)),1;Ve=0;var Sn=ke===""?".":ke+":";if(ae(B))for(var At=0;At<B.length;At++)ke=B[At],rt=Sn+ft(ke,At),Ve+=mt(ke,ce,Ee,rt,_e);else if(At=b(B),typeof At=="function")for(B=At.call(B),At=0;!(ke=B.next()).done;)ke=ke.value,rt=Sn+ft(ke,At++),Ve+=mt(ke,ce,Ee,rt,_e);else if(rt==="object"){if(typeof B.then=="function")return mt(wt(B),ce,Ee,ke,_e);throw ce=String(B),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function se(B,ce,Ee){if(B==null)return B;var ke=[],_e=0;return mt(B,ke,"","",function(rt){return ce.call(Ee,rt,_e++)}),ke}function me(B){if(B._status===-1){var ce=B._result;ce=ce(),ce.then(function(Ee){(B._status===0||B._status===-1)&&(B._status=1,B._result=Ee)},function(Ee){(B._status===0||B._status===-1)&&(B._status=2,B._result=Ee)}),B._status===-1&&(B._status=0,B._result=ce)}if(B._status===1)return B._result.default;throw B._result}var Me=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Ye(){}return Xe.Children={map:se,forEach:function(B,ce,Ee){se(B,function(){ce.apply(this,arguments)},Ee)},count:function(B){var ce=0;return se(B,function(){ce++}),ce},toArray:function(B){return se(B,function(ce){return ce})||[]},only:function(B){if(!Ae(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Xe.Component=D,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=z,Xe.StrictMode=r,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return Y.H.useMemoCache(B)}},Xe.cache=function(B){return function(){return B.apply(null,arguments)}},Xe.cloneElement=function(B,ce,Ee){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ke=T({},B.props),_e=B.key,rt=void 0;if(ce!=null)for(Ve in ce.ref!==void 0&&(rt=void 0),ce.key!==void 0&&(_e=""+ce.key),ce)!ue.call(ce,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&ce.ref===void 0||(ke[Ve]=ce[Ve]);var Ve=arguments.length-2;if(Ve===1)ke.children=Ee;else if(1<Ve){for(var Sn=Array(Ve),At=0;At<Ve;At++)Sn[At]=arguments[At+2];ke.children=Sn}return pe(B.type,_e,void 0,void 0,rt,ke)},Xe.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},Xe.createElement=function(B,ce,Ee){var ke,_e={},rt=null;if(ce!=null)for(ke in ce.key!==void 0&&(rt=""+ce.key),ce)ue.call(ce,ke)&&ke!=="key"&&ke!=="__self"&&ke!=="__source"&&(_e[ke]=ce[ke]);var Ve=arguments.length-2;if(Ve===1)_e.children=Ee;else if(1<Ve){for(var Sn=Array(Ve),At=0;At<Ve;At++)Sn[At]=arguments[At+2];_e.children=Sn}if(B&&B.defaultProps)for(ke in Ve=B.defaultProps,Ve)_e[ke]===void 0&&(_e[ke]=Ve[ke]);return pe(B,rt,void 0,void 0,null,_e)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(B){return{$$typeof:c,render:B}},Xe.isValidElement=Ae,Xe.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:me}},Xe.memo=function(B,ce){return{$$typeof:p,type:B,compare:ce===void 0?null:ce}},Xe.startTransition=function(B){var ce=Y.T,Ee={};Y.T=Ee;try{var ke=B(),_e=Y.S;_e!==null&&_e(Ee,ke),typeof ke=="object"&&ke!==null&&typeof ke.then=="function"&&ke.then(Ye,Me)}catch(rt){Me(rt)}finally{Y.T=ce}},Xe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Xe.use=function(B){return Y.H.use(B)},Xe.useActionState=function(B,ce,Ee){return Y.H.useActionState(B,ce,Ee)},Xe.useCallback=function(B,ce){return Y.H.useCallback(B,ce)},Xe.useContext=function(B){return Y.H.useContext(B)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(B,ce){return Y.H.useDeferredValue(B,ce)},Xe.useEffect=function(B,ce,Ee){var ke=Y.H;if(typeof Ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ke.useEffect(B,ce)},Xe.useId=function(){return Y.H.useId()},Xe.useImperativeHandle=function(B,ce,Ee){return Y.H.useImperativeHandle(B,ce,Ee)},Xe.useInsertionEffect=function(B,ce){return Y.H.useInsertionEffect(B,ce)},Xe.useLayoutEffect=function(B,ce){return Y.H.useLayoutEffect(B,ce)},Xe.useMemo=function(B,ce){return Y.H.useMemo(B,ce)},Xe.useOptimistic=function(B,ce){return Y.H.useOptimistic(B,ce)},Xe.useReducer=function(B,ce,Ee){return Y.H.useReducer(B,ce,Ee)},Xe.useRef=function(B){return Y.H.useRef(B)},Xe.useState=function(B){return Y.H.useState(B)},Xe.useSyncExternalStore=function(B,ce,Ee){return Y.H.useSyncExternalStore(B,ce,Ee)},Xe.useTransition=function(){return Y.H.useTransition()},Xe.version="19.1.0",Xe}var VS;function od(){return VS||(VS=1,by.exports=tD()),by.exports}var I=od();const va=ad(I);var Sy={exports:{}},dc={},ky={exports:{}},Ty={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US;function nD(){return US||(US=1,function(t){function e(se,me){var Me=se.length;se.push(me);e:for(;0<Me;){var Ye=Me-1>>>1,B=se[Ye];if(0<i(B,me))se[Ye]=me,se[Me]=B,Me=Ye;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var me=se[0],Me=se.pop();if(Me!==me){se[0]=Me;e:for(var Ye=0,B=se.length,ce=B>>>1;Ye<ce;){var Ee=2*(Ye+1)-1,ke=se[Ee],_e=Ee+1,rt=se[_e];if(0>i(ke,Me))_e<B&&0>i(rt,ke)?(se[Ye]=rt,se[_e]=Me,Ye=_e):(se[Ye]=ke,se[Ee]=Me,Ye=Ee);else if(_e<B&&0>i(rt,Me))se[Ye]=rt,se[_e]=Me,Ye=_e;else break e}}return me}function i(se,me){var Me=se.sortIndex-me.sortIndex;return Me!==0?Me:se.id-me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],p=[],h=1,g=null,b=3,k=!1,T=!1,A=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ae(se){for(var me=n(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=se)r(p),me.sortIndex=me.expirationTime,e(d,me);else break;me=n(p)}}function Y(se){if(A=!1,ae(se),!T)if(n(d)!==null)T=!0,ue||(ue=!0,ft());else{var me=n(p);me!==null&&mt(Y,me.startTime-se)}}var ue=!1,pe=-1,de=5,Ae=-1;function Ne(){return D?!0:!(t.unstable_now()-Ae<de)}function dt(){if(D=!1,ue){var se=t.unstable_now();Ae=se;var me=!0;try{e:{T=!1,A&&(A=!1,z(pe),pe=-1),k=!0;var Me=b;try{t:{for(ae(se),g=n(d);g!==null&&!(g.expirationTime>se&&Ne());){var Ye=g.callback;if(typeof Ye=="function"){g.callback=null,b=g.priorityLevel;var B=Ye(g.expirationTime<=se);if(se=t.unstable_now(),typeof B=="function"){g.callback=B,ae(se),me=!0;break t}g===n(d)&&r(d),ae(se)}else r(d);g=n(d)}if(g!==null)me=!0;else{var ce=n(p);ce!==null&&mt(Y,ce.startTime-se),me=!1}}break e}finally{g=null,b=Me,k=!1}me=void 0}}finally{me?ft():ue=!1}}}var ft;if(typeof $=="function")ft=function(){$(dt)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,wt=pt.port2;pt.port1.onmessage=dt,ft=function(){wt.postMessage(null)}}else ft=function(){P(dt,0)};function mt(se,me){pe=P(function(){se(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(se){switch(b){case 1:case 2:case 3:var me=3;break;default:me=b}var Me=b;b=me;try{return se()}finally{b=Me}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Me=b;b=se;try{return me()}finally{b=Me}},t.unstable_scheduleCallback=function(se,me,Me){var Ye=t.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?Ye+Me:Ye):Me=Ye,se){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Me+B,se={id:h++,callback:me,priorityLevel:se,startTime:Me,expirationTime:B,sortIndex:-1},Me>Ye?(se.sortIndex=Me,e(p,se),n(d)===null&&se===n(p)&&(A?(z(pe),pe=-1):A=!0,mt(Y,Me-Ye))):(se.sortIndex=B,e(d,se),T||k||(T=!0,ue||(ue=!0,ft()))),se},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(se){var me=b;return function(){var Me=b;b=me;try{return se.apply(this,arguments)}finally{b=Me}}}}(Ty)),Ty}var HS;function rD(){return HS||(HS=1,ky.exports=nD()),ky.exports}var xy={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS;function iD(){if(FS)return Bn;FS=1;var t=od();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)p+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,p,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:p,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bn.createPortal=function(d,p){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(d,p,null,h)},Bn.flushSync=function(d){var p=l.T,h=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=p,r.p=h,r.d.f()}},Bn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},Bn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Bn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var h=p.as,g=c(h,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;h==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:k}):h==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Bn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var h=c(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},Bn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var h=p.as,g=c(h,p.crossOrigin);r.d.L(d,h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Bn.preloadModule=function(d,p){if(typeof d=="string")if(p){var h=c(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},Bn.requestFormReset=function(d){r.d.r(d)},Bn.unstable_batchedUpdates=function(d,p){return d(p)},Bn.useFormState=function(d,p,h){return l.H.useFormState(d,p,h)},Bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Bn.version="19.1.0",Bn}var KS;function tx(){if(KS)return xy.exports;KS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xy.exports=iD(),xy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function sD(){if(qS)return dc;qS=1;var t=rD(),e=od(),n=tx();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(r(188))}function d(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,f=o;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return c(y),s;if(w===f)return c(y),o;w=w.sibling}throw Error(r(188))}if(u.return!==f.return)u=y,f=w;else{for(var E=!1,R=y.child;R;){if(R===u){E=!0,u=y,f=w;break}if(R===f){E=!0,f=y,u=w;break}R=R.sibling}if(!E){for(R=w.child;R;){if(R===u){E=!0,u=w,f=y;break}if(R===f){E=!0,f=w,u=y;break}R=R.sibling}if(!E)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Ae=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),dt=Symbol.iterator;function ft(s){return s===null||typeof s!="object"?null:(s=dt&&s[dt]||s["@@iterator"],typeof s=="function"?s:null)}var pt=Symbol.for("react.client.reference");function wt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===pt?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case D:return"Profiler";case A:return"StrictMode";case Y:return"Suspense";case ue:return"SuspenseList";case Ae:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case $:return(s.displayName||"Context")+".Provider";case z:return(s._context.displayName||"Context")+".Consumer";case ae:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case pe:return o=s.displayName||null,o!==null?o:wt(s.type)||"Memo";case de:o=s._payload,s=s._init;try{return wt(s(o))}catch{}}return null}var mt=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},Ye=[],B=-1;function ce(s){return{current:s}}function Ee(s){0>B||(s.current=Ye[B],Ye[B]=null,B--)}function ke(s,o){B++,Ye[B]=s.current,s.current=o}var _e=ce(null),rt=ce(null),Ve=ce(null),Sn=ce(null);function At(s,o){switch(ke(Ve,o),ke(rt,s),ke(_e,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?dS(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=dS(o),s=fS(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ee(_e),ke(_e,s)}function Le(){Ee(_e),Ee(rt),Ee(Ve)}function Co(s){s.memoizedState!==null&&ke(Sn,s);var o=_e.current,u=fS(o,s.type);o!==u&&(ke(rt,s),ke(_e,u))}function xi(s){rt.current===s&&(Ee(_e),Ee(rt)),Sn.current===s&&(Ee(Sn),sc._currentValue=Me)}var ut=Object.prototype.hasOwnProperty,Ei=t.unstable_scheduleCallback,Zl=t.unstable_cancelCallback,Ci=t.unstable_shouldYield,Ph=t.unstable_requestPaint,gr=t.unstable_now,Oh=t.unstable_getCurrentPriorityLevel,Sd=t.unstable_ImmediatePriority,Ao=t.unstable_UserBlockingPriority,Un=t.unstable_NormalPriority,kd=t.unstable_LowPriority,ys=t.unstable_IdlePriority,Td=t.log,Aa=t.unstable_setDisableYieldValue,ir=null,Wt=null;function vr(s){if(typeof Td=="function"&&Aa(s),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ir,s)}catch{}}var ln=Math.clz32?Math.clz32:Ai,eu=Math.log,Mo=Math.LN2;function Ai(s){return s>>>=0,s===0?32:31-(eu(s)/Mo|0)|0}var Mi=256,gs=4194304;function Pn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Oe(s,o,u){var f=s.pendingLanes;if(f===0)return 0;var y=0,w=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var R=f&134217727;return R!==0?(f=R&~w,f!==0?y=Pn(f):(E&=R,E!==0?y=Pn(E):u||(u=R&~s,u!==0&&(y=Pn(u))))):(R=f&~w,R!==0?y=Pn(R):E!==0?y=Pn(E):u||(u=f&~s,u!==0&&(y=Pn(u)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:y}function zr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ri(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ma(){var s=Mi;return Mi<<=1,(Mi&4194048)===0&&(Mi=256),s}function Ce(){var s=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),s}function Ra(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function vs(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function tu(s,o,u,f,y,w){var E=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var R=s.entanglements,L=s.expirationTimes,Q=s.hiddenUpdates;for(u=E&~u;0<u;){var le=31-ln(u),he=1<<le;R[le]=0,L[le]=-1;var ee=Q[le];if(ee!==null)for(Q[le]=null,le=0;le<ee.length;le++){var te=ee[le];te!==null&&(te.lane&=-536870913)}u&=~he}f!==0&&nu(s,f,0),w!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=w&~(E&~o))}function nu(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var f=31-ln(o);s.entangledLanes|=o,s.entanglements[f]=s.entanglements[f]|1073741824|u&4194090}function Ro(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-ln(u),y=1<<f;y&o|s[f]&o&&(s[f]|=o),u&=~y}}function ru(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function iu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Di(){var s=me.p;return s!==0?s:(s=window.event,s===void 0?32:PS(s.type))}function ws(s,o){var u=me.p;try{return me.p=s,o()}finally{me.p=u}}var wr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+wr,et="__reactProps$"+wr,Rt="__reactContainer$"+wr,su="__reactEvents$"+wr,Do="__reactListeners$"+wr,Po="__reactHandles$"+wr,Da="__reactResources$"+wr,Pa="__reactMarker$"+wr;function br(s){delete s[Jt],delete s[et],delete s[su],delete s[Do],delete s[Po]}function sr(s){var o=s[Jt];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Rt]||u[Jt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=yS(s);s!==null;){if(u=s[Jt])return u;s=yS(s)}return o}s=u,u=s.parentNode}return null}function Hn(s){if(s=s[Jt]||s[Rt]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Yr(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function bs(s){var o=s[Da];return o||(o=s[Da]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tt(s){s[Pa]=!0}var au=new Set,Xr={};function Qr(s,o){Zr(s,o),Zr(s+"Capture",o)}function Zr(s,o){for(Xr[s]=o,s=0;s<o.length;s++)au.add(o[s])}var _t=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ei={},Sr={};function xd(s){return ut.call(Sr,s)?!0:ut.call(ei,s)?!1:_t.test(s)?Sr[s]=!0:(ei[s]=!0,!1)}function Vr(s,o,u){if(xd(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function Pi(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function ar(s,o,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+f)}}var Oa,ti;function Oi(s){if(Oa===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Oa=o&&o[1]||"",ti=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+s+ti}var Ss=!1;function Oo(s,o){if(!s||Ss)return"";Ss=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(te){var ee=te}Reflect.construct(s,[],he)}else{try{he.call()}catch(te){ee=te}s.call(he.prototype)}}else{try{throw Error()}catch(te){ee=te}(he=s())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),E=w[0],R=w[1];if(E&&R){var L=E.split(`
`),Q=R.split(`
`);for(y=f=0;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;if(f===L.length||y===Q.length)for(f=L.length-1,y=Q.length-1;1<=f&&0<=y&&L[f]!==Q[y];)y--;for(;1<=f&&0<=y;f--,y--)if(L[f]!==Q[y]){if(f!==1||y!==1)do if(f--,y--,0>y||L[f]!==Q[y]){var le=`
`+L[f].replace(" at new "," at ");return s.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",s.displayName)),le}while(1<=f&&0<=y);break}}}finally{Ss=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Oi(u):""}function it(s){switch(s.tag){case 26:case 27:case 5:return Oi(s.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return Oo(s.type,!1);case 11:return Oo(s.type.render,!1);case 1:return Oo(s.type,!0);case 31:return Oi("Activity");default:return""}}function ou(s){try{var o="";do o+=it(s),s=s.return;while(s);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Fn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function lu(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xt(s){var o=lu(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(E){f=""+E,w.call(this,E)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ni(s){s._valueTracker||(s._valueTracker=xt(s))}function ks(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=lu(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function Ur(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var uu=/[\n"\\]/g;function On(s){return s.replace(uu,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ts(s,o,u,f,y,w,E,R){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),o!=null?E==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Fn(o)):s.value!==""+Fn(o)&&(s.value=""+Fn(o)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),o!=null?xs(s,E,Fn(o)):u!=null?xs(s,E,Fn(u)):f!=null&&s.removeAttribute("value"),y==null&&w!=null&&(s.defaultChecked=!!w),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+Fn(R):s.removeAttribute("name")}function cu(s,o,u,f,y,w,E,R){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;u=u!=null?""+Fn(u):"",o=o!=null?""+Fn(o):u,R||o===s.value||(s.value=o),s.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=R?s.checked:!!f,s.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function xs(s,o,u){o==="number"&&Ur(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Ni(s,o,u,f){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Fn(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Es(s,o,u){if(o!=null&&(o=""+Fn(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+Fn(u):""}function du(s,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(r(92));if(mt(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=Fn(o),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f)}function Cs(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var ot=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(s,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":f?s.setProperty(o,u):typeof u!="number"||u===0||ot.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function Ed(s,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&u[y]!==f&&No(s,y,f)}else for(var w in o)o.hasOwnProperty(w)&&No(s,w,o[w])}function fu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(s){return As.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var kr=null;function Lo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var _i=null,Dt=null;function or(s){var o=Hn(s);if(o&&(s=o.stateNode)){var u=s[et]||null;e:switch(s=o.stateNode,o.type){case"input":if(Ts(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+On(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var y=f[et]||null;if(!y)throw Error(r(90));Ts(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===s.form&&ks(f)}break e;case"textarea":Es(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ni(s,!!u.multiple,o,!1)}}}var Bi=!1;function Ms(s,o,u){if(Bi)return s(o,u);Bi=!0;try{var f=s(o);return f}finally{if(Bi=!1,(_i!==null||Dt!==null)&&(hf(),_i&&(o=_i,s=Dt,Dt=_i=null,or(o),s)))for(o=0;o<s.length;o++)or(s[o])}}function Ii(s,o){var u=s.stateNode;if(u===null)return null;var f=u[et]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=!1;if(dn)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){pu=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{pu=!1}var Tr=null,_o=null,Rs=null;function Ds(){if(Rs)return Rs;var s,o=_o,u=o.length,f,y="value"in Tr?Tr.value:Tr.textContent,w=y.length;for(s=0;s<u&&o[s]===y[s];s++);var E=u-s;for(f=1;f<=E&&o[u-f]===y[w-f];f++);return Rs=y.slice(s,1<f?1-f:void 0)}function Ps(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Na(){return!0}function Cd(){return!1}function Zt(s){function o(u,f,y,w,E){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(w):w[R]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Na:Cd,this.isPropagationStopped=Cd,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),o}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=Zt(ji),ri=h({},ji,{view:0,detail:0}),Io=Zt(ri),La,hu,_a,jo=h({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_a&&(_a&&s.type==="mousemove"?(La=s.screenX-_a.screenX,hu=s.screenY-_a.screenY):hu=La=0,_a=s),La)},movementY:function(s){return"movementY"in s?s.movementY:hu}}),zo=Zt(jo),mu=h({},jo,{dataTransfer:0}),Ad=Zt(mu),Vo=h({},ri,{relatedTarget:0}),Os=Zt(Vo),Uo=h({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Md=Zt(Uo),Nh=h({},ji,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ho=Zt(Nh),yu=h({},ji,{data:0}),Fo=Zt(yu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ba(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=fn[s])?!!o[s]:!1}function zi(){return Ba}var Rd=h({},ri,{key:function(s){if(s.key){var o=gu[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ps(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(s){return s.type==="keypress"?Ps(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ps(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ko=Zt(Rd),Dd=h({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wu=Zt(Dd),qo=h({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),bu=Zt(qo),Vi=h({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=Zt(Vi),ku=h({},jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Wo=Zt(ku),Tu=h({},ji,{newState:0,oldState:0}),Pd=Zt(Tu),Lh=[9,13,27,32],Ia=dn&&"CompositionEvent"in window,ii=null;dn&&"documentMode"in document&&(ii=document.documentMode);var _h=dn&&"TextEvent"in window&&!ii,Jo=dn&&(!Ia||ii&&8<ii&&11>=ii),$o=" ",Od=!1;function xu(s,o){switch(s){case"keyup":return Lh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ui=!1;function Ld(s,o){switch(s){case"compositionend":return Nd(o);case"keypress":return o.which!==32?null:(Od=!0,$o);case"textInput":return s=o.data,s===$o&&Od?null:s;default:return null}}function Bh(s,o){if(Ui)return s==="compositionend"||!Ia&&xu(s,o)?(s=Ds(),Rs=_o=Tr=null,Ui=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Jo&&o.locale!=="ko"?null:o.data;default:return null}}var _d={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Go(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!_d[s.type]:o==="textarea"}function Eu(s,o,u,f){_i?Dt?Dt.push(f):Dt=[f]:_i=f,o=bf(o,"onChange"),0<o.length&&(u=new Bo("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var Ns=null,ja=null;function Ih(s){aS(s,0)}function Yo(s){var o=Yr(s);if(ks(o))return s}function za(s,o){if(s==="change")return o}var xr=!1;if(dn){var Pt;if(dn){var Ls="oninput"in document;if(!Ls){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Ls=typeof qn.oninput=="function"}Pt=Ls}else Pt=!1;xr=Pt&&(!document.documentMode||9<document.documentMode)}function Bd(){Ns&&(Ns.detachEvent("onpropertychange",Xo),ja=Ns=null)}function Xo(s){if(s.propertyName==="value"&&Yo(ja)){var o=[];Eu(o,ja,s,Lo(s)),Ms(Ih,o)}}function Id(s,o,u){s==="focusin"?(Bd(),Ns=o,ja=u,Ns.attachEvent("onpropertychange",Xo)):s==="focusout"&&Bd()}function Hi(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yo(ja)}function Cu(s,o){if(s==="click")return Yo(o)}function _s(s,o){if(s==="input"||s==="change")return Yo(o)}function si(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Ln=typeof Object.is=="function"?Object.is:si;function m(s,o){if(Ln(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!ut.call(o,y)||!Ln(s[y],o[y]))return!1}return!0}function v(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function S(s,o){var u=v(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=v(u)}}function x(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?x(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function C(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Ur(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Ur(s.document)}return o}function M(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var O=dn&&"documentMode"in document&&11>=document.documentMode,N=null,V=null,H=null,q=!1;function _(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;q||N==null||N!==Ur(f)||(f=N,"selectionStart"in f&&M(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),H&&m(H,f)||(H=f,f=bf(V,"onSelect"),0<f.length&&(o=new Bo("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=N)))}function J(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var j={animationend:J("Animation","AnimationEnd"),animationiteration:J("Animation","AnimationIteration"),animationstart:J("Animation","AnimationStart"),transitionrun:J("Transition","TransitionRun"),transitionstart:J("Transition","TransitionStart"),transitioncancel:J("Transition","TransitionCancel"),transitionend:J("Transition","TransitionEnd")},K={},G={};dn&&(G=document.createElement("div").style,"AnimationEvent"in window||(delete j.animationend.animation,delete j.animationiteration.animation,delete j.animationstart.animation),"TransitionEvent"in window||delete j.transitionend.transition);function F(s){if(K[s])return K[s];if(!j[s])return s;var o=j[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in G)return K[s]=o[u];return s}var Z=F("animationend"),re=F("animationiteration"),ie=F("animationstart"),oe=F("transitionrun"),we=F("transitionstart"),Te=F("transitioncancel"),ge=F("transitionend"),Se=new Map,xe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xe.push("scrollEnd");function ve(s,o){Se.set(s,o),Qr(o,[s])}var De=new WeakMap;function Ie(s,o){if(typeof s=="object"&&s!==null){var u=De.get(s);return u!==void 0?u:(o={value:s,source:o,stack:ou(o)},De.set(s,o),o)}return{value:s,source:o,stack:ou(o)}}var Ue=[],$e=0,kn=0;function Ke(){for(var s=$e,o=kn=$e=0;o<s;){var u=Ue[o];Ue[o++]=null;var f=Ue[o];Ue[o++]=null;var y=Ue[o];Ue[o++]=null;var w=Ue[o];if(Ue[o++]=null,f!==null&&y!==null){var E=f.pending;E===null?y.next=y:(y.next=E.next,E.next=y),f.pending=y}w!==0&&pn(u,y,w)}}function $t(s,o,u,f){Ue[$e++]=s,Ue[$e++]=o,Ue[$e++]=u,Ue[$e++]=f,kn|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function en(s,o,u,f){return $t(s,o,u,f),Er(s)}function Hr(s,o){return $t(s,null,null,o),Er(s)}function pn(s,o,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var y=!1,w=s.return;w!==null;)w.childLanes|=u,f=w.alternate,f!==null&&(f.childLanes|=u),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(y=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,y&&o!==null&&(y=31-ln(u),s=w.hiddenUpdates,f=s[y],f===null?s[y]=[o]:f.push(o),o.lane=u|536870912),w):null}function Er(s){if(50<Xu)throw Xu=0,Fm=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ai={};function IM(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(s,o,u,f){return new IM(s,o,u,f)}function jh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Fi(s,o){var u=s.alternate;return u===null?(u=lr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function qw(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function jd(s,o,u,f,y,w){var E=0;if(f=s,typeof s=="function")jh(s)&&(E=1);else if(typeof s=="string")E=zR(s,u,_e.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Ae:return s=lr(31,u,o,y),s.elementType=Ae,s.lanes=w,s;case T:return Va(u.children,y,w,o);case A:E=8,y|=24;break;case D:return s=lr(12,u,o,y|2),s.elementType=D,s.lanes=w,s;case Y:return s=lr(13,u,o,y),s.elementType=Y,s.lanes=w,s;case ue:return s=lr(19,u,o,y),s.elementType=ue,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case $:E=10;break e;case z:E=9;break e;case ae:E=11;break e;case pe:E=14;break e;case de:E=16,f=null;break e}E=29,u=Error(r(130,s===null?"null":typeof s,"")),f=null}return o=lr(E,u,o,y),o.elementType=s,o.type=f,o.lanes=w,o}function Va(s,o,u,f){return s=lr(7,s,f,o),s.lanes=u,s}function zh(s,o,u){return s=lr(6,s,null,o),s.lanes=u,s}function Vh(s,o,u){return o=lr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Qo=[],Zo=0,zd=null,Vd=0,Cr=[],Ar=0,Ua=null,Ki=1,qi="";function Ha(s,o){Qo[Zo++]=Vd,Qo[Zo++]=zd,zd=s,Vd=o}function Ww(s,o,u){Cr[Ar++]=Ki,Cr[Ar++]=qi,Cr[Ar++]=Ua,Ua=s;var f=Ki;s=qi;var y=32-ln(f)-1;f&=~(1<<y),u+=1;var w=32-ln(o)+y;if(30<w){var E=y-y%5;w=(f&(1<<E)-1).toString(32),f>>=E,y-=E,Ki=1<<32-ln(o)+y|u<<y|f,qi=w+s}else Ki=1<<w|u<<y|f,qi=s}function Uh(s){s.return!==null&&(Ha(s,1),Ww(s,1,0))}function Hh(s){for(;s===zd;)zd=Qo[--Zo],Qo[Zo]=null,Vd=Qo[--Zo],Qo[Zo]=null;for(;s===Ua;)Ua=Cr[--Ar],Cr[Ar]=null,qi=Cr[--Ar],Cr[Ar]=null,Ki=Cr[--Ar],Cr[Ar]=null}var Wn=null,Vt=null,ht=!1,Fa=null,oi=!1,Fh=Error(r(519));function Ka(s){var o=Error(r(418,""));throw Ru(Ie(o,s)),Fh}function Jw(s){var o=s.stateNode,u=s.type,f=s.memoizedProps;switch(o[Jt]=s,o[et]=f,u){case"dialog":at("cancel",o),at("close",o);break;case"iframe":case"object":case"embed":at("load",o);break;case"video":case"audio":for(u=0;u<Zu.length;u++)at(Zu[u],o);break;case"source":at("error",o);break;case"img":case"image":case"link":at("error",o),at("load",o);break;case"details":at("toggle",o);break;case"input":at("invalid",o),cu(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ni(o);break;case"select":at("invalid",o);break;case"textarea":at("invalid",o),du(o,f.value,f.defaultValue,f.children),ni(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||cS(o.textContent,u)?(f.popover!=null&&(at("beforetoggle",o),at("toggle",o)),f.onScroll!=null&&at("scroll",o),f.onScrollEnd!=null&&at("scrollend",o),f.onClick!=null&&(o.onclick=Sf),o=!0):o=!1,o||Ka(s)}function $w(s){for(Wn=s.return;Wn;)switch(Wn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:Wn=Wn.return}}function Au(s){if(s!==Wn)return!1;if(!ht)return $w(s),ht=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||sy(s.type,s.memoizedProps)),u=!u),u&&Vt&&Ka(s),$w(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(o===0){Vt=Kr(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;s=s.nextSibling}Vt=null}}else o===27?(o=Vt,Xs(s.type)?(s=uy,uy=null,Vt=s):Vt=o):Vt=Wn?Kr(s.stateNode.nextSibling):null;return!0}function Mu(){Vt=Wn=null,ht=!1}function Gw(){var s=Fa;return s!==null&&(er===null?er=s:er.push.apply(er,s),Fa=null),s}function Ru(s){Fa===null?Fa=[s]:Fa.push(s)}var Kh=ce(null),qa=null,Wi=null;function Bs(s,o,u){ke(Kh,o._currentValue),o._currentValue=u}function Ji(s){s._currentValue=Kh.current,Ee(Kh)}function qh(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function Wh(s,o,u,f){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var w=y.dependencies;if(w!==null){var E=y.child;w=w.firstContext;e:for(;w!==null;){var R=w;w=y;for(var L=0;L<o.length;L++)if(R.context===o[L]){w.lanes|=u,R=w.alternate,R!==null&&(R.lanes|=u),qh(w.return,u,s),f||(E=null);break e}w=R.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(r(341));E.lanes|=u,w=E.alternate,w!==null&&(w.lanes|=u),qh(E,u,s),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function Du(s,o,u,f){s=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var R=y.type;Ln(y.pendingProps.value,E.value)||(s!==null?s.push(R):s=[R])}}else if(y===Sn.current){if(E=y.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(sc):s=[sc])}y=y.return}s!==null&&Wh(o,s,u,f),o.flags|=262144}function Ud(s){for(s=s.firstContext;s!==null;){if(!Ln(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Wa(s){qa=s,Wi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function _n(s){return Yw(qa,s)}function Hd(s,o){return qa===null&&Wa(s),Yw(s,o)}function Yw(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Wi===null){if(s===null)throw Error(r(308));Wi=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Wi=Wi.next=o;return u}var jM=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},zM=t.unstable_scheduleCallback,VM=t.unstable_NormalPriority,un={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new jM,data:new Map,refCount:0}}function Pu(s){s.refCount--,s.refCount===0&&zM(VM,function(){s.controller.abort()})}var Ou=null,$h=0,el=0,tl=null;function UM(s,o){if(Ou===null){var u=Ou=[];$h=0,el=Ym(),tl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return $h++,o.then(Xw,Xw),o}function Xw(){if(--$h===0&&Ou!==null){tl!==null&&(tl.status="fulfilled");var s=Ou;Ou=null,el=0,tl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function HM(s,o){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var Qw=se.S;se.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&UM(s,o),Qw!==null&&Qw(s,o)};var Ja=ce(null);function Gh(){var s=Ja.current;return s!==null?s:Mt.pooledCache}function Fd(s,o){o===null?ke(Ja,Ja.current):ke(Ja,o.pool)}function Zw(){var s=Gh();return s===null?null:{parent:un._currentValue,pool:s}}var Nu=Error(r(460)),e0=Error(r(474)),Kd=Error(r(542)),Yh={then:function(){}};function t0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function qd(){}function n0(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(qd,qd),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,i0(s),s;default:if(typeof o.status=="string")o.then(qd,qd);else{if(s=Mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,i0(s),s}throw Lu=o,Nu}}var Lu=null;function r0(){if(Lu===null)throw Error(r(459));var s=Lu;return Lu=null,s}function i0(s){if(s===Nu||s===Kd)throw Error(r(483))}var Is=!1;function Xh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function js(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function zs(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(yt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=Er(s),pn(s,null,u),o}return $t(s,f,o,u),Er(s)}function _u(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Ro(s,u)}}function Zh(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?y=w=E:w=w.next=E,u=u.next}while(u!==null);w===null?y=w=o:w=w.next=o}else y=w=o;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var em=!1;function Bu(){if(em){var s=tl;if(s!==null)throw s}}function Iu(s,o,u,f){em=!1;var y=s.updateQueue;Is=!1;var w=y.firstBaseUpdate,E=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var L=R,Q=L.next;L.next=null,E===null?w=Q:E.next=Q,E=L;var le=s.alternate;le!==null&&(le=le.updateQueue,R=le.lastBaseUpdate,R!==E&&(R===null?le.firstBaseUpdate=Q:R.next=Q,le.lastBaseUpdate=L))}if(w!==null){var he=y.baseState;E=0,le=Q=L=null,R=w;do{var ee=R.lane&-536870913,te=ee!==R.lane;if(te?(lt&ee)===ee:(f&ee)===ee){ee!==0&&ee===el&&(em=!0),le!==null&&(le=le.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var qe=s,He=R;ee=o;var kt=u;switch(He.tag){case 1:if(qe=He.payload,typeof qe=="function"){he=qe.call(kt,he,ee);break e}he=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=He.payload,ee=typeof qe=="function"?qe.call(kt,he,ee):qe,ee==null)break e;he=h({},he,ee);break e;case 2:Is=!0}}ee=R.callback,ee!==null&&(s.flags|=64,te&&(s.flags|=8192),te=y.callbacks,te===null?y.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},le===null?(Q=le=te,L=he):le=le.next=te,E|=ee;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;te=R,R=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);le===null&&(L=he),y.baseState=L,y.firstBaseUpdate=Q,y.lastBaseUpdate=le,w===null&&(y.shared.lanes=0),Js|=E,s.lanes=E,s.memoizedState=he}}function s0(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function a0(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)s0(u[s],o)}var nl=ce(null),Wd=ce(0);function o0(s,o){s=es,ke(Wd,s),ke(nl,o),es=s|o.baseLanes}function tm(){ke(Wd,es),ke(nl,nl.current)}function nm(){es=Wd.current,Ee(nl),Ee(Wd)}var Vs=0,tt=null,bt=null,tn=null,Jd=!1,rl=!1,$a=!1,$d=0,ju=0,il=null,FM=0;function Gt(){throw Error(r(321))}function rm(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Ln(s[u],o[u]))return!1;return!0}function im(s,o,u,f,y,w){return Vs=w,tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,se.H=s===null||s.memoizedState===null?K0:q0,$a=!1,w=u(f,y),$a=!1,rl&&(w=u0(o,u,f,y)),l0(s),w}function l0(s){se.H=ef;var o=bt!==null&&bt.next!==null;if(Vs=0,tn=bt=tt=null,Jd=!1,ju=0,il=null,o)throw Error(r(300));s===null||hn||(s=s.dependencies,s!==null&&Ud(s)&&(hn=!0))}function u0(s,o,u,f){tt=s;var y=0;do{if(rl&&(il=null),ju=0,rl=!1,25<=y)throw Error(r(301));if(y+=1,tn=bt=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}se.H=YM,w=o(u,f)}while(rl);return w}function KM(){var s=se.H,o=s.useState()[0];return o=typeof o.then=="function"?zu(o):o,s=s.useState()[0],(bt!==null?bt.memoizedState:null)!==s&&(tt.flags|=1024),o}function sm(){var s=$d!==0;return $d=0,s}function am(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function om(s){if(Jd){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Jd=!1}Vs=0,tn=bt=tt=null,rl=!1,ju=$d=0,il=null}function Qn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?tt.memoizedState=tn=s:tn=tn.next=s,tn}function nn(){if(bt===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=bt.next;var o=tn===null?tt.memoizedState:tn.next;if(o!==null)tn=o,bt=s;else{if(s===null)throw tt.alternate===null?Error(r(467)):Error(r(310));bt=s,s={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},tn===null?tt.memoizedState=tn=s:tn=tn.next=s}return tn}function lm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(s){var o=ju;return ju+=1,il===null&&(il=[]),s=n0(il,s,o),o=tt,(tn===null?o.memoizedState:tn.next)===null&&(o=o.alternate,se.H=o===null||o.memoizedState===null?K0:q0),s}function Gd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return zu(s);if(s.$$typeof===$)return _n(s)}throw Error(r(438,String(s)))}function um(s){var o=null,u=tt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=tt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=lm(),tt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),f=0;f<s;f++)u[f]=Ne;return o.index++,u}function $i(s,o){return typeof o=="function"?o(s):o}function Yd(s){var o=nn();return cm(o,bt,s)}function cm(s,o,u){var f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var y=s.baseQueue,w=f.pending;if(w!==null){if(y!==null){var E=y.next;y.next=w.next,w.next=E}o.baseQueue=y=w,f.pending=null}if(w=s.baseState,y===null)s.memoizedState=w;else{o=y.next;var R=E=null,L=null,Q=o,le=!1;do{var he=Q.lane&-536870913;if(he!==Q.lane?(lt&he)===he:(Vs&he)===he){var ee=Q.revertLane;if(ee===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),he===el&&(le=!0);else if((Vs&ee)===ee){Q=Q.next,ee===el&&(le=!0);continue}else he={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(R=L=he,E=w):L=L.next=he,tt.lanes|=ee,Js|=ee;he=Q.action,$a&&u(w,he),w=Q.hasEagerState?Q.eagerState:u(w,he)}else ee={lane:he,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(R=L=ee,E=w):L=L.next=ee,tt.lanes|=he,Js|=he;Q=Q.next}while(Q!==null&&Q!==o);if(L===null?E=w:L.next=R,!Ln(w,s.memoizedState)&&(hn=!0,le&&(u=tl,u!==null)))throw u;s.memoizedState=w,s.baseState=E,s.baseQueue=L,f.lastRenderedState=w}return y===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function dm(s){var o=nn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=u.dispatch,y=u.pending,w=o.memoizedState;if(y!==null){u.pending=null;var E=y=y.next;do w=s(w,E.action),E=E.next;while(E!==y);Ln(w,o.memoizedState)||(hn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,f]}function c0(s,o,u){var f=tt,y=nn(),w=ht;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=o();var E=!Ln((bt||y).memoizedState,u);E&&(y.memoizedState=u,hn=!0),y=y.queue;var R=p0.bind(null,f,y,s);if(Vu(2048,8,R,[s]),y.getSnapshot!==o||E||tn!==null&&tn.memoizedState.tag&1){if(f.flags|=2048,sl(9,Xd(),f0.bind(null,f,y,u,o),null),Mt===null)throw Error(r(349));w||(Vs&124)!==0||d0(f,o,u)}return u}function d0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=tt.updateQueue,o===null?(o=lm(),tt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function f0(s,o,u,f){o.value=u,o.getSnapshot=f,h0(o)&&m0(s)}function p0(s,o,u){return u(function(){h0(o)&&m0(s)})}function h0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Ln(s,u)}catch{return!0}}function m0(s){var o=Hr(s,2);o!==null&&pr(o,s,2)}function fm(s){var o=Qn();if(typeof s=="function"){var u=s;if(s=u(),$a){vr(!0);try{u()}finally{vr(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:s},o}function y0(s,o,u,f){return s.baseState=u,cm(s,bt,typeof f=="function"?f:$i)}function qM(s,o,u,f,y){if(Zd(s))throw Error(r(485));if(s=o.action,s!==null){var w={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){w.listeners.push(E)}};se.T!==null?u(!0):w.isTransition=!1,f(w),u=o.pending,u===null?(w.next=o.pending=w,g0(o,w)):(w.next=u.next,o.pending=u.next=w)}}function g0(s,o){var u=o.action,f=o.payload,y=s.state;if(o.isTransition){var w=se.T,E={};se.T=E;try{var R=u(y,f),L=se.S;L!==null&&L(E,R),v0(s,o,R)}catch(Q){pm(s,o,Q)}finally{se.T=w}}else try{w=u(y,f),v0(s,o,w)}catch(Q){pm(s,o,Q)}}function v0(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){w0(s,o,f)},function(f){return pm(s,o,f)}):w0(s,o,u)}function w0(s,o,u){o.status="fulfilled",o.value=u,b0(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,g0(s,u)))}function pm(s,o,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,b0(o),o=o.next;while(o!==f)}s.action=null}function b0(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function S0(s,o){return o}function k0(s,o){if(ht){var u=Mt.formState;if(u!==null){e:{var f=tt;if(ht){if(Vt){t:{for(var y=Vt,w=oi;y.nodeType!==8;){if(!w){y=null;break t}if(y=Kr(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Vt=Kr(y.nextSibling),f=y.data==="F!";break e}}Ka(f)}f=!1}f&&(o=u[0])}}return u=Qn(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:o},u.queue=f,u=U0.bind(null,tt,f),f.dispatch=u,f=fm(!1),w=vm.bind(null,tt,!1,f.queue),f=Qn(),y={state:o,dispatch:null,action:s,pending:null},f.queue=y,u=qM.bind(null,tt,y,w,u),y.dispatch=u,f.memoizedState=s,[o,u,!1]}function T0(s){var o=nn();return x0(o,bt,s)}function x0(s,o,u){if(o=cm(s,o,S0)[0],s=Yd($i)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=zu(o)}catch(E){throw E===Nu?Kd:E}else f=o;o=nn();var y=o.queue,w=y.dispatch;return u!==o.memoizedState&&(tt.flags|=2048,sl(9,Xd(),WM.bind(null,y,u),null)),[f,w,s]}function WM(s,o){s.action=o}function E0(s){var o=nn(),u=bt;if(u!==null)return x0(o,u,s);nn(),o=o.memoizedState,u=nn();var f=u.queue.dispatch;return u.memoizedState=s,[o,f,!1]}function sl(s,o,u,f){return s={tag:s,create:u,deps:f,inst:o,next:null},o=tt.updateQueue,o===null&&(o=lm(),tt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s),s}function Xd(){return{destroy:void 0,resource:void 0}}function C0(){return nn().memoizedState}function Qd(s,o,u,f){var y=Qn();f=f===void 0?null:f,tt.flags|=s,y.memoizedState=sl(1|o,Xd(),u,f)}function Vu(s,o,u,f){var y=nn();f=f===void 0?null:f;var w=y.memoizedState.inst;bt!==null&&f!==null&&rm(f,bt.memoizedState.deps)?y.memoizedState=sl(o,w,u,f):(tt.flags|=s,y.memoizedState=sl(1|o,w,u,f))}function A0(s,o){Qd(8390656,8,s,o)}function M0(s,o){Vu(2048,8,s,o)}function R0(s,o){return Vu(4,2,s,o)}function D0(s,o){return Vu(4,4,s,o)}function P0(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function O0(s,o,u){u=u!=null?u.concat([s]):null,Vu(4,4,P0.bind(null,o,s),u)}function hm(){}function N0(s,o){var u=nn();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&rm(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function L0(s,o){var u=nn();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&rm(o,f[1]))return f[0];if(f=s(),$a){vr(!0);try{s()}finally{vr(!1)}}return u.memoizedState=[f,o],f}function mm(s,o,u){return u===void 0||(Vs&1073741824)!==0?s.memoizedState=o:(s.memoizedState=u,s=Ib(),tt.lanes|=s,Js|=s,u)}function _0(s,o,u,f){return Ln(u,o)?u:nl.current!==null?(s=mm(s,u,f),Ln(s,o)||(hn=!0),s):(Vs&42)===0?(hn=!0,s.memoizedState=u):(s=Ib(),tt.lanes|=s,Js|=s,o)}function B0(s,o,u,f,y){var w=me.p;me.p=w!==0&&8>w?w:8;var E=se.T,R={};se.T=R,vm(s,!1,o,u);try{var L=y(),Q=se.S;if(Q!==null&&Q(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var le=HM(L,f);Uu(s,o,le,fr(s))}else Uu(s,o,f,fr(s))}catch(he){Uu(s,o,{then:function(){},status:"rejected",reason:he},fr())}finally{me.p=w,se.T=E}}function JM(){}function ym(s,o,u,f){if(s.tag!==5)throw Error(r(476));var y=I0(s).queue;B0(s,y,o,Me,u===null?JM:function(){return j0(s),u(f)})}function I0(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:Me},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function j0(s){var o=I0(s).next.queue;Uu(s,o,{},fr())}function gm(){return _n(sc)}function z0(){return nn().memoizedState}function V0(){return nn().memoizedState}function $M(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=fr();s=js(u);var f=zs(o,s,u);f!==null&&(pr(f,o,u),_u(f,o,u)),o={cache:Jh()},s.payload=o;return}o=o.return}}function GM(s,o,u){var f=fr();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Zd(s)?H0(o,u):(u=en(s,o,u,f),u!==null&&(pr(u,s,f),F0(u,o,f)))}function U0(s,o,u){var f=fr();Uu(s,o,u,f)}function Uu(s,o,u,f){var y={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Zd(s))H0(o,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var E=o.lastRenderedState,R=w(E,u);if(y.hasEagerState=!0,y.eagerState=R,Ln(R,E))return $t(s,o,y,0),Mt===null&&Ke(),!1}catch{}finally{}if(u=en(s,o,y,f),u!==null)return pr(u,s,f),F0(u,o,f),!0}return!1}function vm(s,o,u,f){if(f={lane:2,revertLane:Ym(),action:f,hasEagerState:!1,eagerState:null,next:null},Zd(s)){if(o)throw Error(r(479))}else o=en(s,u,f,2),o!==null&&pr(o,s,2)}function Zd(s){var o=s.alternate;return s===tt||o!==null&&o===tt}function H0(s,o){rl=Jd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function F0(s,o,u){if((u&4194048)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Ro(s,u)}}var ef={readContext:_n,use:Gd,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},K0={readContext:_n,use:Gd,useCallback:function(s,o){return Qn().memoizedState=[s,o===void 0?null:o],s},useContext:_n,useEffect:A0,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,Qd(4194308,4,P0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Qd(4194308,4,s,o)},useInsertionEffect:function(s,o){Qd(4,2,s,o)},useMemo:function(s,o){var u=Qn();o=o===void 0?null:o;var f=s();if($a){vr(!0);try{s()}finally{vr(!1)}}return u.memoizedState=[f,o],f},useReducer:function(s,o,u){var f=Qn();if(u!==void 0){var y=u(o);if($a){vr(!0);try{u(o)}finally{vr(!1)}}}else y=o;return f.memoizedState=f.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},f.queue=s,s=s.dispatch=GM.bind(null,tt,s),[f.memoizedState,s]},useRef:function(s){var o=Qn();return s={current:s},o.memoizedState=s},useState:function(s){s=fm(s);var o=s.queue,u=U0.bind(null,tt,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:hm,useDeferredValue:function(s,o){var u=Qn();return mm(u,s,o)},useTransition:function(){var s=fm(!1);return s=B0.bind(null,tt,s.queue,!0,!1),Qn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var f=tt,y=Qn();if(ht){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Mt===null)throw Error(r(349));(lt&124)!==0||d0(f,o,u)}y.memoizedState=u;var w={value:u,getSnapshot:o};return y.queue=w,A0(p0.bind(null,f,w,s),[s]),f.flags|=2048,sl(9,Xd(),f0.bind(null,f,w,u,o),null),u},useId:function(){var s=Qn(),o=Mt.identifierPrefix;if(ht){var u=qi,f=Ki;u=(f&~(1<<32-ln(f)-1)).toString(32)+u,o="«"+o+"R"+u,u=$d++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=FM++,o="«"+o+"r"+u.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:gm,useFormState:k0,useActionState:k0,useOptimistic:function(s){var o=Qn();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=vm.bind(null,tt,!0,u),u.dispatch=o,[s,o]},useMemoCache:um,useCacheRefresh:function(){return Qn().memoizedState=$M.bind(null,tt)}},q0={readContext:_n,use:Gd,useCallback:N0,useContext:_n,useEffect:M0,useImperativeHandle:O0,useInsertionEffect:R0,useLayoutEffect:D0,useMemo:L0,useReducer:Yd,useRef:C0,useState:function(){return Yd($i)},useDebugValue:hm,useDeferredValue:function(s,o){var u=nn();return _0(u,bt.memoizedState,s,o)},useTransition:function(){var s=Yd($i)[0],o=nn().memoizedState;return[typeof s=="boolean"?s:zu(s),o]},useSyncExternalStore:c0,useId:z0,useHostTransitionStatus:gm,useFormState:T0,useActionState:T0,useOptimistic:function(s,o){var u=nn();return y0(u,bt,s,o)},useMemoCache:um,useCacheRefresh:V0},YM={readContext:_n,use:Gd,useCallback:N0,useContext:_n,useEffect:M0,useImperativeHandle:O0,useInsertionEffect:R0,useLayoutEffect:D0,useMemo:L0,useReducer:dm,useRef:C0,useState:function(){return dm($i)},useDebugValue:hm,useDeferredValue:function(s,o){var u=nn();return bt===null?mm(u,s,o):_0(u,bt.memoizedState,s,o)},useTransition:function(){var s=dm($i)[0],o=nn().memoizedState;return[typeof s=="boolean"?s:zu(s),o]},useSyncExternalStore:c0,useId:z0,useHostTransitionStatus:gm,useFormState:E0,useActionState:E0,useOptimistic:function(s,o){var u=nn();return bt!==null?y0(u,bt,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:um,useCacheRefresh:V0},al=null,Hu=0;function tf(s){var o=Hu;return Hu+=1,al===null&&(al=[]),n0(al,s,o)}function Fu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function nf(s,o){throw o.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function W0(s){var o=s._init;return o(s._payload)}function J0(s){function o(W,U){if(s){var X=W.deletions;X===null?(W.deletions=[U],W.flags|=16):X.push(U)}}function u(W,U){if(!s)return null;for(;U!==null;)o(W,U),U=U.sibling;return null}function f(W){for(var U=new Map;W!==null;)W.key!==null?U.set(W.key,W):U.set(W.index,W),W=W.sibling;return U}function y(W,U){return W=Fi(W,U),W.index=0,W.sibling=null,W}function w(W,U,X){return W.index=X,s?(X=W.alternate,X!==null?(X=X.index,X<U?(W.flags|=67108866,U):X):(W.flags|=67108866,U)):(W.flags|=1048576,U)}function E(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function R(W,U,X,fe){return U===null||U.tag!==6?(U=zh(X,W.mode,fe),U.return=W,U):(U=y(U,X),U.return=W,U)}function L(W,U,X,fe){var Pe=X.type;return Pe===T?le(W,U,X.props.children,fe,X.key):U!==null&&(U.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===de&&W0(Pe)===U.type)?(U=y(U,X.props),Fu(U,X),U.return=W,U):(U=jd(X.type,X.key,X.props,null,W.mode,fe),Fu(U,X),U.return=W,U)}function Q(W,U,X,fe){return U===null||U.tag!==4||U.stateNode.containerInfo!==X.containerInfo||U.stateNode.implementation!==X.implementation?(U=Vh(X,W.mode,fe),U.return=W,U):(U=y(U,X.children||[]),U.return=W,U)}function le(W,U,X,fe,Pe){return U===null||U.tag!==7?(U=Va(X,W.mode,fe,Pe),U.return=W,U):(U=y(U,X),U.return=W,U)}function he(W,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=zh(""+U,W.mode,X),U.return=W,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return X=jd(U.type,U.key,U.props,null,W.mode,X),Fu(X,U),X.return=W,X;case k:return U=Vh(U,W.mode,X),U.return=W,U;case de:var fe=U._init;return U=fe(U._payload),he(W,U,X)}if(mt(U)||ft(U))return U=Va(U,W.mode,X,null),U.return=W,U;if(typeof U.then=="function")return he(W,tf(U),X);if(U.$$typeof===$)return he(W,Hd(W,U),X);nf(W,U)}return null}function ee(W,U,X,fe){var Pe=U!==null?U.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Pe!==null?null:R(W,U,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===Pe?L(W,U,X,fe):null;case k:return X.key===Pe?Q(W,U,X,fe):null;case de:return Pe=X._init,X=Pe(X._payload),ee(W,U,X,fe)}if(mt(X)||ft(X))return Pe!==null?null:le(W,U,X,fe,null);if(typeof X.then=="function")return ee(W,U,tf(X),fe);if(X.$$typeof===$)return ee(W,U,Hd(W,X),fe);nf(W,X)}return null}function te(W,U,X,fe,Pe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return W=W.get(X)||null,R(U,W,""+fe,Pe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return W=W.get(fe.key===null?X:fe.key)||null,L(U,W,fe,Pe);case k:return W=W.get(fe.key===null?X:fe.key)||null,Q(U,W,fe,Pe);case de:var nt=fe._init;return fe=nt(fe._payload),te(W,U,X,fe,Pe)}if(mt(fe)||ft(fe))return W=W.get(X)||null,le(U,W,fe,Pe,null);if(typeof fe.then=="function")return te(W,U,X,tf(fe),Pe);if(fe.$$typeof===$)return te(W,U,X,Hd(U,fe),Pe);nf(U,fe)}return null}function qe(W,U,X,fe){for(var Pe=null,nt=null,Be=U,Fe=U=0,yn=null;Be!==null&&Fe<X.length;Fe++){Be.index>Fe?(yn=Be,Be=null):yn=Be.sibling;var ct=ee(W,Be,X[Fe],fe);if(ct===null){Be===null&&(Be=yn);break}s&&Be&&ct.alternate===null&&o(W,Be),U=w(ct,U,Fe),nt===null?Pe=ct:nt.sibling=ct,nt=ct,Be=yn}if(Fe===X.length)return u(W,Be),ht&&Ha(W,Fe),Pe;if(Be===null){for(;Fe<X.length;Fe++)Be=he(W,X[Fe],fe),Be!==null&&(U=w(Be,U,Fe),nt===null?Pe=Be:nt.sibling=Be,nt=Be);return ht&&Ha(W,Fe),Pe}for(Be=f(Be);Fe<X.length;Fe++)yn=te(Be,W,Fe,X[Fe],fe),yn!==null&&(s&&yn.alternate!==null&&Be.delete(yn.key===null?Fe:yn.key),U=w(yn,U,Fe),nt===null?Pe=yn:nt.sibling=yn,nt=yn);return s&&Be.forEach(function(na){return o(W,na)}),ht&&Ha(W,Fe),Pe}function He(W,U,X,fe){if(X==null)throw Error(r(151));for(var Pe=null,nt=null,Be=U,Fe=U=0,yn=null,ct=X.next();Be!==null&&!ct.done;Fe++,ct=X.next()){Be.index>Fe?(yn=Be,Be=null):yn=Be.sibling;var na=ee(W,Be,ct.value,fe);if(na===null){Be===null&&(Be=yn);break}s&&Be&&na.alternate===null&&o(W,Be),U=w(na,U,Fe),nt===null?Pe=na:nt.sibling=na,nt=na,Be=yn}if(ct.done)return u(W,Be),ht&&Ha(W,Fe),Pe;if(Be===null){for(;!ct.done;Fe++,ct=X.next())ct=he(W,ct.value,fe),ct!==null&&(U=w(ct,U,Fe),nt===null?Pe=ct:nt.sibling=ct,nt=ct);return ht&&Ha(W,Fe),Pe}for(Be=f(Be);!ct.done;Fe++,ct=X.next())ct=te(Be,W,Fe,ct.value,fe),ct!==null&&(s&&ct.alternate!==null&&Be.delete(ct.key===null?Fe:ct.key),U=w(ct,U,Fe),nt===null?Pe=ct:nt.sibling=ct,nt=ct);return s&&Be.forEach(function(XR){return o(W,XR)}),ht&&Ha(W,Fe),Pe}function kt(W,U,X,fe){if(typeof X=="object"&&X!==null&&X.type===T&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var Pe=X.key;U!==null;){if(U.key===Pe){if(Pe=X.type,Pe===T){if(U.tag===7){u(W,U.sibling),fe=y(U,X.props.children),fe.return=W,W=fe;break e}}else if(U.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===de&&W0(Pe)===U.type){u(W,U.sibling),fe=y(U,X.props),Fu(fe,X),fe.return=W,W=fe;break e}u(W,U);break}else o(W,U);U=U.sibling}X.type===T?(fe=Va(X.props.children,W.mode,fe,X.key),fe.return=W,W=fe):(fe=jd(X.type,X.key,X.props,null,W.mode,fe),Fu(fe,X),fe.return=W,W=fe)}return E(W);case k:e:{for(Pe=X.key;U!==null;){if(U.key===Pe)if(U.tag===4&&U.stateNode.containerInfo===X.containerInfo&&U.stateNode.implementation===X.implementation){u(W,U.sibling),fe=y(U,X.children||[]),fe.return=W,W=fe;break e}else{u(W,U);break}else o(W,U);U=U.sibling}fe=Vh(X,W.mode,fe),fe.return=W,W=fe}return E(W);case de:return Pe=X._init,X=Pe(X._payload),kt(W,U,X,fe)}if(mt(X))return qe(W,U,X,fe);if(ft(X)){if(Pe=ft(X),typeof Pe!="function")throw Error(r(150));return X=Pe.call(X),He(W,U,X,fe)}if(typeof X.then=="function")return kt(W,U,tf(X),fe);if(X.$$typeof===$)return kt(W,U,Hd(W,X),fe);nf(W,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,U!==null&&U.tag===6?(u(W,U.sibling),fe=y(U,X),fe.return=W,W=fe):(u(W,U),fe=zh(X,W.mode,fe),fe.return=W,W=fe),E(W)):u(W,U)}return function(W,U,X,fe){try{Hu=0;var Pe=kt(W,U,X,fe);return al=null,Pe}catch(Be){if(Be===Nu||Be===Kd)throw Be;var nt=lr(29,Be,null,W.mode);return nt.lanes=fe,nt.return=W,nt}finally{}}}var ol=J0(!0),$0=J0(!1),Mr=ce(null),li=null;function Us(s){var o=s.alternate;ke(cn,cn.current&1),ke(Mr,s),li===null&&(o===null||nl.current!==null||o.memoizedState!==null)&&(li=s)}function G0(s){if(s.tag===22){if(ke(cn,cn.current),ke(Mr,s),li===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(li=s)}}else Hs()}function Hs(){ke(cn,cn.current),ke(Mr,Mr.current)}function Gi(s){Ee(Mr),li===s&&(li=null),Ee(cn)}var cn=ce(0);function rf(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||ly(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function wm(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:h({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var bm={enqueueSetState:function(s,o,u){s=s._reactInternals;var f=fr(),y=js(f);y.payload=o,u!=null&&(y.callback=u),o=zs(s,y,f),o!==null&&(pr(o,s,f),_u(o,s,f))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=fr(),y=js(f);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=zs(s,y,f),o!==null&&(pr(o,s,f),_u(o,s,f))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=fr(),f=js(u);f.tag=2,o!=null&&(f.callback=o),o=zs(s,f,u),o!==null&&(pr(o,s,u),_u(o,s,u))}};function Y0(s,o,u,f,y,w,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,E):o.prototype&&o.prototype.isPureReactComponent?!m(u,f)||!m(y,w):!0}function X0(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&bm.enqueueReplaceState(o,o.state,null)}function Ga(s,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(s=s.defaultProps){u===o&&(u=h({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}var sf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Q0(s){sf(s)}function Z0(s){console.error(s)}function eb(s){sf(s)}function af(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function tb(s,o,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Sm(s,o,u){return u=js(u),u.tag=3,u.payload={element:null},u.callback=function(){af(s,o)},u}function nb(s){return s=js(s),s.tag=3,s}function rb(s,o,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var w=f.value;s.payload=function(){return y(w)},s.callback=function(){tb(o,u,f)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){tb(o,u,f),typeof y!="function"&&($s===null?$s=new Set([this]):$s.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function XM(s,o,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Du(o,u,y,!0),u=Mr.current,u!==null){switch(u.tag){case 13:return li===null?qm():u.alternate===null&&Ut===0&&(Ut=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===Yh?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),Jm(s,f,y)),!1;case 22:return u.flags|=65536,f===Yh?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),Jm(s,f,y)),!1}throw Error(r(435,u.tag))}return Jm(s,f,y),qm(),!1}if(ht)return o=Mr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==Fh&&(s=Error(r(422),{cause:f}),Ru(Ie(s,u)))):(f!==Fh&&(o=Error(r(423),{cause:f}),Ru(Ie(o,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,f=Ie(f,u),y=Sm(s.stateNode,f,y),Zh(s,y),Ut!==4&&(Ut=2)),!1;var w=Error(r(520),{cause:f});if(w=Ie(w,u),Yu===null?Yu=[w]:Yu.push(w),Ut!==4&&(Ut=2),o===null)return!0;f=Ie(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=Sm(u.stateNode,f,s),Zh(u,s),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($s===null||!$s.has(w))))return u.flags|=65536,y&=-y,u.lanes|=y,y=nb(y),rb(y,s,u,f),Zh(u,y),!1}u=u.return}while(u!==null);return!1}var ib=Error(r(461)),hn=!1;function Tn(s,o,u,f){o.child=s===null?$0(o,null,u,f):ol(o,s.child,u,f)}function sb(s,o,u,f,y){u=u.render;var w=o.ref;if("ref"in f){var E={};for(var R in f)R!=="ref"&&(E[R]=f[R])}else E=f;return Wa(o),f=im(s,o,u,E,w,y),R=sm(),s!==null&&!hn?(am(s,o,y),Yi(s,o,y)):(ht&&R&&Uh(o),o.flags|=1,Tn(s,o,f,y),o.child)}function ab(s,o,u,f,y){if(s===null){var w=u.type;return typeof w=="function"&&!jh(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,ob(s,o,w,f,y)):(s=jd(u.type,null,f,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!Rm(s,y)){var E=w.memoizedProps;if(u=u.compare,u=u!==null?u:m,u(E,f)&&s.ref===o.ref)return Yi(s,o,y)}return o.flags|=1,s=Fi(w,f),s.ref=o.ref,s.return=o,o.child=s}function ob(s,o,u,f,y){if(s!==null){var w=s.memoizedProps;if(m(w,f)&&s.ref===o.ref)if(hn=!1,o.pendingProps=f=w,Rm(s,y))(s.flags&131072)!==0&&(hn=!0);else return o.lanes=s.lanes,Yi(s,o,y)}return km(s,o,u,f,y)}function lb(s,o,u){var f=o.pendingProps,y=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=w!==null?w.baseLanes|u:u,s!==null){for(y=o.child=s.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;o.childLanes=w&~f}else o.childLanes=0,o.child=null;return ub(s,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Fd(o,w!==null?w.cachePool:null),w!==null?o0(o,w):tm(),G0(o);else return o.lanes=o.childLanes=536870912,ub(s,o,w!==null?w.baseLanes|u:u,u)}else w!==null?(Fd(o,w.cachePool),o0(o,w),Hs(),o.memoizedState=null):(s!==null&&Fd(o,null),tm(),Hs());return Tn(s,o,y,u),o.child}function ub(s,o,u,f){var y=Gh();return y=y===null?null:{parent:un._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},s!==null&&Fd(o,null),tm(),G0(o),s!==null&&Du(s,o,f,!0),null}function of(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function km(s,o,u,f,y){return Wa(o),u=im(s,o,u,f,void 0,y),f=sm(),s!==null&&!hn?(am(s,o,y),Yi(s,o,y)):(ht&&f&&Uh(o),o.flags|=1,Tn(s,o,u,y),o.child)}function cb(s,o,u,f,y,w){return Wa(o),o.updateQueue=null,u=u0(o,f,u,y),l0(s),f=sm(),s!==null&&!hn?(am(s,o,w),Yi(s,o,w)):(ht&&f&&Uh(o),o.flags|=1,Tn(s,o,u,w),o.child)}function db(s,o,u,f,y){if(Wa(o),o.stateNode===null){var w=ai,E=u.contextType;typeof E=="object"&&E!==null&&(w=_n(E)),w=new u(f,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=bm,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=f,w.state=o.memoizedState,w.refs={},Xh(o),E=u.contextType,w.context=typeof E=="object"&&E!==null?_n(E):ai,w.state=o.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(wm(o,u,E,f),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(E=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),E!==w.state&&bm.enqueueReplaceState(w,w.state,null),Iu(o,f,w,y),Bu(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(s===null){w=o.stateNode;var R=o.memoizedProps,L=Ga(u,R);w.props=L;var Q=w.context,le=u.contextType;E=ai,typeof le=="object"&&le!==null&&(E=_n(le));var he=u.getDerivedStateFromProps;le=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R||Q!==E)&&X0(o,w,f,E),Is=!1;var ee=o.memoizedState;w.state=ee,Iu(o,f,w,y),Bu(),Q=o.memoizedState,R||ee!==Q||Is?(typeof he=="function"&&(wm(o,u,he,f),Q=o.memoizedState),(L=Is||Y0(o,u,L,f,ee,Q,E))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Q),w.props=f,w.state=Q,w.context=E,f=L):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,Qh(s,o),E=o.memoizedProps,le=Ga(u,E),w.props=le,he=o.pendingProps,ee=w.context,Q=u.contextType,L=ai,typeof Q=="object"&&Q!==null&&(L=_n(Q)),R=u.getDerivedStateFromProps,(Q=typeof R=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==he||ee!==L)&&X0(o,w,f,L),Is=!1,ee=o.memoizedState,w.state=ee,Iu(o,f,w,y),Bu();var te=o.memoizedState;E!==he||ee!==te||Is||s!==null&&s.dependencies!==null&&Ud(s.dependencies)?(typeof R=="function"&&(wm(o,u,R,f),te=o.memoizedState),(le=Is||Y0(o,u,le,f,ee,te,L)||s!==null&&s.dependencies!==null&&Ud(s.dependencies))?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,te,L),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,te,L)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=te),w.props=f,w.state=te,w.context=L,f=le):(typeof w.componentDidUpdate!="function"||E===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),f=!1)}return w=f,of(s,o),f=(o.flags&128)!==0,w||f?(w=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&f?(o.child=ol(o,s.child,null,y),o.child=ol(o,null,u,y)):Tn(s,o,u,y),o.memoizedState=w.state,s=o.child):s=Yi(s,o,y),s}function fb(s,o,u,f){return Mu(),o.flags|=256,Tn(s,o,u,f),o.child}var Tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xm(s){return{baseLanes:s,cachePool:Zw()}}function Em(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=Rr),s}function pb(s,o,u){var f=o.pendingProps,y=!1,w=(o.flags&128)!==0,E;if((E=w)||(E=s!==null&&s.memoizedState===null?!1:(cn.current&2)!==0),E&&(y=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,s===null){if(ht){if(y?Us(o):Hs(),ht){var R=Vt,L;if(L=R){e:{for(L=R,R=oi;L.nodeType!==8;){if(!R){R=null;break e}if(L=Kr(L.nextSibling),L===null){R=null;break e}}R=L}R!==null?(o.memoizedState={dehydrated:R,treeContext:Ua!==null?{id:Ki,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},L=lr(18,null,null,0),L.stateNode=R,L.return=o,o.child=L,Wn=o,Vt=null,L=!0):L=!1}L||Ka(o)}if(R=o.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return ly(R)?o.lanes=32:o.lanes=536870912,null;Gi(o)}return R=f.children,f=f.fallback,y?(Hs(),y=o.mode,R=lf({mode:"hidden",children:R},y),f=Va(f,y,u,null),R.return=o,f.return=o,R.sibling=f,o.child=R,y=o.child,y.memoizedState=xm(u),y.childLanes=Em(s,E,u),o.memoizedState=Tm,f):(Us(o),Cm(o,R))}if(L=s.memoizedState,L!==null&&(R=L.dehydrated,R!==null)){if(w)o.flags&256?(Us(o),o.flags&=-257,o=Am(s,o,u)):o.memoizedState!==null?(Hs(),o.child=s.child,o.flags|=128,o=null):(Hs(),y=f.fallback,R=o.mode,f=lf({mode:"visible",children:f.children},R),y=Va(y,R,u,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,ol(o,s.child,null,u),f=o.child,f.memoizedState=xm(u),f.childLanes=Em(s,E,u),o.memoizedState=Tm,o=y);else if(Us(o),ly(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var Q=E.dgst;E=Q,f=Error(r(419)),f.stack="",f.digest=E,Ru({value:f,source:null,stack:null}),o=Am(s,o,u)}else if(hn||Du(s,o,u,!1),E=(u&s.childLanes)!==0,hn||E){if(E=Mt,E!==null&&(f=u&-u,f=(f&42)!==0?1:ru(f),f=(f&(E.suspendedLanes|u))!==0?0:f,f!==0&&f!==L.retryLane))throw L.retryLane=f,Hr(s,f),pr(E,s,f),ib;R.data==="$?"||qm(),o=Am(s,o,u)}else R.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=L.treeContext,Vt=Kr(R.nextSibling),Wn=o,ht=!0,Fa=null,oi=!1,s!==null&&(Cr[Ar++]=Ki,Cr[Ar++]=qi,Cr[Ar++]=Ua,Ki=s.id,qi=s.overflow,Ua=o),o=Cm(o,f.children),o.flags|=4096);return o}return y?(Hs(),y=f.fallback,R=o.mode,L=s.child,Q=L.sibling,f=Fi(L,{mode:"hidden",children:f.children}),f.subtreeFlags=L.subtreeFlags&65011712,Q!==null?y=Fi(Q,y):(y=Va(y,R,u,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,R=s.child.memoizedState,R===null?R=xm(u):(L=R.cachePool,L!==null?(Q=un._currentValue,L=L.parent!==Q?{parent:Q,pool:Q}:L):L=Zw(),R={baseLanes:R.baseLanes|u,cachePool:L}),y.memoizedState=R,y.childLanes=Em(s,E,u),o.memoizedState=Tm,f):(Us(o),u=s.child,s=u.sibling,u=Fi(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,s!==null&&(E=o.deletions,E===null?(o.deletions=[s],o.flags|=16):E.push(s)),o.child=u,o.memoizedState=null,u)}function Cm(s,o){return o=lf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function lf(s,o){return s=lr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Am(s,o,u){return ol(o,s.child,null,u),s=Cm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function hb(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),qh(s.return,o,u)}function Mm(s,o,u,f,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=u,w.tailMode=y)}function mb(s,o,u){var f=o.pendingProps,y=f.revealOrder,w=f.tail;if(Tn(s,o,f.children,u),f=cn.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&hb(s,u,o);else if(s.tag===19)hb(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(ke(cn,f),y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&rf(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Mm(o,!1,y,u,w);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&rf(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Mm(o,!0,u,null,w);break;case"together":Mm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Yi(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Js|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(Du(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=Fi(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Fi(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Rm(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Ud(s)))}function QM(s,o,u){switch(o.tag){case 3:At(o,o.stateNode.containerInfo),Bs(o,un,s.memoizedState.cache),Mu();break;case 27:case 5:Co(o);break;case 4:At(o,o.stateNode.containerInfo);break;case 10:Bs(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Us(o),o.flags|=128,null):(u&o.child.childLanes)!==0?pb(s,o,u):(Us(o),s=Yi(s,o,u),s!==null?s.sibling:null);Us(o);break;case 19:var y=(s.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Du(s,o,u,!1),f=(u&o.childLanes)!==0),y){if(f)return mb(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ke(cn,cn.current),f)break;return null;case 22:case 23:return o.lanes=0,lb(s,o,u);case 24:Bs(o,un,s.memoizedState.cache)}return Yi(s,o,u)}function yb(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)hn=!0;else{if(!Rm(s,u)&&(o.flags&128)===0)return hn=!1,QM(s,o,u);hn=(s.flags&131072)!==0}else hn=!1,ht&&(o.flags&1048576)!==0&&Ww(o,Vd,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var f=o.elementType,y=f._init;if(f=y(f._payload),o.type=f,typeof f=="function")jh(f)?(s=Ga(f,s),o.tag=1,o=db(null,o,f,s,u)):(o.tag=0,o=km(null,o,f,s,u));else{if(f!=null){if(y=f.$$typeof,y===ae){o.tag=11,o=sb(null,o,f,s,u);break e}else if(y===pe){o.tag=14,o=ab(null,o,f,s,u);break e}}throw o=wt(f)||f,Error(r(306,o,""))}}return o;case 0:return km(s,o,o.type,o.pendingProps,u);case 1:return f=o.type,y=Ga(f,o.pendingProps),db(s,o,f,y,u);case 3:e:{if(At(o,o.stateNode.containerInfo),s===null)throw Error(r(387));f=o.pendingProps;var w=o.memoizedState;y=w.element,Qh(s,o),Iu(o,f,null,u);var E=o.memoizedState;if(f=E.cache,Bs(o,un,f),f!==w.cache&&Wh(o,[un],u,!0),Bu(),f=E.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=fb(s,o,f,u);break e}else if(f!==y){y=Ie(Error(r(424)),o),Ru(y),o=fb(s,o,f,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Vt=Kr(s.firstChild),Wn=o,ht=!0,Fa=null,oi=!0,u=$0(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Mu(),f===y){o=Yi(s,o,u);break e}Tn(s,o,f,u)}o=o.child}return o;case 26:return of(s,o),s===null?(u=bS(o.type,null,o.pendingProps,null))?o.memoizedState=u:ht||(u=o.type,s=o.pendingProps,f=kf(Ve.current).createElement(u),f[Jt]=o,f[et]=s,En(f,u,s),Tt(f),o.stateNode=f):o.memoizedState=bS(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Co(o),s===null&&ht&&(f=o.stateNode=gS(o.type,o.pendingProps,Ve.current),Wn=o,oi=!0,y=Vt,Xs(o.type)?(uy=y,Vt=Kr(f.firstChild)):Vt=y),Tn(s,o,o.pendingProps.children,u),of(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ht&&((y=f=Vt)&&(f=CR(f,o.type,o.pendingProps,oi),f!==null?(o.stateNode=f,Wn=o,Vt=Kr(f.firstChild),oi=!1,y=!0):y=!1),y||Ka(o)),Co(o),y=o.type,w=o.pendingProps,E=s!==null?s.memoizedProps:null,f=w.children,sy(y,w)?f=null:E!==null&&sy(y,E)&&(o.flags|=32),o.memoizedState!==null&&(y=im(s,o,KM,null,null,u),sc._currentValue=y),of(s,o),Tn(s,o,f,u),o.child;case 6:return s===null&&ht&&((s=u=Vt)&&(u=AR(u,o.pendingProps,oi),u!==null?(o.stateNode=u,Wn=o,Vt=null,s=!0):s=!1),s||Ka(o)),null;case 13:return pb(s,o,u);case 4:return At(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=ol(o,null,f,u):Tn(s,o,f,u),o.child;case 11:return sb(s,o,o.type,o.pendingProps,u);case 7:return Tn(s,o,o.pendingProps,u),o.child;case 8:return Tn(s,o,o.pendingProps.children,u),o.child;case 12:return Tn(s,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Bs(o,o.type,f.value),Tn(s,o,f.children,u),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Wa(o),y=_n(y),f=f(y),o.flags|=1,Tn(s,o,f,u),o.child;case 14:return ab(s,o,o.type,o.pendingProps,u);case 15:return ob(s,o,o.type,o.pendingProps,u);case 19:return mb(s,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},s===null?(u=lf(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Fi(s.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return lb(s,o,u);case 24:return Wa(o),f=_n(un),s===null?(y=Gh(),y===null&&(y=Mt,w=Jh(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=u),y=w),o.memoizedState={parent:f,cache:y},Xh(o),Bs(o,un,y)):((s.lanes&u)!==0&&(Qh(s,o),Iu(o,null,null,u),Bu()),y=s.memoizedState,w=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Bs(o,un,f)):(f=w.cache,Bs(o,un,f),f!==y.cache&&Wh(o,[un],u,!0))),Tn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Xi(s){s.flags|=4}function gb(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ES(o)){if(o=Mr.current,o!==null&&((lt&4194048)===lt?li!==null:(lt&62914560)!==lt&&(lt&536870912)===0||o!==li))throw Lu=Yh,e0;s.flags|=8192}}function uf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ce():536870912,s.lanes|=o,dl|=o)}function Ku(s,o){if(!ht)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Bt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function ZM(s,o,u){var f=o.pendingProps;switch(Hh(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(o),null;case 1:return Bt(o),null;case 3:return u=o.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ji(un),Le(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Au(o)?Xi(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gw())),Bt(o),null;case 26:return u=o.memoizedState,s===null?(Xi(o),u!==null?(Bt(o),gb(o,u)):(Bt(o),o.flags&=-16777217)):u?u!==s.memoizedState?(Xi(o),Bt(o),gb(o,u)):(Bt(o),o.flags&=-16777217):(s.memoizedProps!==f&&Xi(o),Bt(o),o.flags&=-16777217),null;case 27:xi(o),u=Ve.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==f&&Xi(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Bt(o),null}s=_e.current,Au(o)?Jw(o):(s=gS(y,f,u),o.stateNode=s,Xi(o))}return Bt(o),null;case 5:if(xi(o),u=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==f&&Xi(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Bt(o),null}if(s=_e.current,Au(o))Jw(o);else{switch(y=kf(Ve.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?y.createElement(u,{is:f.is}):y.createElement(u)}}s[Jt]=o,s[et]=f;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;e:switch(En(s,u,f),u){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Xi(o)}}return Bt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==f&&Xi(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(s=Ve.current,Au(o)){if(s=o.stateNode,u=o.memoizedProps,f=null,y=Wn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}s[Jt]=o,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||cS(s.nodeValue,u)),s||Ka(o)}else s=kf(s).createTextNode(f),s[Jt]=o,o.stateNode=s}return Bt(o),null;case 13:if(f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Au(o),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Jt]=o}else Mu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bt(o),y=!1}else y=Gw(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Gi(o),o):(Gi(o),null)}if(Gi(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,s=s!==null&&s.memoizedState!==null,u){f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==y&&(f.flags|=2048)}return u!==s&&u&&(o.child.flags|=8192),uf(o,o.updateQueue),Bt(o),null;case 4:return Le(),s===null&&ey(o.stateNode.containerInfo),Bt(o),null;case 10:return Ji(o.type),Bt(o),null;case 19:if(Ee(cn),y=o.memoizedState,y===null)return Bt(o),null;if(f=(o.flags&128)!==0,w=y.rendering,w===null)if(f)Ku(y,!1);else{if(Ut!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=rf(s),w!==null){for(o.flags|=128,Ku(y,!1),s=w.updateQueue,o.updateQueue=s,uf(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)qw(u,s),u=u.sibling;return ke(cn,cn.current&1|2),o.child}s=s.sibling}y.tail!==null&&gr()>ff&&(o.flags|=128,f=!0,Ku(y,!1),o.lanes=4194304)}else{if(!f)if(s=rf(w),s!==null){if(o.flags|=128,f=!0,s=s.updateQueue,o.updateQueue=s,uf(o,s),Ku(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!ht)return Bt(o),null}else 2*gr()-y.renderingStartTime>ff&&u!==536870912&&(o.flags|=128,f=!0,Ku(y,!1),o.lanes=4194304);y.isBackwards?(w.sibling=o.child,o.child=w):(s=y.last,s!==null?s.sibling=w:o.child=w,y.last=w)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=gr(),o.sibling=null,s=cn.current,ke(cn,f?s&1|2:s&1),o):(Bt(o),null);case 22:case 23:return Gi(o),nm(),f=o.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Bt(o),o.subtreeFlags&6&&(o.flags|=8192)):Bt(o),u=o.updateQueue,u!==null&&uf(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),s!==null&&Ee(Ja),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ji(un),Bt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function eR(s,o){switch(Hh(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ji(un),Le(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return xi(o),null;case 13:if(Gi(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Mu()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ee(cn),null;case 4:return Le(),null;case 10:return Ji(o.type),null;case 22:case 23:return Gi(o),nm(),s!==null&&Ee(Ja),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ji(un),null;case 25:return null;default:return null}}function vb(s,o){switch(Hh(o),o.tag){case 3:Ji(un),Le();break;case 26:case 27:case 5:xi(o);break;case 4:Le();break;case 13:Gi(o);break;case 19:Ee(cn);break;case 10:Ji(o.type);break;case 22:case 23:Gi(o),nm(),s!==null&&Ee(Ja);break;case 24:Ji(un)}}function qu(s,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&s)===s){f=void 0;var w=u.create,E=u.inst;f=w(),E.destroy=f}u=u.next}while(u!==y)}}catch(R){Et(o,o.return,R)}}function Fs(s,o,u){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var w=y.next;f=w;do{if((f.tag&s)===s){var E=f.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,y=o;var L=u,Q=R;try{Q()}catch(le){Et(y,L,le)}}}f=f.next}while(f!==w)}}catch(le){Et(o,o.return,le)}}function wb(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{a0(o,u)}catch(f){Et(s,s.return,f)}}}function bb(s,o,u){u.props=Ga(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){Et(s,o,f)}}function Wu(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(y){Et(s,o,y)}}function ui(s,o){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){Et(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Et(s,o,y)}else u.current=null}function Sb(s){var o=s.type,u=s.memoizedProps,f=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){Et(s,s.return,y)}}function Dm(s,o,u){try{var f=s.stateNode;SR(f,s.type,u,o),f[et]=o}catch(y){Et(s,s.return,y)}}function kb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xs(s.type)||s.tag===4}function Pm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||kb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Om(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Sf));else if(f!==4&&(f===27&&Xs(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(Om(s,o,u),s=s.sibling;s!==null;)Om(s,o,u),s=s.sibling}function cf(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(f===27&&Xs(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(cf(s,o,u),s=s.sibling;s!==null;)cf(s,o,u),s=s.sibling}function Tb(s){var o=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);En(o,f,u),o[Jt]=s,o[et]=u}catch(w){Et(s,s.return,w)}}var Qi=!1,Yt=!1,Nm=!1,xb=typeof WeakSet=="function"?WeakSet:Set,mn=null;function tR(s,o){if(s=s.containerInfo,ry=Mf,s=C(s),M(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var E=0,R=-1,L=-1,Q=0,le=0,he=s,ee=null;t:for(;;){for(var te;he!==u||y!==0&&he.nodeType!==3||(R=E+y),he!==w||f!==0&&he.nodeType!==3||(L=E+f),he.nodeType===3&&(E+=he.nodeValue.length),(te=he.firstChild)!==null;)ee=he,he=te;for(;;){if(he===s)break t;if(ee===u&&++Q===y&&(R=E),ee===w&&++le===f&&(L=E),(te=he.nextSibling)!==null)break;he=ee,ee=he.parentNode}he=te}u=R===-1||L===-1?null:{start:R,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(iy={focusedElem:s,selectionRange:u},Mf=!1,mn=o;mn!==null;)if(o=mn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,mn=s;else for(;mn!==null;){switch(o=mn,w=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,u=o,y=w.memoizedProps,w=w.memoizedState,f=u.stateNode;try{var qe=Ga(u.type,y,u.elementType===u.type);s=f.getSnapshotBeforeUpdate(qe,w),f.__reactInternalSnapshotBeforeUpdate=s}catch(He){Et(u,u.return,He)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)oy(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":oy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,mn=s;break}mn=o.return}}function Eb(s,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ks(s,u),f&4&&qu(5,u);break;case 1:if(Ks(s,u),f&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(E){Et(u,u.return,E)}else{var y=Ga(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(E){Et(u,u.return,E)}}f&64&&wb(u),f&512&&Wu(u,u.return);break;case 3:if(Ks(s,u),f&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{a0(s,o)}catch(E){Et(u,u.return,E)}}break;case 27:o===null&&f&4&&Tb(u);case 26:case 5:Ks(s,u),o===null&&f&4&&Sb(u),f&512&&Wu(u,u.return);break;case 12:Ks(s,u);break;case 13:Ks(s,u),f&4&&Mb(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=cR.bind(null,u),MR(s,u))));break;case 22:if(f=u.memoizedState!==null||Qi,!f){o=o!==null&&o.memoizedState!==null||Yt,y=Qi;var w=Yt;Qi=f,(Yt=o)&&!w?qs(s,u,(u.subtreeFlags&8772)!==0):Ks(s,u),Qi=y,Yt=w}break;case 30:break;default:Ks(s,u)}}function Cb(s){var o=s.alternate;o!==null&&(s.alternate=null,Cb(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&br(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Nt=null,Zn=!1;function Zi(s,o,u){for(u=u.child;u!==null;)Ab(s,o,u),u=u.sibling}function Ab(s,o,u){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ir,u)}catch{}switch(u.tag){case 26:Yt||ui(u,o),Zi(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Yt||ui(u,o);var f=Nt,y=Zn;Xs(u.type)&&(Nt=u.stateNode,Zn=!1),Zi(s,o,u),tc(u.stateNode),Nt=f,Zn=y;break;case 5:Yt||ui(u,o);case 6:if(f=Nt,y=Zn,Nt=null,Zi(s,o,u),Nt=f,Zn=y,Nt!==null)if(Zn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(u.stateNode)}catch(w){Et(u,o,w)}else try{Nt.removeChild(u.stateNode)}catch(w){Et(u,o,w)}break;case 18:Nt!==null&&(Zn?(s=Nt,mS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),uc(s)):mS(Nt,u.stateNode));break;case 4:f=Nt,y=Zn,Nt=u.stateNode.containerInfo,Zn=!0,Zi(s,o,u),Nt=f,Zn=y;break;case 0:case 11:case 14:case 15:Yt||Fs(2,u,o),Yt||Fs(4,u,o),Zi(s,o,u);break;case 1:Yt||(ui(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&bb(u,o,f)),Zi(s,o,u);break;case 21:Zi(s,o,u);break;case 22:Yt=(f=Yt)||u.memoizedState!==null,Zi(s,o,u),Yt=f;break;default:Zi(s,o,u)}}function Mb(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{uc(s)}catch(u){Et(o,o.return,u)}}function nR(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new xb),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new xb),o;default:throw Error(r(435,s.tag))}}function Lm(s,o){var u=nR(s);o.forEach(function(f){var y=dR.bind(null,s,f);u.has(f)||(u.add(f),f.then(y,y))})}function ur(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],w=s,E=o,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(Xs(R.type)){Nt=R.stateNode,Zn=!1;break e}break;case 5:Nt=R.stateNode,Zn=!1;break e;case 3:case 4:Nt=R.stateNode.containerInfo,Zn=!0;break e}R=R.return}if(Nt===null)throw Error(r(160));Ab(w,E,y),Nt=null,Zn=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Rb(o,s),o=o.sibling}var Fr=null;function Rb(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ur(o,s),cr(s),f&4&&(Fs(3,s,s.return),qu(3,s),Fs(5,s,s.return));break;case 1:ur(o,s),cr(s),f&512&&(Yt||u===null||ui(u,u.return)),f&64&&Qi&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=Fr;if(ur(o,s),cr(s),f&512&&(Yt||u===null||ui(u,u.return)),f&4){var w=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){e:{f=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Pa]||w[Jt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(f),y.head.insertBefore(w,y.querySelector("head > title"))),En(w,f,u),w[Jt]=s,Tt(w),f=w;break e;case"link":var E=TS("link","href",y).get(f+(u.href||""));if(E){for(var R=0;R<E.length;R++)if(w=E[R],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(R,1);break t}}w=y.createElement(f),En(w,f,u),y.head.appendChild(w);break;case"meta":if(E=TS("meta","content",y).get(f+(u.content||""))){for(R=0;R<E.length;R++)if(w=E[R],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(R,1);break t}}w=y.createElement(f),En(w,f,u),y.head.appendChild(w);break;default:throw Error(r(468,f))}w[Jt]=s,Tt(w),f=w}s.stateNode=f}else xS(y,s.type,s.stateNode);else s.stateNode=kS(y,f,s.memoizedProps);else w!==f?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,f===null?xS(y,s.type,s.stateNode):kS(y,f,s.memoizedProps)):f===null&&s.stateNode!==null&&Dm(s,s.memoizedProps,u.memoizedProps)}break;case 27:ur(o,s),cr(s),f&512&&(Yt||u===null||ui(u,u.return)),u!==null&&f&4&&Dm(s,s.memoizedProps,u.memoizedProps);break;case 5:if(ur(o,s),cr(s),f&512&&(Yt||u===null||ui(u,u.return)),s.flags&32){y=s.stateNode;try{Cs(y,"")}catch(te){Et(s,s.return,te)}}f&4&&s.stateNode!=null&&(y=s.memoizedProps,Dm(s,y,u!==null?u.memoizedProps:y)),f&1024&&(Nm=!0);break;case 6:if(ur(o,s),cr(s),f&4){if(s.stateNode===null)throw Error(r(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(te){Et(s,s.return,te)}}break;case 3:if(Ef=null,y=Fr,Fr=Tf(o.containerInfo),ur(o,s),Fr=y,cr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{uc(o.containerInfo)}catch(te){Et(s,s.return,te)}Nm&&(Nm=!1,Db(s));break;case 4:f=Fr,Fr=Tf(s.stateNode.containerInfo),ur(o,s),cr(s),Fr=f;break;case 12:ur(o,s),cr(s);break;case 13:ur(o,s),cr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Vm=gr()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Lm(s,f)));break;case 22:y=s.memoizedState!==null;var L=u!==null&&u.memoizedState!==null,Q=Qi,le=Yt;if(Qi=Q||y,Yt=le||L,ur(o,s),Yt=le,Qi=Q,cr(s),f&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||L||Qi||Yt||Ya(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){L=u=o;try{if(w=L.stateNode,y)E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=L.stateNode;var he=L.memoizedProps.style,ee=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Et(L,L.return,te)}}}else if(o.tag===6){if(u===null){L=o;try{L.stateNode.nodeValue=y?"":L.memoizedProps}catch(te){Et(L,L.return,te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Lm(s,u))));break;case 19:ur(o,s),cr(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Lm(s,f)));break;case 30:break;case 21:break;default:ur(o,s),cr(s)}}function cr(s){var o=s.flags;if(o&2){try{for(var u,f=s.return;f!==null;){if(kb(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,w=Pm(s);cf(s,w,y);break;case 5:var E=u.stateNode;u.flags&32&&(Cs(E,""),u.flags&=-33);var R=Pm(s);cf(s,R,E);break;case 3:case 4:var L=u.stateNode.containerInfo,Q=Pm(s);Om(s,Q,L);break;default:throw Error(r(161))}}catch(le){Et(s,s.return,le)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Db(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Db(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ks(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Eb(s,o.alternate,o),o=o.sibling}function Ya(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Fs(4,o,o.return),Ya(o);break;case 1:ui(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&bb(o,o.return,u),Ya(o);break;case 27:tc(o.stateNode);case 26:case 5:ui(o,o.return),Ya(o);break;case 22:o.memoizedState===null&&Ya(o);break;case 30:Ya(o);break;default:Ya(o)}s=s.sibling}}function qs(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=s,w=o,E=w.flags;switch(w.tag){case 0:case 11:case 15:qs(y,w,u),qu(4,w);break;case 1:if(qs(y,w,u),f=w,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Q){Et(f,f.return,Q)}if(f=w,y=f.updateQueue,y!==null){var R=f.stateNode;try{var L=y.shared.hiddenCallbacks;if(L!==null)for(y.shared.hiddenCallbacks=null,y=0;y<L.length;y++)s0(L[y],R)}catch(Q){Et(f,f.return,Q)}}u&&E&64&&wb(w),Wu(w,w.return);break;case 27:Tb(w);case 26:case 5:qs(y,w,u),u&&f===null&&E&4&&Sb(w),Wu(w,w.return);break;case 12:qs(y,w,u);break;case 13:qs(y,w,u),u&&E&4&&Mb(y,w);break;case 22:w.memoizedState===null&&qs(y,w,u),Wu(w,w.return);break;case 30:break;default:qs(y,w,u)}o=o.sibling}}function _m(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Pu(u))}function Bm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pu(s))}function ci(s,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Pb(s,o,u,f),o=o.sibling}function Pb(s,o,u,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ci(s,o,u,f),y&2048&&qu(9,o);break;case 1:ci(s,o,u,f);break;case 3:ci(s,o,u,f),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pu(s)));break;case 12:if(y&2048){ci(s,o,u,f),s=o.stateNode;try{var w=o.memoizedProps,E=w.id,R=w.onPostCommit;typeof R=="function"&&R(E,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){Et(o,o.return,L)}}else ci(s,o,u,f);break;case 13:ci(s,o,u,f);break;case 23:break;case 22:w=o.stateNode,E=o.alternate,o.memoizedState!==null?w._visibility&2?ci(s,o,u,f):Ju(s,o):w._visibility&2?ci(s,o,u,f):(w._visibility|=2,ll(s,o,u,f,(o.subtreeFlags&10256)!==0)),y&2048&&_m(E,o);break;case 24:ci(s,o,u,f),y&2048&&Bm(o.alternate,o);break;default:ci(s,o,u,f)}}function ll(s,o,u,f,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=s,E=o,R=u,L=f,Q=E.flags;switch(E.tag){case 0:case 11:case 15:ll(w,E,R,L,y),qu(8,E);break;case 23:break;case 22:var le=E.stateNode;E.memoizedState!==null?le._visibility&2?ll(w,E,R,L,y):Ju(w,E):(le._visibility|=2,ll(w,E,R,L,y)),y&&Q&2048&&_m(E.alternate,E);break;case 24:ll(w,E,R,L,y),y&&Q&2048&&Bm(E.alternate,E);break;default:ll(w,E,R,L,y)}o=o.sibling}}function Ju(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,f=o,y=f.flags;switch(f.tag){case 22:Ju(u,f),y&2048&&_m(f.alternate,f);break;case 24:Ju(u,f),y&2048&&Bm(f.alternate,f);break;default:Ju(u,f)}o=o.sibling}}var $u=8192;function ul(s){if(s.subtreeFlags&$u)for(s=s.child;s!==null;)Ob(s),s=s.sibling}function Ob(s){switch(s.tag){case 26:ul(s),s.flags&$u&&s.memoizedState!==null&&UR(Fr,s.memoizedState,s.memoizedProps);break;case 5:ul(s);break;case 3:case 4:var o=Fr;Fr=Tf(s.stateNode.containerInfo),ul(s),Fr=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=$u,$u=16777216,ul(s),$u=o):ul(s));break;default:ul(s)}}function Nb(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Gu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];mn=f,_b(f,s)}Nb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lb(s),s=s.sibling}function Lb(s){switch(s.tag){case 0:case 11:case 15:Gu(s),s.flags&2048&&Fs(9,s,s.return);break;case 3:Gu(s);break;case 12:Gu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,df(s)):Gu(s);break;default:Gu(s)}}function df(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];mn=f,_b(f,s)}Nb(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Fs(8,o,o.return),df(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,df(o));break;default:df(o)}s=s.sibling}}function _b(s,o){for(;mn!==null;){var u=mn;switch(u.tag){case 0:case 11:case 15:Fs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Pu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,mn=f;else e:for(u=s;mn!==null;){f=mn;var y=f.sibling,w=f.return;if(Cb(f),f===u){mn=null;break e}if(y!==null){y.return=w,mn=y;break e}mn=w}}}var rR={getCacheForType:function(s){var o=_n(un),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u}},iR=typeof WeakMap=="function"?WeakMap:Map,yt=0,Mt=null,st=null,lt=0,gt=0,dr=null,Ws=!1,cl=!1,Im=!1,es=0,Ut=0,Js=0,Xa=0,jm=0,Rr=0,dl=0,Yu=null,er=null,zm=!1,Vm=0,ff=1/0,pf=null,$s=null,xn=0,Gs=null,fl=null,pl=0,Um=0,Hm=null,Bb=null,Xu=0,Fm=null;function fr(){if((yt&2)!==0&&lt!==0)return lt&-lt;if(se.T!==null){var s=el;return s!==0?s:Ym()}return Di()}function Ib(){Rr===0&&(Rr=(lt&536870912)===0||ht?Ma():536870912);var s=Mr.current;return s!==null&&(s.flags|=32),Rr}function pr(s,o,u){(s===Mt&&(gt===2||gt===9)||s.cancelPendingCommit!==null)&&(hl(s,0),Ys(s,lt,Rr,!1)),vs(s,u),((yt&2)===0||s!==Mt)&&(s===Mt&&((yt&2)===0&&(Xa|=u),Ut===4&&Ys(s,lt,Rr,!1)),di(s))}function jb(s,o,u){if((yt&6)!==0)throw Error(r(327));var f=!u&&(o&124)===0&&(o&s.expiredLanes)===0||zr(s,o),y=f?oR(s,o):Wm(s,o,!0),w=f;do{if(y===0){cl&&!f&&Ys(s,o,0,!1);break}else{if(u=s.current.alternate,w&&!sR(u)){y=Wm(s,o,!1),w=!1;continue}if(y===2){if(w=o,s.errorRecoveryDisabledLanes&w)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var R=s;y=Yu;var L=R.current.memoizedState.isDehydrated;if(L&&(hl(R,E).flags|=256),E=Wm(R,E,!1),E!==2){if(Im&&!L){R.errorRecoveryDisabledLanes|=w,Xa|=w,y=4;break e}w=er,er=y,w!==null&&(er===null?er=w:er.push.apply(er,w))}y=E}if(w=!1,y!==2)continue}}if(y===1){hl(s,0),Ys(s,o,0,!0);break}e:{switch(f=s,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ys(f,o,Rr,!Ws);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Vm+300-gr(),10<y)){if(Ys(f,o,Rr,!Ws),Oe(f,0,!0)!==0)break e;f.timeoutHandle=pS(zb.bind(null,f,u,er,pf,zm,o,Rr,Xa,dl,Ws,w,2,-0,0),y);break e}zb(f,u,er,pf,zm,o,Rr,Xa,dl,Ws,w,0,-0,0)}}break}while(!0);di(s)}function zb(s,o,u,f,y,w,E,R,L,Q,le,he,ee,te){if(s.timeoutHandle=-1,he=o.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(ic={stylesheets:null,count:0,unsuspend:VR},Ob(o),he=HR(),he!==null)){s.cancelPendingCommit=he(Wb.bind(null,s,o,w,u,f,y,E,R,L,le,1,ee,te)),Ys(s,w,E,!Q);return}Wb(s,o,w,u,f,y,E,R,L)}function sR(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],w=y.getSnapshot;y=y.value;try{if(!Ln(w(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ys(s,o,u,f){o&=~jm,o&=~Xa,s.suspendedLanes|=o,s.pingedLanes&=~o,f&&(s.warmLanes|=o),f=s.expirationTimes;for(var y=o;0<y;){var w=31-ln(y),E=1<<w;f[w]=-1,y&=~E}u!==0&&nu(s,u,o)}function hf(){return(yt&6)===0?(Qu(0),!1):!0}function Km(){if(st!==null){if(gt===0)var s=st.return;else s=st,Wi=qa=null,om(s),al=null,Hu=0,s=st;for(;s!==null;)vb(s.alternate,s),s=s.return;st=null}}function hl(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,TR(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Km(),Mt=s,st=u=Fi(s.current,null),lt=o,gt=0,dr=null,Ws=!1,cl=zr(s,o),Im=!1,dl=Rr=jm=Xa=Js=Ut=0,er=Yu=null,zm=!1,(o&8)!==0&&(o|=o&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=o;0<f;){var y=31-ln(f),w=1<<y;o|=s[y],f&=~w}return es=o,Ke(),u}function Vb(s,o){tt=null,se.H=ef,o===Nu||o===Kd?(o=r0(),gt=3):o===e0?(o=r0(),gt=4):gt=o===ib?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,dr=o,st===null&&(Ut=1,af(s,Ie(o,s.current)))}function Ub(){var s=se.H;return se.H=ef,s===null?ef:s}function Hb(){var s=se.A;return se.A=rR,s}function qm(){Ut=4,Ws||(lt&4194048)!==lt&&Mr.current!==null||(cl=!0),(Js&134217727)===0&&(Xa&134217727)===0||Mt===null||Ys(Mt,lt,Rr,!1)}function Wm(s,o,u){var f=yt;yt|=2;var y=Ub(),w=Hb();(Mt!==s||lt!==o)&&(pf=null,hl(s,o)),o=!1;var E=Ut;e:do try{if(gt!==0&&st!==null){var R=st,L=dr;switch(gt){case 8:Km(),E=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(o=!0);var Q=gt;if(gt=0,dr=null,ml(s,R,L,Q),u&&cl){E=0;break e}break;default:Q=gt,gt=0,dr=null,ml(s,R,L,Q)}}aR(),E=Ut;break}catch(le){Vb(s,le)}while(!0);return o&&s.shellSuspendCounter++,Wi=qa=null,yt=f,se.H=y,se.A=w,st===null&&(Mt=null,lt=0,Ke()),E}function aR(){for(;st!==null;)Fb(st)}function oR(s,o){var u=yt;yt|=2;var f=Ub(),y=Hb();Mt!==s||lt!==o?(pf=null,ff=gr()+500,hl(s,o)):cl=zr(s,o);e:do try{if(gt!==0&&st!==null){o=st;var w=dr;t:switch(gt){case 1:gt=0,dr=null,ml(s,o,w,1);break;case 2:case 9:if(t0(w)){gt=0,dr=null,Kb(o);break}o=function(){gt!==2&&gt!==9||Mt!==s||(gt=7),di(s)},w.then(o,o);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:t0(w)?(gt=0,dr=null,Kb(o)):(gt=0,dr=null,ml(s,o,w,7));break;case 5:var E=null;switch(st.tag){case 26:E=st.memoizedState;case 5:case 27:var R=st;if(!E||ES(E)){gt=0,dr=null;var L=R.sibling;if(L!==null)st=L;else{var Q=R.return;Q!==null?(st=Q,mf(Q)):st=null}break t}}gt=0,dr=null,ml(s,o,w,5);break;case 6:gt=0,dr=null,ml(s,o,w,6);break;case 8:Km(),Ut=6;break e;default:throw Error(r(462))}}lR();break}catch(le){Vb(s,le)}while(!0);return Wi=qa=null,se.H=f,se.A=y,yt=u,st!==null?0:(Mt=null,lt=0,Ke(),Ut)}function lR(){for(;st!==null&&!Ci();)Fb(st)}function Fb(s){var o=yb(s.alternate,s,es);s.memoizedProps=s.pendingProps,o===null?mf(s):st=o}function Kb(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=cb(u,o,o.pendingProps,o.type,void 0,lt);break;case 11:o=cb(u,o,o.pendingProps,o.type.render,o.ref,lt);break;case 5:om(o);default:vb(u,o),o=st=qw(o,es),o=yb(u,o,es)}s.memoizedProps=s.pendingProps,o===null?mf(s):st=o}function ml(s,o,u,f){Wi=qa=null,om(o),al=null,Hu=0;var y=o.return;try{if(XM(s,y,o,u,lt)){Ut=1,af(s,Ie(u,s.current)),st=null;return}}catch(w){if(y!==null)throw st=y,w;Ut=1,af(s,Ie(u,s.current)),st=null;return}o.flags&32768?(ht||f===1?s=!0:cl||(lt&536870912)!==0?s=!1:(Ws=s=!0,(f===2||f===9||f===3||f===6)&&(f=Mr.current,f!==null&&f.tag===13&&(f.flags|=16384))),qb(o,s)):mf(o)}function mf(s){var o=s;do{if((o.flags&32768)!==0){qb(o,Ws);return}s=o.return;var u=ZM(o.alternate,o,es);if(u!==null){st=u;return}if(o=o.sibling,o!==null){st=o;return}st=o=s}while(o!==null);Ut===0&&(Ut=5)}function qb(s,o){do{var u=eR(s.alternate,s);if(u!==null){u.flags&=32767,st=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){st=s;return}st=s=u}while(s!==null);Ut=6,st=null}function Wb(s,o,u,f,y,w,E,R,L){s.cancelPendingCommit=null;do yf();while(xn!==0);if((yt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=kn,tu(s,u,w,E,R,L),s===Mt&&(st=Mt=null,lt=0),fl=o,Gs=s,pl=u,Um=w,Hm=y,Bb=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,fR(Un,function(){return Xb(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=se.T,se.T=null,y=me.p,me.p=2,E=yt,yt|=4;try{tR(s,o,u)}finally{yt=E,me.p=y,se.T=f}}xn=1,Jb(),$b(),Gb()}}function Jb(){if(xn===1){xn=0;var s=Gs,o=fl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=se.T,se.T=null;var f=me.p;me.p=2;var y=yt;yt|=4;try{Rb(o,s);var w=iy,E=C(s.containerInfo),R=w.focusedElem,L=w.selectionRange;if(E!==R&&R&&R.ownerDocument&&x(R.ownerDocument.documentElement,R)){if(L!==null&&M(R)){var Q=L.start,le=L.end;if(le===void 0&&(le=Q),"selectionStart"in R)R.selectionStart=Q,R.selectionEnd=Math.min(le,R.value.length);else{var he=R.ownerDocument||document,ee=he&&he.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),qe=R.textContent.length,He=Math.min(L.start,qe),kt=L.end===void 0?He:Math.min(L.end,qe);!te.extend&&He>kt&&(E=kt,kt=He,He=E);var W=S(R,He),U=S(R,kt);if(W&&U&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==U.node||te.focusOffset!==U.offset)){var X=he.createRange();X.setStart(W.node,W.offset),te.removeAllRanges(),He>kt?(te.addRange(X),te.extend(U.node,U.offset)):(X.setEnd(U.node,U.offset),te.addRange(X))}}}}for(he=[],te=R;te=te.parentNode;)te.nodeType===1&&he.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var fe=he[R];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Mf=!!ry,iy=ry=null}finally{yt=y,me.p=f,se.T=u}}s.current=o,xn=2}}function $b(){if(xn===2){xn=0;var s=Gs,o=fl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=se.T,se.T=null;var f=me.p;me.p=2;var y=yt;yt|=4;try{Eb(s,o.alternate,o)}finally{yt=y,me.p=f,se.T=u}}xn=3}}function Gb(){if(xn===4||xn===3){xn=0,Ph();var s=Gs,o=fl,u=pl,f=Bb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?xn=5:(xn=0,fl=Gs=null,Yb(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&($s=null),iu(u),o=o.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ir,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=se.T,y=me.p,me.p=2,se.T=null;try{for(var w=s.onRecoverableError,E=0;E<f.length;E++){var R=f[E];w(R.value,{componentStack:R.stack})}}finally{se.T=o,me.p=y}}(pl&3)!==0&&yf(),di(s),y=s.pendingLanes,(u&4194090)!==0&&(y&42)!==0?s===Fm?Xu++:(Xu=0,Fm=s):Xu=0,Qu(0)}}function Yb(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Pu(o)))}function yf(s){return Jb(),$b(),Gb(),Xb()}function Xb(){if(xn!==5)return!1;var s=Gs,o=Um;Um=0;var u=iu(pl),f=se.T,y=me.p;try{me.p=32>u?32:u,se.T=null,u=Hm,Hm=null;var w=Gs,E=pl;if(xn=0,fl=Gs=null,pl=0,(yt&6)!==0)throw Error(r(331));var R=yt;if(yt|=4,Lb(w.current),Pb(w,w.current,E,u),yt=R,Qu(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ir,w)}catch{}return!0}finally{me.p=y,se.T=f,Yb(s,o)}}function Qb(s,o,u){o=Ie(u,o),o=Sm(s.stateNode,o,2),s=zs(s,o,2),s!==null&&(vs(s,2),di(s))}function Et(s,o,u){if(s.tag===3)Qb(s,s,u);else for(;o!==null;){if(o.tag===3){Qb(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))){s=Ie(u,s),u=nb(2),f=zs(o,u,2),f!==null&&(rb(u,f,o,s),vs(f,2),di(f));break}}o=o.return}}function Jm(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new iR;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(u)||(Im=!0,y.add(u),s=uR.bind(null,s,o,u),o.then(s,s))}function uR(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Mt===s&&(lt&u)===u&&(Ut===4||Ut===3&&(lt&62914560)===lt&&300>gr()-Vm?(yt&2)===0&&hl(s,0):jm|=u,dl===lt&&(dl=0)),di(s)}function Zb(s,o){o===0&&(o=Ce()),s=Hr(s,o),s!==null&&(vs(s,o),di(s))}function cR(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Zb(s,u)}function dR(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),Zb(s,u)}function fR(s,o){return Ei(s,o)}var gf=null,yl=null,$m=!1,vf=!1,Gm=!1,Qa=0;function di(s){s!==yl&&s.next===null&&(yl===null?gf=yl=s:yl=yl.next=s),vf=!0,$m||($m=!0,hR())}function Qu(s,o){if(!Gm&&vf){Gm=!0;do for(var u=!1,f=gf;f!==null;){if(s!==0){var y=f.pendingLanes;if(y===0)var w=0;else{var E=f.suspendedLanes,R=f.pingedLanes;w=(1<<31-ln(42|s)+1)-1,w&=y&~(E&~R),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,rS(f,w))}else w=lt,w=Oe(f,f===Mt?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||zr(f,w)||(u=!0,rS(f,w));f=f.next}while(u);Gm=!1}}function pR(){eS()}function eS(){vf=$m=!1;var s=0;Qa!==0&&(kR()&&(s=Qa),Qa=0);for(var o=gr(),u=null,f=gf;f!==null;){var y=f.next,w=tS(f,o);w===0?(f.next=null,u===null?gf=y:u.next=y,y===null&&(yl=u)):(u=f,(s!==0||(w&3)!==0)&&(vf=!0)),f=y}Qu(s)}function tS(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var E=31-ln(w),R=1<<E,L=y[E];L===-1?((R&u)===0||(R&f)!==0)&&(y[E]=Ri(R,o)):L<=o&&(s.expiredLanes|=R),w&=~R}if(o=Mt,u=lt,u=Oe(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===o&&(gt===2||gt===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Zl(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||zr(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(f!==null&&Zl(f),iu(u)){case 2:case 8:u=Ao;break;case 32:u=Un;break;case 268435456:u=ys;break;default:u=Un}return f=nS.bind(null,s),u=Ei(u,f),s.callbackPriority=o,s.callbackNode=u,o}return f!==null&&f!==null&&Zl(f),s.callbackPriority=2,s.callbackNode=null,2}function nS(s,o){if(xn!==0&&xn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(yf()&&s.callbackNode!==u)return null;var f=lt;return f=Oe(s,s===Mt?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(jb(s,f,o),tS(s,gr()),s.callbackNode!=null&&s.callbackNode===u?nS.bind(null,s):null)}function rS(s,o){if(yf())return null;jb(s,o,!0)}function hR(){xR(function(){(yt&6)!==0?Ei(Sd,pR):eS()})}function Ym(){return Qa===0&&(Qa=Ma()),Qa}function iS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Li(""+s)}function sS(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function mR(s,o,u,f,y){if(o==="submit"&&u&&u.stateNode===y){var w=iS((y[et]||null).action),E=f.submitter;E&&(o=(o=E[et]||null)?iS(o.formAction):E.getAttribute("formAction"),o!==null&&(w=o,E=null));var R=new Bo("action","action",null,f,y);s.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Qa!==0){var L=E?sS(y,E):new FormData(y);ym(u,{pending:!0,data:L,method:y.method,action:w},null,L)}}else typeof w=="function"&&(R.preventDefault(),L=E?sS(y,E):new FormData(y),ym(u,{pending:!0,data:L,method:y.method,action:w},w,L))},currentTarget:y}]})}}for(var Xm=0;Xm<xe.length;Xm++){var Qm=xe[Xm],yR=Qm.toLowerCase(),gR=Qm[0].toUpperCase()+Qm.slice(1);ve(yR,"on"+gR)}ve(Z,"onAnimationEnd"),ve(re,"onAnimationIteration"),ve(ie,"onAnimationStart"),ve("dblclick","onDoubleClick"),ve("focusin","onFocus"),ve("focusout","onBlur"),ve(oe,"onTransitionRun"),ve(we,"onTransitionStart"),ve(Te,"onTransitionCancel"),ve(ge,"onTransitionEnd"),Zr("onMouseEnter",["mouseout","mouseover"]),Zr("onMouseLeave",["mouseout","mouseover"]),Zr("onPointerEnter",["pointerout","pointerover"]),Zr("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function aS(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],y=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var E=f.length-1;0<=E;E--){var R=f[E],L=R.instance,Q=R.currentTarget;if(R=R.listener,L!==w&&y.isPropagationStopped())break e;w=R,y.currentTarget=Q;try{w(y)}catch(le){sf(le)}y.currentTarget=null,w=L}else for(E=0;E<f.length;E++){if(R=f[E],L=R.instance,Q=R.currentTarget,R=R.listener,L!==w&&y.isPropagationStopped())break e;w=R,y.currentTarget=Q;try{w(y)}catch(le){sf(le)}y.currentTarget=null,w=L}}}}function at(s,o){var u=o[su];u===void 0&&(u=o[su]=new Set);var f=s+"__bubble";u.has(f)||(oS(o,s,2,!1),u.add(f))}function Zm(s,o,u){var f=0;o&&(f|=4),oS(u,s,f,o)}var wf="_reactListening"+Math.random().toString(36).slice(2);function ey(s){if(!s[wf]){s[wf]=!0,au.forEach(function(u){u!=="selectionchange"&&(vR.has(u)||Zm(u,!1,s),Zm(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[wf]||(o[wf]=!0,Zm("selectionchange",!1,o))}}function oS(s,o,u,f){switch(PS(o)){case 2:var y=qR;break;case 8:y=WR;break;default:y=hy}u=y.bind(null,o,u,s),y=void 0,!pu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function ty(s,o,u,f,y){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var R=f.stateNode.containerInfo;if(R===y)break;if(E===4)for(E=f.return;E!==null;){var L=E.tag;if((L===3||L===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;R!==null;){if(E=sr(R),E===null)return;if(L=E.tag,L===5||L===6||L===26||L===27){f=w=E;continue e}R=R.parentNode}}f=f.return}Ms(function(){var Q=w,le=Lo(u),he=[];e:{var ee=Se.get(s);if(ee!==void 0){var te=Bo,qe=s;switch(s){case"keypress":if(Ps(u)===0)break e;case"keydown":case"keyup":te=Ko;break;case"focusin":qe="focus",te=Os;break;case"focusout":qe="blur",te=Os;break;case"beforeblur":case"afterblur":te=Os;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=bu;break;case Z:case re:case ie:te=Md;break;case ge:te=Su;break;case"scroll":case"scrollend":te=Io;break;case"wheel":te=Wo;break;case"copy":case"cut":case"paste":te=Ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=wu;break;case"toggle":case"beforetoggle":te=Pd}var He=(o&4)!==0,kt=!He&&(s==="scroll"||s==="scrollend"),W=He?ee!==null?ee+"Capture":null:ee;He=[];for(var U=Q,X;U!==null;){var fe=U;if(X=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||X===null||W===null||(fe=Ii(U,W),fe!=null&&He.push(ec(U,fe,X))),kt)break;U=U.return}0<He.length&&(ee=new te(ee,qe,null,u,le),he.push({event:ee,listeners:He}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",ee&&u!==kr&&(qe=u.relatedTarget||u.fromElement)&&(sr(qe)||qe[Rt]))break e;if((te||ee)&&(ee=le.window===le?le:(ee=le.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(qe=u.relatedTarget||u.toElement,te=Q,qe=qe?sr(qe):null,qe!==null&&(kt=a(qe),He=qe.tag,qe!==kt||He!==5&&He!==27&&He!==6)&&(qe=null)):(te=null,qe=Q),te!==qe)){if(He=zo,fe="onMouseLeave",W="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(He=wu,fe="onPointerLeave",W="onPointerEnter",U="pointer"),kt=te==null?ee:Yr(te),X=qe==null?ee:Yr(qe),ee=new He(fe,U+"leave",te,u,le),ee.target=kt,ee.relatedTarget=X,fe=null,sr(le)===Q&&(He=new He(W,U+"enter",qe,u,le),He.target=X,He.relatedTarget=kt,fe=He),kt=fe,te&&qe)t:{for(He=te,W=qe,U=0,X=He;X;X=gl(X))U++;for(X=0,fe=W;fe;fe=gl(fe))X++;for(;0<U-X;)He=gl(He),U--;for(;0<X-U;)W=gl(W),X--;for(;U--;){if(He===W||W!==null&&He===W.alternate)break t;He=gl(He),W=gl(W)}He=null}else He=null;te!==null&&lS(he,ee,te,He,!1),qe!==null&&kt!==null&&lS(he,kt,qe,He,!0)}}e:{if(ee=Q?Yr(Q):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Pe=za;else if(Go(ee))if(xr)Pe=_s;else{Pe=Hi;var nt=Id}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&fu(Q.elementType)&&(Pe=za):Pe=Cu;if(Pe&&(Pe=Pe(s,Q))){Eu(he,Pe,u,le);break e}nt&&nt(s,ee,Q),s==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&xs(ee,"number",ee.value)}switch(nt=Q?Yr(Q):window,s){case"focusin":(Go(nt)||nt.contentEditable==="true")&&(N=nt,V=Q,H=null);break;case"focusout":H=V=N=null;break;case"mousedown":q=!0;break;case"contextmenu":case"mouseup":case"dragend":q=!1,_(he,u,le);break;case"selectionchange":if(O)break;case"keydown":case"keyup":_(he,u,le)}var Be;if(Ia)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ui?xu(s,u)&&(Fe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Fe="onCompositionStart");Fe&&(Jo&&u.locale!=="ko"&&(Ui||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ui&&(Be=Ds()):(Tr=le,_o="value"in Tr?Tr.value:Tr.textContent,Ui=!0)),nt=bf(Q,Fe),0<nt.length&&(Fe=new Fo(Fe,s,null,u,le),he.push({event:Fe,listeners:nt}),Be?Fe.data=Be:(Be=Nd(u),Be!==null&&(Fe.data=Be)))),(Be=_h?Ld(s,u):Bh(s,u))&&(Fe=bf(Q,"onBeforeInput"),0<Fe.length&&(nt=new Fo("onBeforeInput","beforeinput",null,u,le),he.push({event:nt,listeners:Fe}),nt.data=Be)),mR(he,s,Q,u,le)}aS(he,o)})}function ec(s,o,u){return{instance:s,listener:o,currentTarget:u}}function bf(s,o){for(var u=o+"Capture",f=[];s!==null;){var y=s,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Ii(s,u),y!=null&&f.unshift(ec(s,y,w)),y=Ii(s,o),y!=null&&f.push(ec(s,y,w))),s.tag===3)return f;s=s.return}return[]}function gl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function lS(s,o,u,f,y){for(var w=o._reactName,E=[];u!==null&&u!==f;){var R=u,L=R.alternate,Q=R.stateNode;if(R=R.tag,L!==null&&L===f)break;R!==5&&R!==26&&R!==27||Q===null||(L=Q,y?(Q=Ii(u,w),Q!=null&&E.unshift(ec(u,Q,L))):y||(Q=Ii(u,w),Q!=null&&E.push(ec(u,Q,L)))),u=u.return}E.length!==0&&s.push({event:o,listeners:E})}var wR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function uS(s){return(typeof s=="string"?s:""+s).replace(wR,`
`).replace(bR,"")}function cS(s,o){return o=uS(o),uS(s)===o}function Sf(){}function St(s,o,u,f,y,w){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Cs(s,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Cs(s,""+f);break;case"className":Pi(s,"class",f);break;case"tabIndex":Pi(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(s,u,f);break;case"style":Ed(s,f,w);break;case"data":if(o!=="object"){Pi(s,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Li(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&St(s,o,"name",y.name,y,null),St(s,o,"formEncType",y.formEncType,y,null),St(s,o,"formMethod",y.formMethod,y,null),St(s,o,"formTarget",y.formTarget,y,null)):(St(s,o,"encType",y.encType,y,null),St(s,o,"method",y.method,y,null),St(s,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Li(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=Sf);break;case"onScroll":f!=null&&at("scroll",s);break;case"onScrollEnd":f!=null&&at("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=Li(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":at("beforetoggle",s),at("toggle",s),Vr(s,"popover",f);break;case"xlinkActuate":ar(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ar(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ar(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ar(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ar(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ar(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ar(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ar(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ar(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Vr(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Kn.get(u)||u,Vr(s,u,f))}}function ny(s,o,u,f,y,w){switch(u){case"style":Ed(s,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof f=="string"?Cs(s,f):(typeof f=="number"||typeof f=="bigint")&&Cs(s,""+f);break;case"onScroll":f!=null&&at("scroll",s);break;case"onScrollEnd":f!=null&&at("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),w=s[et]||null,w=w!=null?w[u]:null,typeof w=="function"&&s.removeEventListener(o,w,y),typeof f=="function")){typeof w!="function"&&w!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,f,y);break e}u in s?s[u]=f:f===!0?s.setAttribute(u,""):Vr(s,u,f)}}}function En(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",s),at("load",s);var f=!1,y=!1,w;for(w in u)if(u.hasOwnProperty(w)){var E=u[w];if(E!=null)switch(w){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:St(s,o,w,E,u,null)}}y&&St(s,o,"srcSet",u.srcSet,u,null),f&&St(s,o,"src",u.src,u,null);return;case"input":at("invalid",s);var R=w=E=y=null,L=null,Q=null;for(f in u)if(u.hasOwnProperty(f)){var le=u[f];if(le!=null)switch(f){case"name":y=le;break;case"type":E=le;break;case"checked":L=le;break;case"defaultChecked":Q=le;break;case"value":w=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:St(s,o,f,le,u,null)}}cu(s,w,R,L,Q,E,y,!1),ni(s);return;case"select":at("invalid",s),f=E=w=null;for(y in u)if(u.hasOwnProperty(y)&&(R=u[y],R!=null))switch(y){case"value":w=R;break;case"defaultValue":E=R;break;case"multiple":f=R;default:St(s,o,y,R,u,null)}o=w,u=E,s.multiple=!!f,o!=null?Ni(s,!!f,o,!1):u!=null&&Ni(s,!!f,u,!0);return;case"textarea":at("invalid",s),w=y=f=null;for(E in u)if(u.hasOwnProperty(E)&&(R=u[E],R!=null))switch(E){case"value":f=R;break;case"defaultValue":y=R;break;case"children":w=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:St(s,o,E,R,u,null)}du(s,f,y,w),ni(s);return;case"option":for(L in u)if(u.hasOwnProperty(L)&&(f=u[L],f!=null))switch(L){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:St(s,o,L,f,u,null)}return;case"dialog":at("beforetoggle",s),at("toggle",s),at("cancel",s),at("close",s);break;case"iframe":case"object":at("load",s);break;case"video":case"audio":for(f=0;f<Zu.length;f++)at(Zu[f],s);break;case"image":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"embed":case"source":case"link":at("error",s),at("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in u)if(u.hasOwnProperty(Q)&&(f=u[Q],f!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:St(s,o,Q,f,u,null)}return;default:if(fu(o)){for(le in u)u.hasOwnProperty(le)&&(f=u[le],f!==void 0&&ny(s,o,le,f,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(f=u[R],f!=null&&St(s,o,R,f,u,null))}function SR(s,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,E=null,R=null,L=null,Q=null,le=null;for(te in u){var he=u[te];if(u.hasOwnProperty(te)&&he!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":L=he;default:f.hasOwnProperty(te)||St(s,o,te,null,f,he)}}for(var ee in f){var te=f[ee];if(he=u[ee],f.hasOwnProperty(ee)&&(te!=null||he!=null))switch(ee){case"type":w=te;break;case"name":y=te;break;case"checked":Q=te;break;case"defaultChecked":le=te;break;case"value":E=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:te!==he&&St(s,o,ee,te,f,he)}}Ts(s,E,R,L,Q,le,w,y);return;case"select":te=E=R=ee=null;for(w in u)if(L=u[w],u.hasOwnProperty(w)&&L!=null)switch(w){case"value":break;case"multiple":te=L;default:f.hasOwnProperty(w)||St(s,o,w,null,f,L)}for(y in f)if(w=f[y],L=u[y],f.hasOwnProperty(y)&&(w!=null||L!=null))switch(y){case"value":ee=w;break;case"defaultValue":R=w;break;case"multiple":E=w;default:w!==L&&St(s,o,y,w,f,L)}o=R,u=E,f=te,ee!=null?Ni(s,!!u,ee,!1):!!f!=!!u&&(o!=null?Ni(s,!!u,o,!0):Ni(s,!!u,u?[]:"",!1));return;case"textarea":te=ee=null;for(R in u)if(y=u[R],u.hasOwnProperty(R)&&y!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:St(s,o,R,null,f,y)}for(E in f)if(y=f[E],w=u[E],f.hasOwnProperty(E)&&(y!=null||w!=null))switch(E){case"value":ee=y;break;case"defaultValue":te=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&St(s,o,E,y,f,w)}Es(s,ee,te);return;case"option":for(var qe in u)if(ee=u[qe],u.hasOwnProperty(qe)&&ee!=null&&!f.hasOwnProperty(qe))switch(qe){case"selected":s.selected=!1;break;default:St(s,o,qe,null,f,ee)}for(L in f)if(ee=f[L],te=u[L],f.hasOwnProperty(L)&&ee!==te&&(ee!=null||te!=null))switch(L){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:St(s,o,L,ee,f,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in u)ee=u[He],u.hasOwnProperty(He)&&ee!=null&&!f.hasOwnProperty(He)&&St(s,o,He,null,f,ee);for(Q in f)if(ee=f[Q],te=u[Q],f.hasOwnProperty(Q)&&ee!==te&&(ee!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:St(s,o,Q,ee,f,te)}return;default:if(fu(o)){for(var kt in u)ee=u[kt],u.hasOwnProperty(kt)&&ee!==void 0&&!f.hasOwnProperty(kt)&&ny(s,o,kt,void 0,f,ee);for(le in f)ee=f[le],te=u[le],!f.hasOwnProperty(le)||ee===te||ee===void 0&&te===void 0||ny(s,o,le,ee,f,te);return}}for(var W in u)ee=u[W],u.hasOwnProperty(W)&&ee!=null&&!f.hasOwnProperty(W)&&St(s,o,W,null,f,ee);for(he in f)ee=f[he],te=u[he],!f.hasOwnProperty(he)||ee===te||ee==null&&te==null||St(s,o,he,ee,f,te)}var ry=null,iy=null;function kf(s){return s.nodeType===9?s:s.ownerDocument}function dS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fS(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function sy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ay=null;function kR(){var s=window.event;return s&&s.type==="popstate"?s===ay?!1:(ay=s,!0):(ay=null,!1)}var pS=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,hS=typeof Promise=="function"?Promise:void 0,xR=typeof queueMicrotask=="function"?queueMicrotask:typeof hS<"u"?function(s){return hS.resolve(null).then(s).catch(ER)}:pS;function ER(s){setTimeout(function(){throw s})}function Xs(s){return s==="head"}function mS(s,o){var u=o,f=0,y=0;do{var w=u.nextSibling;if(s.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<f&&8>f){u=f;var E=s.ownerDocument;if(u&1&&tc(E.documentElement),u&2&&tc(E.body),u&4)for(u=E.head,tc(u),E=u.firstChild;E;){var R=E.nextSibling,L=E.nodeName;E[Pa]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=R}}if(y===0){s.removeChild(w),uc(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:f=u.charCodeAt(0)-48;else f=0;u=w}while(u);uc(o)}function oy(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":oy(u),br(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function CR(s,o,u,f){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Pa])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Kr(s.nextSibling),s===null)break}return null}function AR(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Kr(s.nextSibling),s===null))return null;return s}function ly(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function MR(s,o){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Kr(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var uy=null;function yS(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}function gS(s,o,u){switch(o=kf(u),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function tc(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);br(s)}var Dr=new Map,vS=new Set;function Tf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ts=me.d;me.d={f:RR,r:DR,D:PR,C:OR,L:NR,m:LR,X:BR,S:_R,M:IR};function RR(){var s=ts.f(),o=hf();return s||o}function DR(s){var o=Hn(s);o!==null&&o.tag===5&&o.type==="form"?j0(o):ts.r(s)}var vl=typeof document>"u"?null:document;function wS(s,o,u){var f=vl;if(f&&typeof o=="string"&&o){var y=On(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),vS.has(y)||(vS.add(y),s={rel:s,crossOrigin:u,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),En(o,"link",s),Tt(o),f.head.appendChild(o)))}}function PR(s){ts.D(s),wS("dns-prefetch",s,null)}function OR(s,o){ts.C(s,o),wS("preconnect",s,o)}function NR(s,o,u){ts.L(s,o,u);var f=vl;if(f&&s&&o){var y='link[rel="preload"][as="'+On(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+On(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+On(u.imageSizes)+'"]')):y+='[href="'+On(s)+'"]';var w=y;switch(o){case"style":w=wl(s);break;case"script":w=bl(s)}Dr.has(w)||(s=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),Dr.set(w,s),f.querySelector(y)!==null||o==="style"&&f.querySelector(nc(w))||o==="script"&&f.querySelector(rc(w))||(o=f.createElement("link"),En(o,"link",s),Tt(o),f.head.appendChild(o)))}}function LR(s,o){ts.m(s,o);var u=vl;if(u&&s){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+On(f)+'"][href="'+On(s)+'"]',w=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=bl(s)}if(!Dr.has(w)&&(s=h({rel:"modulepreload",href:s},o),Dr.set(w,s),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(rc(w)))return}f=u.createElement("link"),En(f,"link",s),Tt(f),u.head.appendChild(f)}}}function _R(s,o,u){ts.S(s,o,u);var f=vl;if(f&&s){var y=bs(f).hoistableStyles,w=wl(s);o=o||"default";var E=y.get(w);if(!E){var R={loading:0,preload:null};if(E=f.querySelector(nc(w)))R.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":o},u),(u=Dr.get(w))&&cy(s,u);var L=E=f.createElement("link");Tt(L),En(L,"link",s),L._p=new Promise(function(Q,le){L.onload=Q,L.onerror=le}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,xf(E,o,f)}E={type:"stylesheet",instance:E,count:1,state:R},y.set(w,E)}}}function BR(s,o){ts.X(s,o);var u=vl;if(u&&s){var f=bs(u).hoistableScripts,y=bl(s),w=f.get(y);w||(w=u.querySelector(rc(y)),w||(s=h({src:s,async:!0},o),(o=Dr.get(y))&&dy(s,o),w=u.createElement("script"),Tt(w),En(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(y,w))}}function IR(s,o){ts.M(s,o);var u=vl;if(u&&s){var f=bs(u).hoistableScripts,y=bl(s),w=f.get(y);w||(w=u.querySelector(rc(y)),w||(s=h({src:s,async:!0,type:"module"},o),(o=Dr.get(y))&&dy(s,o),w=u.createElement("script"),Tt(w),En(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(y,w))}}function bS(s,o,u,f){var y=(y=Ve.current)?Tf(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=wl(u.href),u=bs(y).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=wl(u.href);var w=bs(y).hoistableStyles,E=w.get(s);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,E),(w=y.querySelector(nc(s)))&&!w._p&&(E.instance=w,E.state.loading=5),Dr.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Dr.set(s,u),w||jR(y,s,u,E.state))),o&&f===null)throw Error(r(528,""));return E}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=bl(u),u=bs(y).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function wl(s){return'href="'+On(s)+'"'}function nc(s){return'link[rel="stylesheet"]['+s+"]"}function SS(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function jR(s,o,u,f){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=s.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),En(o,"link",u),Tt(o),s.head.appendChild(o))}function bl(s){return'[src="'+On(s)+'"]'}function rc(s){return"script[async]"+s}function kS(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=s.querySelector('style[data-href~="'+On(u.href)+'"]');if(f)return o.instance=f,Tt(f),f;var y=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Tt(f),En(f,"style",y),xf(f,u.precedence,s),o.instance=f;case"stylesheet":y=wl(u.href);var w=s.querySelector(nc(y));if(w)return o.state.loading|=4,o.instance=w,Tt(w),w;f=SS(u),(y=Dr.get(y))&&cy(f,y),w=(s.ownerDocument||s).createElement("link"),Tt(w);var E=w;return E._p=new Promise(function(R,L){E.onload=R,E.onerror=L}),En(w,"link",f),o.state.loading|=4,xf(w,u.precedence,s),o.instance=w;case"script":return w=bl(u.src),(y=s.querySelector(rc(w)))?(o.instance=y,Tt(y),y):(f=u,(y=Dr.get(w))&&(f=h({},u),dy(f,y)),s=s.ownerDocument||s,y=s.createElement("script"),Tt(y),En(y,"link",f),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,xf(f,u.precedence,s));return o.instance}function xf(s,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,w=y,E=0;E<f.length;E++){var R=f[E];if(R.dataset.precedence===o)w=R;else if(w!==y)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function cy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function dy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Ef=null;function TS(s,o,u){if(Ef===null){var f=new Map,y=Ef=new Map;y.set(u,f)}else y=Ef,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var w=u[y];if(!(w[Pa]||w[Jt]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var E=w.getAttribute(o)||"";E=s+E;var R=f.get(E);R?R.push(w):f.set(E,[w])}}return f}function xS(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function zR(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ES(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var ic=null;function VR(){}function UR(s,o,u){if(ic===null)throw Error(r(475));var f=ic;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=wl(u.href),w=s.querySelector(nc(y));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Cf.bind(f),s.then(f,f)),o.state.loading|=4,o.instance=w,Tt(w);return}w=s.ownerDocument||s,u=SS(u),(y=Dr.get(y))&&cy(u,y),w=w.createElement("link"),Tt(w);var E=w;E._p=new Promise(function(R,L){E.onload=R,E.onerror=L}),En(w,"link",u),o.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Cf.bind(f),s.addEventListener("load",o),s.addEventListener("error",o))}}function HR(){if(ic===null)throw Error(r(475));var s=ic;return s.stylesheets&&s.count===0&&fy(s,s.stylesheets),0<s.count?function(o){var u=setTimeout(function(){if(s.stylesheets&&fy(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Cf(){if(this.count--,this.count===0){if(this.stylesheets)fy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Af=null;function fy(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Af=new Map,o.forEach(FR,s),Af=null,Cf.call(s))}function FR(s,o){if(!(o.state.loading&4)){var u=Af.get(s);if(u)var f=u.get(null);else{u=new Map,Af.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var E=y[w];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),f=E)}f&&u.set(null,f)}y=o.instance,E=y.getAttribute("data-precedence"),w=u.get(E)||f,w===f&&u.set(null,y),u.set(E,y),this.count++,f=Cf.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),w?w.parentNode.insertBefore(y,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var sc={$$typeof:$,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function KR(s,o,u,f,y,w,E,R){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.hiddenUpdates=Ra(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function CS(s,o,u,f,y,w,E,R,L,Q,le,he){return s=new KR(s,o,u,E,R,L,Q,he),o=1,w===!0&&(o|=24),w=lr(3,null,null,o),s.current=w,w.stateNode=s,o=Jh(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:f,isDehydrated:u,cache:o},Xh(w),s}function AS(s){return s?(s=ai,s):ai}function MS(s,o,u,f,y,w){y=AS(y),f.context===null?f.context=y:f.pendingContext=y,f=js(o),f.payload={element:u},w=w===void 0?null:w,w!==null&&(f.callback=w),u=zs(s,f,o),u!==null&&(pr(u,s,o),_u(u,s,o))}function RS(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function py(s,o){RS(s,o),(s=s.alternate)&&RS(s,o)}function DS(s){if(s.tag===13){var o=Hr(s,67108864);o!==null&&pr(o,s,67108864),py(s,67108864)}}var Mf=!0;function qR(s,o,u,f){var y=se.T;se.T=null;var w=me.p;try{me.p=2,hy(s,o,u,f)}finally{me.p=w,se.T=y}}function WR(s,o,u,f){var y=se.T;se.T=null;var w=me.p;try{me.p=8,hy(s,o,u,f)}finally{me.p=w,se.T=y}}function hy(s,o,u,f){if(Mf){var y=my(f);if(y===null)ty(s,o,f,Rf,u),OS(s,f);else if($R(y,s,o,u,f))f.stopPropagation();else if(OS(s,f),o&4&&-1<JR.indexOf(s)){for(;y!==null;){var w=Hn(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var E=Pn(w.pendingLanes);if(E!==0){var R=w;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var L=1<<31-ln(E);R.entanglements[1]|=L,E&=~L}di(w),(yt&6)===0&&(ff=gr()+500,Qu(0))}}break;case 13:R=Hr(w,2),R!==null&&pr(R,w,2),hf(),py(w,2)}if(w=my(f),w===null&&ty(s,o,f,Rf,u),w===y)break;y=w}y!==null&&f.stopPropagation()}else ty(s,o,f,null,u)}}function my(s){return s=Lo(s),yy(s)}var Rf=null;function yy(s){if(Rf=null,s=sr(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Rf=s,null}function PS(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oh()){case Sd:return 2;case Ao:return 8;case Un:case kd:return 32;case ys:return 268435456;default:return 32}default:return 32}}var gy=!1,Qs=null,Zs=null,ea=null,ac=new Map,oc=new Map,ta=[],JR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OS(s,o){switch(s){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":ac.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(o.pointerId)}}function lc(s,o,u,f,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Hn(o),o!==null&&DS(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function $R(s,o,u,f,y){switch(o){case"focusin":return Qs=lc(Qs,s,o,u,f,y),!0;case"dragenter":return Zs=lc(Zs,s,o,u,f,y),!0;case"mouseover":return ea=lc(ea,s,o,u,f,y),!0;case"pointerover":var w=y.pointerId;return ac.set(w,lc(ac.get(w)||null,s,o,u,f,y)),!0;case"gotpointercapture":return w=y.pointerId,oc.set(w,lc(oc.get(w)||null,s,o,u,f,y)),!0}return!1}function NS(s){var o=sr(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,ws(s.priority,function(){if(u.tag===13){var f=fr();f=ru(f);var y=Hr(u,f);y!==null&&pr(y,u,f),py(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Df(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=my(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);kr=f,u.target.dispatchEvent(f),kr=null}else return o=Hn(u),o!==null&&DS(o),s.blockedOn=u,!1;o.shift()}return!0}function LS(s,o,u){Df(s)&&u.delete(o)}function GR(){gy=!1,Qs!==null&&Df(Qs)&&(Qs=null),Zs!==null&&Df(Zs)&&(Zs=null),ea!==null&&Df(ea)&&(ea=null),ac.forEach(LS),oc.forEach(LS)}function Pf(s,o){s.blockedOn===o&&(s.blockedOn=null,gy||(gy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GR)))}var Of=null;function _S(s){Of!==s&&(Of=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Of===s&&(Of=null);for(var o=0;o<s.length;o+=3){var u=s[o],f=s[o+1],y=s[o+2];if(typeof f!="function"){if(yy(f||u)===null)continue;break}var w=Hn(u);w!==null&&(s.splice(o,3),o-=3,ym(w,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function uc(s){function o(L){return Pf(L,s)}Qs!==null&&Pf(Qs,s),Zs!==null&&Pf(Zs,s),ea!==null&&Pf(ea,s),ac.forEach(o),oc.forEach(o);for(var u=0;u<ta.length;u++){var f=ta[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<ta.length&&(u=ta[0],u.blockedOn===null);)NS(u),u.blockedOn===null&&ta.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],w=u[f+1],E=y[et]||null;if(typeof w=="function")E||_S(u);else if(E){var R=null;if(w&&w.hasAttribute("formAction")){if(y=w,E=w[et]||null)R=E.formAction;else if(yy(y)!==null)continue}else R=E.action;typeof R=="function"?u[f+1]=R:(u.splice(f,3),f-=3),_S(u)}}}function vy(s){this._internalRoot=s}Nf.prototype.render=vy.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,f=fr();MS(u,f,s,o,null,null)},Nf.prototype.unmount=vy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;MS(s.current,2,null,s,null,null),hf(),o[Rt]=null}};function Nf(s){this._internalRoot=s}Nf.prototype.unstable_scheduleHydration=function(s){if(s){var o=Di();s={blockedOn:null,target:s,priority:o};for(var u=0;u<ta.length&&o!==0&&o<ta[u].priority;u++);ta.splice(u,0,s),u===0&&NS(s)}};var BS=e.version;if(BS!=="19.1.0")throw Error(r(527,BS,"19.1.0"));me.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var YR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{ir=Lf.inject(YR),Wt=Lf}catch{}}return dc.createRoot=function(s,o){if(!i(s))throw Error(r(299));var u=!1,f="",y=Q0,w=Z0,E=eb,R=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(R=o.unstable_transitionCallbacks)),o=CS(s,1,!1,null,null,u,f,y,w,E,R,null),s[Rt]=o.current,ey(s),new vy(o)},dc.hydrateRoot=function(s,o,u){if(!i(s))throw Error(r(299));var f=!1,y="",w=Q0,E=Z0,R=eb,L=null,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(L=u.unstable_transitionCallbacks),u.formState!==void 0&&(Q=u.formState)),o=CS(s,1,!0,o,u??null,f,y,w,E,R,L,Q),o.context=AS(null),u=o.current,f=fr(),f=ru(f),y=js(f),y.callback=null,zs(u,y,f),u=f,o.current.lanes=u,vs(o,u),di(o),s[Rt]=o.current,ey(s),new Nf(o)},dc.version="19.1.0",dc}var WS;function aD(){if(WS)return Sy.exports;WS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sy.exports=sD(),Sy.exports}var oD=aD();const lD=ad(oD);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JS="popstate";function uD(t={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Sg("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zc(i)}return dD(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cD(){return Math.random().toString(36).substring(2,10)}function $S(t,e){return{usr:t.state,key:t.key,idx:e}}function Sg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wl(e):e,state:n,key:e&&e.key||r||cD()}}function zc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function dD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",d=null,p=h();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function h(){return(l.state||{idx:null}).idx}function g(){c="POP";let D=h(),P=D==null?null:D-p;p=D,d&&d({action:c,location:A.location,delta:P})}function b(D,P){c="PUSH";let z=Sg(A.location,D,P);p=h()+1;let $=$S(z,p),ae=A.createHref(z);try{l.pushState($,"",ae)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(ae)}a&&d&&d({action:c,location:A.location,delta:1})}function k(D,P){c="REPLACE";let z=Sg(A.location,D,P);p=h();let $=$S(z,p),ae=A.createHref(z);l.replaceState($,"",ae),a&&d&&d({action:c,location:A.location,delta:0})}function T(D){return fD(D)}let A={get action(){return c},get location(){return t(i,l)},listen(D){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(JS,g),d=D,()=>{i.removeEventListener(JS,g),d=null}},createHref(D){return e(i,D)},createURL:T,encodeLocation(D){let P=T(D);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:k,go(D){return l.go(D)}};return A}function fD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:zc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nx(t,e,n="/"){return pD(t,e,n,!1)}function pD(t,e,n,r){let i=typeof e=="string"?Wl(e):e,a=fs(i.pathname||"/",n);if(a==null)return null;let l=rx(t);hD(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=ED(a);c=TD(l[d],p,r)}return c}function rx(t,e=[],n=[],r=""){let i=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(zt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=us([r,d.relativePath]),h=n.concat(d);a.children&&a.children.length>0&&(zt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rx(a.children,e,h,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:SD(p,a.index),routesMeta:h})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let c of ix(a.path))i(a,l,c)}),e}function ix(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=ix(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function hD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mD=/^:[\w-]+$/,yD=3,gD=2,vD=1,wD=10,bD=-2,GS=t=>t==="*";function SD(t,e){let n=t.split("/"),r=n.length;return n.some(GS)&&(r+=bD),e&&(r+=gD),n.filter(i=>!GS(i)).reduce((i,a)=>i+(mD.test(a)?yD:a===""?vD:wD),r)}function kD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TD(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",g=dp({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},h),b=d.route;if(!g&&p&&n&&!r[r.length-1].route.index&&(g=dp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:us([a,g.pathname]),pathnameBase:RD(us([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=us([a,g.pathnameBase]))}return l}function dp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:h,isOptional:g},b)=>{if(h==="*"){let T=c[b]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const k=c[b];return g&&!k?p[h]=void 0:p[h]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function xD(t,e=!1,n=!0){wi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ED(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wl(t):t;return{pathname:n?n.startsWith("/")?n:AD(n,e):e,search:DD(r),hash:PD(i)}}function AD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ey(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sx(t){let e=MD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ax(t,e,n,r=!1){let i;typeof t=="string"?i=Wl(t):(i={...t},zt(!i.pathname||!i.pathname.includes("?"),Ey("?","pathname","search",i)),zt(!i.pathname||!i.pathname.includes("#"),Ey("#","pathname","hash",i)),zt(!i.search||!i.search.includes("#"),Ey("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}c=g>=0?e[g]:"/"}let d=CD(i,c),p=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||h)&&(d.pathname+="/"),d}var us=t=>t.join("/").replace(/\/\/+/g,"/"),RD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ox=["POST","PUT","PATCH","DELETE"];new Set(ox);var ND=["GET",...ox];new Set(ND);var Jl=I.createContext(null);Jl.displayName="DataRouter";var uh=I.createContext(null);uh.displayName="DataRouterState";I.createContext(!1);var lx=I.createContext({isTransitioning:!1});lx.displayName="ViewTransition";var LD=I.createContext(new Map);LD.displayName="Fetchers";var _D=I.createContext(null);_D.displayName="Await";var ki=I.createContext(null);ki.displayName="Navigation";var ld=I.createContext(null);ld.displayName="Location";var Ti=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var Tv=I.createContext(null);Tv.displayName="RouteError";function BD(t,{relative:e}={}){zt(ud(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(ki),{hash:i,pathname:a,search:l}=cd(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:us([n,a])),r.createHref({pathname:c,search:l,hash:i})}function ud(){return I.useContext(ld)!=null}function To(){return zt(ud(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(ld).location}var ux="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cx(t){I.useContext(ki).static||I.useLayoutEffect(t)}function ID(){let{isDataRoute:t}=I.useContext(Ti);return t?QD():jD()}function jD(){zt(ud(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Jl),{basename:e,navigator:n}=I.useContext(ki),{matches:r}=I.useContext(Ti),{pathname:i}=To(),a=JSON.stringify(sx(r)),l=I.useRef(!1);return cx(()=>{l.current=!0}),I.useCallback((d,p={})=>{if(wi(l.current,ux),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=ax(d,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:us([e,h.pathname])),(p.replace?n.replace:n.push)(h,p.state,p)},[e,n,a,i,t])}var zD=I.createContext(null);function VD(t){let e=I.useContext(Ti).outlet;return e&&I.createElement(zD.Provider,{value:t},e)}function cd(t,{relative:e}={}){let{matches:n}=I.useContext(Ti),{pathname:r}=To(),i=JSON.stringify(sx(n));return I.useMemo(()=>ax(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function UD(t,e){return dx(t,e)}function dx(t,e,n,r){zt(ud(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=I.useContext(ki),{matches:a}=I.useContext(Ti),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",h=l&&l.route;{let P=h&&h.path||"";fx(d,!h||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let g=To(),b;if(e){let P=typeof e=="string"?Wl(e):e;zt(p==="/"||P.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=g;let k=b.pathname||"/",T=k;if(p!=="/"){let P=p.replace(/^\//,"").split("/");T="/"+k.replace(/^\//,"").split("/").slice(P.length).join("/")}let A=nx(t,{pathname:T});wi(h||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),wi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=WD(A&&A.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:us([p,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:us([p,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,n,r);return e&&D?I.createElement(ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},D):D}function HD(){let t=XD(),e=OD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,l)}var FD=I.createElement(HD,null),KD=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(Ti.Provider,{value:this.props.routeContext},I.createElement(Tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qD({routeContext:t,match:e,children:n}){let r=I.useContext(Jl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ti.Provider,{value:t},n)}function WD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let d=i.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);zt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:h,errors:g}=n,b=p.route.loader&&!h.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,p,h)=>{let g,b=!1,k=null,T=null;n&&(g=a&&p.route.id?a[p.route.id]:void 0,k=p.route.errorElement||FD,l&&(c<0&&h===0?(fx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,T=null):c===h&&(b=!0,T=p.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,h+1)),D=()=>{let P;return g?P=k:b?P=T:p.route.Component?P=I.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=d,I.createElement(qD,{match:p,routeContext:{outlet:d,matches:A,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?I.createElement(KD,{location:n.location,revalidation:n.revalidation,component:k,error:g,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):D()},null)}function xv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JD(t){let e=I.useContext(Jl);return zt(e,xv(t)),e}function $D(t){let e=I.useContext(uh);return zt(e,xv(t)),e}function GD(t){let e=I.useContext(Ti);return zt(e,xv(t)),e}function Ev(t){let e=GD(t),n=e.matches[e.matches.length-1];return zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function YD(){return Ev("useRouteId")}function XD(){let t=I.useContext(Tv),e=$D("useRouteError"),n=Ev("useRouteError");return t!==void 0?t:e.errors?.[n]}function QD(){let{router:t}=JD("useNavigate"),e=Ev("useNavigate"),n=I.useRef(!1);return cx(()=>{n.current=!0}),I.useCallback(async(i,a={})=>{wi(n.current,ux),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var YS={};function fx(t,e,n){!e&&!YS[t]&&(YS[t]=!0,wi(!1,n))}I.memo(ZD);function ZD({routes:t,future:e,state:n}){return dx(t,void 0,n,e)}function e2(t){return VD(t.context)}function xl(t){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){zt(!ud(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Wl(n));let{pathname:d="/",search:p="",hash:h="",state:g=null,key:b="default"}=n,k=I.useMemo(()=>{let T=fs(d,l);return T==null?null:{location:{pathname:T,search:p,hash:h,state:g,key:b},navigationType:r}},[l,d,p,h,g,b,r]);return wi(k!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${h}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:I.createElement(ki.Provider,{value:c},I.createElement(ld.Provider,{children:e,value:k}))}function n2({children:t,location:e}){return UD(kg(t),e)}function kg(t,e=[]){let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let a=[...e,i];if(r.type===I.Fragment){n.push.apply(n,kg(r.props.children,a));return}zt(r.type===xl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=kg(r.props.children,a)),n.push(l)}),n}var Zf="get",ep="application/x-www-form-urlencoded";function ch(t){return t!=null&&typeof t.tagName=="string"}function r2(t){return ch(t)&&t.tagName.toLowerCase()==="button"}function i2(t){return ch(t)&&t.tagName.toLowerCase()==="form"}function s2(t){return ch(t)&&t.tagName.toLowerCase()==="input"}function a2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o2(t,e){return t.button===0&&(!e||e==="_self")&&!a2(t)}var _f=null;function l2(){if(_f===null)try{new FormData(document.createElement("form"),0),_f=!1}catch{_f=!0}return _f}var u2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cy(t){return t!=null&&!u2.has(t)?(wi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ep}"`),null):t}function c2(t,e){let n,r,i,a,l;if(i2(t)){let c=t.getAttribute("action");r=c?fs(c,e):null,n=t.getAttribute("method")||Zf,i=Cy(t.getAttribute("enctype"))||ep,a=new FormData(t)}else if(r2(t)||s2(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?fs(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Zf,i=Cy(t.getAttribute("formenctype"))||Cy(c.getAttribute("enctype"))||ep,a=new FormData(c,t),!l2()){let{name:p,type:h,value:g}=t;if(h==="image"){let b=p?`${p}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else p&&a.append(p,g)}}else{if(ch(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zf,r=null,i=ep,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function d2(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&fs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function f2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function h2(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await f2(a,n);return l.links?l.links():[]}return[]}));return v2(r.flat(1).filter(p2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function XS(t,e,n,r,i,a){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,c=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,p)=>l(d,p)||c(d,p)):a==="data"?e.filter((d,p)=>{let h=r.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function m2(t,e,{includeHydrateFallback:n}={}){return y2(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function y2(t){return[...new Set(t)]}function g2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function v2(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(g2(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function px(){let t=I.useContext(Jl);return Cv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function w2(){let t=I.useContext(uh);return Cv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Av=I.createContext(void 0);Av.displayName="FrameworkContext";function hx(){let t=I.useContext(Av);return Cv(t,"You must render this element inside a <HydratedRouter> element"),t}function b2(t,e){let n=I.useContext(Av),[r,i]=I.useState(!1),[a,l]=I.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:h,onTouchStart:g}=e,b=I.useRef(null);I.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=P=>{P.forEach(z=>{l(z.isIntersecting)})},D=new IntersectionObserver(A,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[t]),I.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let k=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:fc(c,k),onBlur:fc(d,T),onMouseEnter:fc(p,k),onMouseLeave:fc(h,T),onTouchStart:fc(g,k)}]:[!1,b,{}]}function fc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function S2({page:t,...e}){let{router:n}=px(),r=I.useMemo(()=>nx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(T2,{page:t,matches:r,...e}):null}function k2(t){let{manifest:e,routeModules:n}=hx(),[r,i]=I.useState([]);return I.useEffect(()=>{let a=!1;return h2(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function T2({page:t,matches:e,...n}){let r=To(),{manifest:i,routeModules:a}=hx(),{basename:l}=px(),{loaderData:c,matches:d}=w2(),p=I.useMemo(()=>XS(t,e,d,i,r,"data"),[t,e,d,i,r]),h=I.useMemo(()=>XS(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,A=!1;if(e.forEach(P=>{let z=i.routes[P.route.id];!z||!z.hasLoader||(!p.some($=>$.route.id===P.route.id)&&P.route.id in c&&a[P.route.id]?.shouldRevalidate||z.hasClientLoader?A=!0:T.add(P.route.id))}),T.size===0)return[];let D=d2(t,l,"data");return A&&T.size>0&&D.searchParams.set("_routes",e.filter(P=>T.has(P.route.id)).map(P=>P.route.id).join(",")),[D.pathname+D.search]},[l,c,r,i,p,e,t,a]),b=I.useMemo(()=>m2(h,i),[h,i]),k=k2(h);return I.createElement(I.Fragment,null,g.map(T=>I.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),b.map(T=>I.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),k.map(({key:T,link:A})=>I.createElement("link",{key:T,...A})))}function x2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mx&&(window.__reactRouterVersion="7.7.0")}catch{}function E2({basename:t,children:e,window:n}){let r=I.useRef();r.current==null&&(r.current=uD({window:n,v5Compat:!0}));let i=r.current,[a,l]=I.useState({action:i.action,location:i.location}),c=I.useCallback(d=>{I.startTransition(()=>l(d))},[l]);return I.useLayoutEffect(()=>i.listen(c),[i,c]),I.createElement(t2,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var yx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gx=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:p,preventScrollReset:h,viewTransition:g,...b},k){let{basename:T}=I.useContext(ki),A=typeof p=="string"&&yx.test(p),D,P=!1;if(typeof p=="string"&&A&&(D=p,mx))try{let Ae=new URL(window.location.href),Ne=p.startsWith("//")?new URL(Ae.protocol+p):new URL(p),dt=fs(Ne.pathname,T);Ne.origin===Ae.origin&&dt!=null?p=dt+Ne.search+Ne.hash:P=!0}catch{wi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=BD(p,{relative:i}),[$,ae,Y]=b2(r,b),ue=R2(p,{replace:l,state:c,target:d,preventScrollReset:h,relative:i,viewTransition:g});function pe(Ae){e&&e(Ae),Ae.defaultPrevented||ue(Ae)}let de=I.createElement("a",{...b,...Y,href:D||z,onClick:P||a?e:pe,ref:x2(k,ae),target:d,"data-discover":!A&&n==="render"?"true":void 0});return $&&!A?I.createElement(I.Fragment,null,de,I.createElement(S2,{page:z})):de});gx.displayName="Link";var C2=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...p},h){let g=cd(l,{relative:p.relative}),b=To(),k=I.useContext(uh),{navigator:T,basename:A}=I.useContext(ki),D=k!=null&&L2(g)&&c===!0,P=T.encodeLocation?T.encodeLocation(g).pathname:g.pathname,z=b.pathname,$=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(z=z.toLowerCase(),$=$?$.toLowerCase():null,P=P.toLowerCase()),$&&A&&($=fs($,A)||$);const ae=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let Y=z===P||!i&&z.startsWith(P)&&z.charAt(ae)==="/",ue=$!=null&&($===P||!i&&$.startsWith(P)&&$.charAt(P.length)==="/"),pe={isActive:Y,isPending:ue,isTransitioning:D},de=Y?e:void 0,Ae;typeof r=="function"?Ae=r(pe):Ae=[r,Y?"active":null,ue?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof a=="function"?a(pe):a;return I.createElement(gx,{...p,"aria-current":de,className:Ae,ref:h,style:Ne,to:l,viewTransition:c},typeof d=="function"?d(pe):d)});C2.displayName="NavLink";var A2=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Zf,action:c,onSubmit:d,relative:p,preventScrollReset:h,viewTransition:g,...b},k)=>{let T=O2(),A=N2(c,{relative:p}),D=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&yx.test(c),z=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let ae=$.nativeEvent.submitter,Y=ae?.getAttribute("formmethod")||l;T(ae||$.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:i,state:a,relative:p,preventScrollReset:h,viewTransition:g})};return I.createElement("form",{ref:k,method:D,action:A,onSubmit:r?d:z,...b,"data-discover":!P&&t==="render"?"true":void 0})});A2.displayName="Form";function M2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vx(t){let e=I.useContext(Jl);return zt(e,M2(t)),e}function R2(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=ID(),d=To(),p=cd(t,{relative:a});return I.useCallback(h=>{if(o2(h,e)){h.preventDefault();let g=n!==void 0?n:zc(d)===zc(p);c(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,p,n,r,e,t,i,a,l])}var D2=0,P2=()=>`__${String(++D2)}__`;function O2(){let{router:t}=vx("useSubmit"),{basename:e}=I.useContext(ki),n=YD();return I.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:d,body:p}=c2(r,e);if(i.navigate===!1){let h=i.fetcherKey||P2();await t.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function N2(t,{relative:e}={}){let{basename:n}=I.useContext(ki),r=I.useContext(Ti);zt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...cd(t||".",{relative:e})},l=To();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(h=>h==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let h=c.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:us([n,a.pathname])),zc(a)}function L2(t,e={}){let n=I.useContext(lx);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vx("useViewTransitionState"),i=cd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dp(i.pathname,l)!=null||dp(i.pathname,a)!=null}var _2=tx();const B2=ad(_2),wx=I.createContext();function I2({children:t}){const[e,n]=I.useState(()=>localStorage.getItem("theme")||"light");return I.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(e),localStorage.setItem("theme",e)},[e]),ne.jsx(wx.Provider,{value:{theme:e,setTheme:n},children:t})}function j2(){return I.useContext(wx)}const Je=t=>typeof t=="string",pc=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},QS=t=>t==null?"":""+t,z2=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},V2=/###/g,ZS=t=>t&&t.indexOf("###")>-1?t.replace(V2,"."):t,ek=t=>!t||Je(t),Tc=(t,e,n)=>{const r=Je(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(ek(t))return{};const a=ZS(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return ek(t)?{}:{obj:t,k:ZS(r[i])}},tk=(t,e,n)=>{const{obj:r,k:i}=Tc(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=Tc(t,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=Tc(t,l,Object),c?.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=n},U2=(t,e,n,r)=>{const{obj:i,k:a}=Tc(t,e,Object);i[a]=i[a]||[],i[a].push(n)},fp=(t,e)=>{const{obj:n,k:r}=Tc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},H2=(t,e,n)=>{const r=fp(t,n);return r!==void 0?r:fp(e,n)},bx=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Je(t[r])||t[r]instanceof String||Je(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):bx(t[r],e[r],n):t[r]=e[r]);return t},Sl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var F2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const K2=t=>Je(t)?t.replace(/[&<>"'\/]/g,e=>F2[e]):t;class q2{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const W2=[" ",",","?","!",";"],J2=new q2(20),$2=(t,e,n)=>{e=e||"",n=n||"";const r=W2.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(r.length===0)return!0;const i=J2.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(t);if(!a){const l=t.indexOf(n);l>0&&!i.test(t.substring(0,l))&&(a=!0)}return a},Tg=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let d=a;d<r.length;++d)if(d!==a&&(c+=n),c+=r[d],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;a+=d-a+1;break}i=l}return i},Vc=t=>t?.replace("_","-"),G2={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class pp{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||G2,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Je(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new pp(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new pp(this.logger,e)}}var mi=new pp;let dh=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...n])})}};class nk extends dh{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],r&&(Array.isArray(r)?c.push(...r):Je(r)&&a?c.push(...r.split(a)):c.push(r)));const d=fp(this.data,c);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=c[0],n=c[1],r=c.slice(2).join(".")),d||!l||!Je(r)?d:Tg(this.data?.[e]?.[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,n];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=n,n=c[1]),this.addNamespaces(n),tk(this.data,c,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(Je(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,l={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=n,n=c[1]),this.addNamespaces(n);let d=fp(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?bx(d,r,a):d={...d,...r},tk(this.data,c,d),l.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Sx={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{e=this.processors[a]?.process(e,n,r,i)??e}),e}};const rk={},ik=t=>!Je(t)&&typeof t!="boolean"&&typeof t!="number";class hp extends dh{constructor(e,n={}){super(),z2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=mi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!$2(e,r,i);if(l&&!c){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Je(a)?[a]:a};const p=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(p[0])>-1)&&(a=p.shift()),e=p.join(i)}return{key:e,namespaces:Je(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],i),p=d[d.length-1];let h=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const g=i.lng||this.language,b=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return b?a?{res:`${p}${h}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(i)}:`${p}${h}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(i)}:c;const k=this.resolve(e,i);let T=k?.res;const A=k?.usedKey||c,D=k?.exactUsedKey||c,P=["[object Number]","[object Function]","[object RegExp]"],z=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,ae=i.count!==void 0&&!Je(i.count),Y=hp.hasDefaultValue(i),ue=ae?this.pluralResolver.getSuffix(g,i.count,i):"",pe=i.ordinal&&ae?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",de=ae&&!i.ordinal&&i.count===0,Ae=de&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${ue}`]||i[`defaultValue${pe}`]||i.defaultValue;let Ne=T;$&&!T&&Y&&(Ne=Ae);const dt=ik(Ne),ft=Object.prototype.toString.apply(Ne);if($&&Ne&&dt&&P.indexOf(ft)<0&&!(Je(z)&&Array.isArray(Ne))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const pt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(A,Ne,{...i,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(k.res=pt,k.usedParams=this.getUsedParamsDetails(i),k):pt}if(l){const pt=Array.isArray(Ne),wt=pt?[]:{},mt=pt?D:A;for(const se in Ne)if(Object.prototype.hasOwnProperty.call(Ne,se)){const me=`${mt}${l}${se}`;Y&&!T?wt[se]=this.translate(me,{...i,defaultValue:ik(Ae)?Ae[se]:void 0,joinArrays:!1,ns:d}):wt[se]=this.translate(me,{...i,joinArrays:!1,ns:d}),wt[se]===me&&(wt[se]=Ne[se])}T=wt}}else if($&&Je(z)&&Array.isArray(T))T=T.join(z),T&&(T=this.extendTranslation(T,e,i,r));else{let pt=!1,wt=!1;!this.isValidLookup(T)&&Y&&(pt=!0,T=Ae),this.isValidLookup(T)||(wt=!0,T=c);const se=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&wt?void 0:T,me=Y&&Ae!==T&&this.options.updateMissing;if(wt||pt||me){if(this.logger.log(me?"updateKey":"missingKey",g,p,c,me?Ae:T),l){const ce=this.resolve(c,{...i,keySeparator:!1});ce&&ce.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Me=[];const Ye=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ye&&Ye[0])for(let ce=0;ce<Ye.length;ce++)Me.push(Ye[ce]);else this.options.saveMissingTo==="all"?Me=this.languageUtils.toResolveHierarchy(i.lng||this.language):Me.push(i.lng||this.language);const B=(ce,Ee,ke)=>{const _e=Y&&ke!==T?ke:se;this.options.missingKeyHandler?this.options.missingKeyHandler(ce,p,Ee,_e,me,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ce,p,Ee,_e,me,i),this.emit("missingKey",ce,p,Ee,T)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ae?Me.forEach(ce=>{const Ee=this.pluralResolver.getSuffixes(ce,i);de&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Ee.indexOf(`${this.options.pluralSeparator}zero`)<0&&Ee.push(`${this.options.pluralSeparator}zero`),Ee.forEach(ke=>{B([ce],c+ke,i[`defaultValue${ke}`]||Ae)})}):B(Me,c,Ae))}T=this.extendTranslation(T,e,i,k,r),wt&&T===c&&this.options.appendNamespaceToMissingKey&&(T=`${p}${h}${c}`),(wt||pt)&&this.options.parseMissingKeyHandler&&(T=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${h}${c}`:c,pt?T:void 0,i))}return a?(k.res=T,k.usedParams=this.getUsedParamsDetails(i),k):T}extendTranslation(e,n,r,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=Je(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const g=e.match(this.interpolator.nestingRegexp);p=g&&g.length}let h=r.replace&&!Je(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),d){const g=e.match(this.interpolator.nestingRegexp),b=g&&g.length;p<b&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>a?.[0]===g[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=Je(l)?[l]:l;return e!=null&&c?.length&&r.applyPostProcessor!==!1&&(e=Sx.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,l,c;return Je(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const p=this.extractFromKey(d,n),h=p.key;i=h;let g=p.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const b=n.count!==void 0&&!Je(n.count),k=b&&!n.ordinal&&n.count===0,T=n.context!==void 0&&(Je(n.context)||typeof n.context=="number")&&n.context!=="",A=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(D=>{this.isValidLookup(r)||(c=D,!rk[`${A[0]}-${D}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(rk[`${A[0]}-${D}`]=!0,this.logger.warn(`key "${i}" for languages "${A.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),A.forEach(P=>{if(this.isValidLookup(r))return;l=P;const z=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(z,h,P,D,n);else{let ae;b&&(ae=this.pluralResolver.getSuffix(P,n.count,n));const Y=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(z.push(h+ae),n.ordinal&&ae.indexOf(ue)===0&&z.push(h+ae.replace(ue,this.options.pluralSeparator)),k&&z.push(h+Y)),T){const pe=`${h}${this.options.contextSeparator}${n.context}`;z.push(pe),b&&(z.push(pe+ae),n.ordinal&&ae.indexOf(ue)===0&&z.push(pe+ae.replace(ue,this.options.pluralSeparator)),k&&z.push(pe+Y))}}let $;for(;$=z.pop();)this.isValidLookup(r)||(a=$,r=this.getResource(P,D,$,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Je(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class sk{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=mi.create("languageUtils")}getScriptPartFromCode(e){if(e=Vc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Vc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Je(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Je(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Je(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Je(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const ak={zero:0,one:1,two:2,few:3,many:4,other:5},ok={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Y2{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=mi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Vc(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ok;if(!e.match(/-|_/))return ok;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[a]=l,l}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>ak[i]-ak[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const lk=(t,e,n,r=".",i=!0)=>{let a=H2(t,e,n);return!a&&i&&Je(n)&&(a=Tg(t,n,r),a===void 0&&(a=Tg(e,n,r))),a},Ay=t=>t.replace(/\$/g,"$$$$");class X2{constructor(e={}){this.logger=mi.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:p,unescapeSuffix:h,unescapePrefix:g,nestingPrefix:b,nestingPrefixEscaped:k,nestingSuffix:T,nestingSuffixEscaped:A,nestingOptionsSeparator:D,maxReplaces:P,alwaysFormat:z}=e.interpolation;this.escape=n!==void 0?n:K2,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Sl(a):l||"{{",this.suffix=c?Sl(c):d||"}}",this.formatSeparator=p||",",this.unescapePrefix=h?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=b?Sl(b):k||Sl("$t("),this.nestingSuffix=T?Sl(T):A||Sl(")"),this.nestingOptionsSeparator=D||",",this.maxReplaces=P||1e3,this.alwaysFormat=z!==void 0?z:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let a,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=k=>{if(k.indexOf(this.formatSeparator)<0){const P=lk(n,d,k,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(P,void 0,r,{...i,...n,interpolationkey:k}):P}const T=k.split(this.formatSeparator),A=T.shift().trim(),D=T.join(this.formatSeparator).trim();return this.format(lk(n,d,A,this.options.keySeparator,this.options.ignoreJSONStructure),D,r,{...i,...n,interpolationkey:A})};this.resetRegExp();const h=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:k=>Ay(k)},{regex:this.regexp,safeValue:k=>this.escapeValue?Ay(this.escape(k)):Ay(k)}].forEach(k=>{for(c=0;a=k.regex.exec(e);){const T=a[1].trim();if(l=p(T),l===void 0)if(typeof h=="function"){const D=h(e,a,i);l=Je(D)?D:""}else if(i&&Object.prototype.hasOwnProperty.call(i,T))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${e}`),l="";else!Je(l)&&!this.useRawValueToEscape&&(l=QS(l));const A=k.safeValue(l);if(e=e.replace(a[0],A),g?(k.regex.lastIndex+=l.length,k.regex.lastIndex-=a[0].length):k.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,l;const c=(d,p)=>{const h=this.nestingOptionsSeparator;if(d.indexOf(h)<0)return d;const g=d.split(new RegExp(`${h}[ ]*{`));let b=`{${g[1]}`;d=g[0],b=this.interpolate(b,l);const k=b.match(/'/g),T=b.match(/"/g);((k?.length??0)%2===0&&!T||T.length%2!==0)&&(b=b.replace(/'/g,'"'));try{l=JSON.parse(b),p&&(l={...p,...l})}catch(A){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,A),`${d}${h}${b}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!Je(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const p=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(p!==-1&&(d=i[1].slice(p).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),i[1]=i[1].slice(0,p)),a=n(c.call(this,i[1].trim(),l),l),a&&i[0]===e&&!Je(a))return a;Je(a)||(a=QS(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((h,g)=>this.format(h,g,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const Q2=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),p=d.join(":").trim().replace(/^'+|'+$/g,""),h=c.trim();n[h]||(n[h]=p),p==="false"&&(n[h]=!1),p==="true"&&(n[h]=!0),isNaN(p)||(n[h]=parseInt(p,10))}})}return{formatName:e,formatOptions:n}},uk=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=t(Vc(r),i),e[l]=c),c(n)}},Z2=t=>(e,n,r)=>t(Vc(n),r)(e);class eP{constructor(e={}){this.logger=mi.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?uk:Z2;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return c=>l.format(c)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return c=>l.format(c)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return c=>l.format(c,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return c=>l.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=uk(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,d)=>{const{formatName:p,formatOptions:h}=Q2(d);if(this.formats[p]){let g=c;try{const b=i?.formatParams?.[i.interpolationkey]||{},k=b.locale||b.lng||i.locale||i.lng||r;g=this.formats[p](c,k,{...h,...i,...b})}catch(b){this.logger.warn(b)}return g}else this.logger.warn(`there was no format function for ${p}`);return c},e)}}const tP=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class nP extends dh{constructor(e,n,r,i={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=mi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,n,r,i){const a={},l={},c={},d={};return e.forEach(p=>{let h=!0;n.forEach(g=>{const b=`${p}|${g}`;!r.reload&&this.store.hasResourceBundle(p,g)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?l[b]===void 0&&(l[b]=!0):(this.state[b]=1,h=!1,l[b]===void 0&&(l[b]=!0),a[b]===void 0&&(a[b]=!0),d[g]===void 0&&(d[g]=!0)))}),h||(c[p]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){const i=e.split("|"),a=i[0],l=i[1];n&&this.emit("failedLoading",a,l,n),!n&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const c={};this.queue.forEach(d=>{U2(d.loaded,[a],l),tP(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(p=>{c[p]||(c[p]={});const h=d.loaded[p];h.length&&h.forEach(g=>{c[p][g]===void 0&&(c[p][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const c=(p,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(p&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,l)},a);return}l(p,h)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const p=d(e,n);p&&typeof p.then=="function"?p.then(h=>c(null,h)).catch(c):c(null,p)}catch(p){c(p)}return}return d(e,n,c)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Je(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Je(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,n,r,i,a,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const d={...l,isUpdate:a},p=this.backend.create.bind(this.backend);if(p.length<6)try{let h;p.length===5?h=p(e,n,r,i,d):h=p(e,n,r,i),h&&typeof h.then=="function"?h.then(g=>c(null,g)).catch(c):c(null,h)}catch(h){c(h)}else p(e,n,r,i,c,d)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const ck=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Je(t[1])&&(e.defaultValue=t[1]),Je(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),dk=t=>(Je(t.ns)&&(t.ns=[t.ns]),Je(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Je(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Bf=()=>{},rP=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Uc extends dh{constructor(e={},n){if(super(),this.options=dk(e),this.services={},this.logger=mi,this.modules={external:[]},rP(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Je(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=ck();this.options={...r,...this.options,...dk(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?mi.init(i(this.modules.logger),this.options):mi.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=eP;const h=new sk(this.options);this.store=new nk(this.options.resources,this.options);const g=this.services;g.logger=mi,g.resourceStore=this.store,g.languageUtils=h,g.pluralResolver=new Y2(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=i(p),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new X2(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new nP(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(k,...T)=>{this.emit(k,...T)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new hp(this.services,this.options),this.translator.on("*",(k,...T)=>{this.emit(k,...T)}),this.modules.external.forEach(k=>{k.init&&k.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Bf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...h)=>this.store[p](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...h)=>(this.store[p](...h),this)});const c=pc(),d=()=>{const p=(h,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(h,g)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,n=Bf){let r=n;const i=Je(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(p=>{p!=="cimode"&&a.indexOf(p)<0&&a.push(p)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=pc();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Bf),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Sx.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=pc();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...p)=>this.t(...p)),n&&n(c,(...p)=>this.t(...p))},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=Je(c)?c:c&&c[0],p=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Je(c)?[c]:c);p&&(this.language||i(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,h=>{a(h,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,n,r){const i=(a,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([a,l].concat(c)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);const p=this.options.keySeparator||".";let h;return d.keyPrefix&&Array.isArray(a)?h=a.map(g=>`${d.keyPrefix}${p}${g}`):h=d.keyPrefix?`${d.keyPrefix}${p}${a}`:a,this.t(h,d)};return Je(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const p=this.services.backendConnector.state[`${c}|${d}`];return p===-1||p===0||p===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,n){const r=pc();return this.options.ns?(Je(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=pc();Je(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),n&&n(l)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new sk(ck());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Uc(e,n)}cloneInstance(e={},n=Bf){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Uc(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const c=Object.keys(this.store.data).reduce((d,p)=>(d[p]={...this.store.data[p]},d[p]=Object.keys(d[p]).reduce((h,g)=>(h[g]={...d[p][g]},h),d[p]),d),{});a.store=new nk(c,i),a.services.resourceStore=a.store}return a.translator=new hp(a.services,i),a.translator.on("*",(c,...d)=>{a.emit(c,...d)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Dn=Uc.createInstance();Dn.createInstance=Uc.createInstance;Dn.createInstance;Dn.dir;Dn.init;Dn.loadResources;Dn.reloadResources;Dn.use;Dn.changeLanguage;Dn.getFixedT;Dn.t;Dn.exists;Dn.setDefaultNamespace;Dn.hasLoadedNamespace;Dn.loadNamespaces;Dn.loadLanguages;const iP=(t,e,n,r)=>{const i=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);uo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},fk={},xg=(t,e,n,r)=>{uo(n)&&fk[n]||(uo(n)&&(fk[n]=new Date),iP(t,e,n,r))},kx=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Eg=(t,e,n)=>{t.loadNamespaces(e,kx(t,n))},pk=(t,e,n,r)=>{if(uo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Eg(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,kx(t,r))},sP=(t,e,n={})=>!e.languages||!e.languages.length?(xg(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n?.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),uo=t=>typeof t=="string",aP=t=>typeof t=="object"&&t!==null,oP=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,lP={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},uP=t=>lP[t],cP=t=>t.replace(oP,uP);let Cg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:cP};const dP=(t={})=>{Cg={...Cg,...t}},fP=()=>Cg;let Tx;const pP=t=>{Tx=t},hP=()=>Tx,mP={type:"3rdParty",init(t){dP(t.options.react),pP(t)}},yP=I.createContext();class gP{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const vP=(t,e)=>{const n=I.useRef();return I.useEffect(()=>{n.current=t},[t,e]),n.current},xx=(t,e,n,r)=>t.getFixedT(e,n,r),wP=(t,e,n,r)=>I.useCallback(xx(t,e,n,r),[t,e,n,r]),Ta=(t,e={})=>{const{i18n:n}=e,{i18n:r,defaultNS:i}=I.useContext(yP)||{},a=n||r||hP();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new gP),!a){xg(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const ae=(ue,pe)=>uo(pe)?pe:aP(pe)&&uo(pe.defaultValue)?pe.defaultValue:Array.isArray(ue)?ue[ue.length-1]:ue,Y=[ae,{},!1];return Y.t=ae,Y.i18n={},Y.ready=!1,Y}a.options.react?.wait&&xg(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...fP(),...a.options.react,...e},{useSuspense:c,keyPrefix:d}=l;let p=i||a.options?.defaultNS;p=uo(p)?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces?.(p);const h=(a.isInitialized||a.initializedStoreOnce)&&p.every(ae=>sP(ae,a,l)),g=wP(a,e.lng||null,l.nsMode==="fallback"?p:p[0],d),b=()=>g,k=()=>xx(a,e.lng||null,l.nsMode==="fallback"?p:p[0],d),[T,A]=I.useState(b);let D=p.join();e.lng&&(D=`${e.lng}${D}`);const P=vP(D),z=I.useRef(!0);I.useEffect(()=>{const{bindI18n:ae,bindI18nStore:Y}=l;z.current=!0,!h&&!c&&(e.lng?pk(a,e.lng,p,()=>{z.current&&A(k)}):Eg(a,p,()=>{z.current&&A(k)})),h&&P&&P!==D&&z.current&&A(k);const ue=()=>{z.current&&A(k)};return ae&&a?.on(ae,ue),Y&&a?.store.on(Y,ue),()=>{z.current=!1,a&&ae?.split(" ").forEach(pe=>a.off(pe,ue)),Y&&a&&Y.split(" ").forEach(pe=>a.store.off(pe,ue))}},[a,D]),I.useEffect(()=>{z.current&&h&&A(b)},[a,d,h]);const $=[T,a,h];if($.t=T,$.i18n=a,$.ready=h,h||!h&&!c)return $;throw new Promise(ae=>{e.lng?pk(a,e.lng,p,()=>ae()):Eg(a,p,()=>ae())})},bP={مرحبا:"مرحبا"},SP="Hello",kP={hello:SP},TP={ar:{translation:bP},en:{translation:kP}};Dn.use(mP).init({resources:TP,lng:"ar",fallbackLng:"ar",interpolation:{escapeValue:!1}});const Ex=I.createContext();function xP({children:t}){const[e,n]=I.useState(null),[r,i]=I.useState("ar"),[a,l]=I.useState({}),c=d=>{i(d),Dn.changeLanguage(d)};return ne.jsx(Ex.Provider,{value:{user:e,setUser:n,lang:r,setLang:c,settings:a,setSettings:l},children:t})}function $l(){return I.useContext(Ex)}function EP(){return ne.jsx("aside",{className:"w-0 md:w-56 bg-zinc-100 dark:bg-zinc-900 border-e hidden md:block min-h-screen"})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),hk=t=>{const e=AP(t);return e.charAt(0).toUpperCase()+e.slice(1)},Cx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),MP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},d)=>I.createElement("svg",{ref:d,...RP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Cx("lucide",i),...!a&&!MP(c)&&{"aria-hidden":"true"},...c},[...l.map(([p,h])=>I.createElement(p,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=(t,e)=>{const n=I.forwardRef(({className:r,...i},a)=>I.createElement(DP,{ref:a,iconNode:e,className:Cx(`lucide-${CP(hk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=hk(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],OP=Ax("moon",PP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],LP=Ax("sun",NP);function _P(){const{theme:t,setTheme:e}=j2(),{lang:n,setLang:r}=$l(),i=()=>e(t==="dark"?"light":"dark"),a=()=>r(n==="ar"?"en":"ar");return ne.jsxs("nav",{className:"flex items-center justify-between px-4 py-2 border-b bg-white dark:bg-zinc-900",children:[ne.jsx("div",{className:"font-bold text-cyan-700 text-lg",children:"خطة الأمن السيبراني المطور"}),ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx("button",{onClick:a,className:"px-2 py-1 rounded text-xs font-semibold bg-gray-100 dark:bg-zinc-800 text-gray-700 dark:text-gray-200 hover:bg-cyan-100 dark:hover:bg-cyan-900 transition",children:n==="ar"?"EN":"عربي"}),ne.jsx("button",{onClick:i,className:"p-2 rounded-full bg-gray-100 dark:bg-zinc-800 text-cyan-700 dark:text-cyan-300 hover:bg-cyan-100 dark:hover:bg-cyan-900 transition",title:t==="dark"?"وضع النهار":"وضع الليل",children:t==="dark"?ne.jsx(LP,{size:18}):ne.jsx(OP,{size:18})})]})]})}function BP(){return ne.jsxs("div",{className:"flex min-h-screen bg-background",children:[ne.jsx(EP,{}),ne.jsxs("div",{className:"flex-1 flex flex-col",children:[ne.jsx(_P,{}),ne.jsx("main",{className:"flex-1 p-4",children:ne.jsx(e2,{})})]})]})}const My=JSON.parse(`[{"week":1,"phase":1,"title":{"en":"Introduction to Cybersecurity","ar":"مقدمة إلى عالم الأمن السيبراني"},"objective":{"en":"Build a solid understanding of the fundamental concepts and principles, get to know the security teams, and set up the practical work environment.","ar":"بناء فهم صلب للمفاهيم والمبادئ الأساسية التي يقوم عليها المجال، والتعرف على الفرق الأمنية، وإعداد بيئة العمل العملية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"What is Cybersecurity & the CIA Triad","ar":"ما هو الأمن السيبراني ومبدأ الـ CIA Triad"},"tasks":[{"id":"w1d1t1","type":"Blue Team","duration":75,"description":{"en":"Watch a comprehensive intro video and read a detailed article on the CIA Triad.","ar":"شاهد فيديو مقدمة شاملة واقرأ مقالاً مفصلاً عن مبدأ CIA Triad."}},{"id":"w1d1t2","type":"Soft Skills","duration":45,"description":{"en":"Analyze how 3 services you use daily (Gmail, WhatsApp) apply the CIA principles.","ar":"حلل كيف تطبق 3 خدمات تستخدمها يوميًا (Gmail, WhatsApp) مبادئ CIA."}}],"resources":[{"type":"video","title":"Cybersecurity Full Course for Beginners (freeCodeCamp)","url":"https://www.youtube.com/watch?v=2e--p8o4KjA"},{"type":"article","title":"What is the CIA Triad - Fortinet","url":"https://www.fortinet.com/resources/cyberglossary/cia-triad"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"The Core Concept: Answer 'What is Cybersecurity?' in your own paragraph.","ar":"المفهوم الأساسي: أجب عن سؤال \\"ما هو الأمن السيبراني؟\\" بفقرة من صياغتك الخاصة."},{"en":"CIA Triad Table: Create a table (Confidentiality, Integrity, Availability) with a definition, a technical example, and a violation example for each.","ar":"جدول CIA Triad: أنشئ جدولاً (السرية، النزاهة، التوفر) مع تعريف ومثال تقني ومثال لانتهاك كل مبدأ."},{"en":"New Terms: Define Asset, Threat, Vulnerability, Risk.","ar":"مصطلحات جديدة: عرّف Asset, Threat, Vulnerability, Risk."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Threat Types and Threat Actors","ar":"أنواع التهديدات والجهات الفاعلة"},"tasks":[{"id":"w1d2t1","type":"Blue Team","duration":60,"description":{"en":"Study threat types (Malware, Phishing).","ar":"ادرس أنواع التهديدات (Malware, Phishing)."}},{"id":"w1d2t2","type":"Red Team","duration":45,"description":{"en":"Study threat actors (Script Kiddies, APTs).","ar":"ادرس الجهات الفاعلة (Script Kiddies, APTs)."}},{"id":"w1d2t3","type":"Practical","duration":15,"description":{"en":"Read a summary of the 'Stuxnet' attack.","ar":"اقرأ ملخصا عن هجوم \\"Stuxnet\\"."}}],"resources":[{"type":"article","title":"Common cyber attack types - IBM","url":"https://www.ibm.com/topics/cyberattacks"},{"type":"article","title":"Who are the threat actors? - CrowdStrike","url":"https://www.crowdstrike.com/cybersecurity-101/threat-actors/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Threat Classification: Create a list of threats with a brief definition and an example.","ar":"تصنيف التهديدات: أنشئ قائمة بالتهديدات مع تعريف موجز ومثال."},{"en":"Threat Actor Profile: Create a comparison table for threat actors (Category, Motive, Skill).","ar":"ملف الجهات الفاعلة: أنشئ جدولاً للمقارنة بين الجهات الفاعلة (الفئة، الدافع، المهارة)."},{"en":"Connecting Concepts: Link the 'Stuxnet' attack to a potential 'threat actor' and 'motive'.","ar":"ربط المفاهيم: اربط هجوم \\"Stuxnet\\" بـ \\"الجهة الفاعلة\\" المحتملة\\" و \\"الدافع\\"."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Security Teams & Roles","ar":"الفرق الأمنية والأدوار"},"tasks":[{"id":"w1d3t1","type":"Blue Team","duration":60,"description":{"en":"Learn about Blue Team (defense), Red Team (offense), and Purple Team (collaboration).","ar":"تعرف على الفريق الأزرق (الدفاع)، الفريق الأحمر (الهجوم)، والفريق البنفسجي (التكامل)."}},{"id":"w1d3t2","type":"Soft Skills","duration":45,"description":{"en":"Research typical roles in each team (SOC Analyst, Penetration Tester, etc.).","ar":"ابحث عن الأدوار النموذجية في كل فريق (محلل مركز عمليات الأمن، مختبر اختراق، إلخ)."}}],"resources":[{"type":"article","title":"Blue Team vs Red Team vs Purple Team – CrowdStrike","url":"https://www.crowdstrike.com/cybersecurity-101/blue-team-vs-red-team-vs-purple-team/"},{"type":"article","title":"SOC Roles Explained – SANS","url":"https://www.sans.org/blog/understanding-soc-roles/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the main security team types and their core mission.","ar":"عدد أنواع الفرق الأمنية الرئيسية ومهمتها الأساسية."},{"en":"Write a short paragraph about which team interests you most and why.","ar":"اكتب فقرة قصيرة حول أي فريق يثير اهتمامك أكثر ولماذا."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Cybersecurity Domains & Specializations","ar":"مجالات وتخصصات الأمن السيبراني"},"tasks":[{"id":"w1d4t1","type":"Blue Team","duration":60,"description":{"en":"Explore main cybersecurity domains: Network Security, Application Security, Incident Response, GRC, etc.","ar":"استكشف مجالات الأمن السيبراني الرئيسية: أمن الشبكات، أمن التطبيقات، الاستجابة للحوادث، الحوكمة والمخاطر والامتثال، إلخ."}},{"id":"w1d4t2","type":"Soft Skills","duration":45,"description":{"en":"Map which domains relate to which team roles.","ar":"اربط بين المجالات المختلفة والأدوار المرتبطة بها في الفرق الأمنية."}}],"resources":[{"type":"article","title":"Cybersecurity Domains Overview – NIST","url":"https://www.nist.gov/itl/applied-cybersecurity/nice/nice-framework-resource-center"},{"type":"article","title":"Cybersecurity Career Pathways – SANS","url":"https://www.sans.org/cyber-security-courses/cybersecurity-career-pathways/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Draw a mind map of cybersecurity domains.","ar":"ارسم خريطة ذهنية لمجالات الأمن السيبراني."},{"en":"List three domains you want to explore further.","ar":"عدد ثلاثة مجالات ترغب في استكشافها أكثر."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Setting Up the Practical Lab","ar":"إعداد المعمل العملي"},"tasks":[{"id":"w1d5t1","type":"Practical","duration":90,"description":{"en":"Prepare your cyber lab: install a VM (Kali Linux or Windows), set up Wireshark and basic tools.","ar":"جهز معملك السيبراني: ثبت جهاز افتراضي (Kali Linux أو Windows)، وأدوات مثل Wireshark."}},{"id":"w1d5t2","type":"Practical","duration":30,"description":{"en":"Test connectivity and take a screenshot of your setup.","ar":"اختبر الاتصال بالشبكة والتقط صورة لإعدادك."}}],"resources":[{"type":"guide","title":"Setting Up a Cybersecurity Lab – TryHackMe","url":"https://tryhackme.com/blog/setting-up-a-cybersecurity-lab/"},{"type":"guide","title":"Wireshark Quickstart Guide – Wireshark Docs","url":"https://www.wireshark.org/docs/wsug_html_chunked/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe your lab setup and any challenges faced.","ar":"صف إعداد معملك وأي تحديات واجهتها."},{"en":"List the main tools you installed.","ar":"عدد الأدوات الأساسية التي ثبتها."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Cybersecurity News & Community","ar":"أخبار الأمن السيبراني والمجتمع"},"tasks":[{"id":"w1d6t1","type":"Soft Skills","duration":60,"description":{"en":"Subscribe to two cybersecurity news sources (e.g., KrebsOnSecurity, The Hacker News).","ar":"اشترك في مصدرين لأخبار الأمن السيبراني (مثل KrebsOnSecurity، The Hacker News)."}},{"id":"w1d6t2","type":"Soft Skills","duration":30,"description":{"en":"Join a cybersecurity community/forum (e.g., r/cybersecurity, TryHackMe Discord).","ar":"انضم إلى مجتمع أو منتدى للأمن السيبراني (مثل r/cybersecurity أو TryHackMe Discord)."}}],"resources":[{"type":"news","title":"Krebs on Security","url":"https://krebsonsecurity.com/"},{"type":"news","title":"The Hacker News","url":"https://thehackernews.com/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize one interesting news item you read today.","ar":"لخص خبراً مهماً قرأته اليوم."},{"en":"List the communities you joined.","ar":"عدد المجتمعات التي انضممت إليها."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Review & Reflection","ar":"مراجعة وتأمل"},"tasks":[{"id":"w1d7t1","type":"Soft Skills","duration":60,"description":{"en":"Review all concepts learned this week and discuss with a peer or mentor what you found most interesting or challenging.","ar":"راجع جميع المفاهيم التي تعلمتها هذا الأسبوع وناقش مع زميل أو مشرف أكثر ما وجدته مثيراً أو صعباً."}}],"resources":[],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write a summary of your key takeaways from week 1.","ar":"اكتب ملخصاً لأهم ما استفدته من الأسبوع الأول."},{"en":"Set one goal for next week.","ar":"حدد هدفاً واحداً للأسبوع القادم."}]}}]},{"week":2,"phase":1,"title":{"en":"Networking Fundamentals","ar":"أساسيات الشبكات"},"objective":{"en":"Understand how devices communicate over networks, models, and protocols. Master Wireshark basics.","ar":"فهم كيفية تواصل الأجهزة عبر الشبكات ونماذجها وبروتوكولاتها، وإتقان أساسيات Wireshark."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"OSI Model","ar":"نموذج OSI"},"tasks":[{"id":"w2d1t1","type":"Blue Team","duration":75,"description":{"en":"Study the seven OSI layers and their functions.","ar":"ادرس طبقات OSI السبع ووظائفها."}},{"id":"w2d1t2","type":"Practical","duration":45,"description":{"en":"Draw the OSI layers and use a mnemonic to memorize them.","ar":"ارسم طبقات OSI واستخدم جملة مساعدة للتذكر."}}],"resources":[{"type":"video","title":"OSI Model Explained - Professor Messer","url":"https://www.youtube.com/watch?v=vv4y_uOneC0"},{"type":"article","title":"What is the OSI Model - Cloudflare","url":"https://www.cloudflare.com/learning/ddos/glossary/open-systems-interconnection-model-osi/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"OSI Table: Create a table for OSI layers (number, name, function, protocol example).","ar":"جدول OSI: أنشئ جدولاً لطبقات OSI (الرقم، الاسم، الوظيفة، مثال على بروتوكول)."},{"en":"New Terms: Define Encapsulation, Decapsulation.","ar":"مصطلحات جديدة: عرّف Encapsulation, Decapsulation."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"TCP/IP Model and TCP vs UDP","ar":"نموذج TCP/IP و TCP مقابل UDP"},"tasks":[{"id":"w2d2t1","type":"Blue Team","duration":75,"description":{"en":"Study TCP/IP model and compare it to OSI. Focus on TCP 3-way handshake.","ar":"ادرس نموذج TCP/IP وقارنه بـ OSI. ركز على المصافحة الثلاثية في TCP."}},{"id":"w2d2t2","type":"Practical","duration":45,"description":{"en":"Create a comparison table between TCP and UDP.","ar":"أنشئ جدول مقارنة بين TCP و UDP."}}],"resources":[{"type":"video","title":"TCP vs UDP","url":"https://www.youtube.com/watch?v=Vdc8TCESIg8"},{"type":"video","title":"TCP 3-Way Handshake Explained","url":"https://www.youtube.com/watch?v=xrN2yPzhu6A"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Comparison Table: Document TCP vs UDP (reliability, speed, usage).","ar":"جدول مقارنة: وثق المقارنة بين TCP و UDP (الموثوقية، السرعة، أمثلة الاستخدام)."},{"en":"Diagram: Draw the 3-way handshake steps.","ar":"رسم بياني: ارسم خطوات المصافحة الثلاثية (SYN, SYN-ACK, ACK)."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Common Protocols and Policies","ar":"البروتوكولات الشائعة والسياسات"},"tasks":[{"id":"w2d3t1","type":"Blue Team","duration":75,"description":{"en":"Study how DNS, HTTP, DHCP work.","ar":"ادرس آلية عمل DNS, HTTP, DHCP."}},{"id":"w2d3t2","type":"Policies","duration":45,"description":{"en":"Design a 3-point checklist for employees to verify links before clicking.","ar":"صمم قائمة تحقق من 3 نقاط للموظفين للتحقق من شرعية رابط قبل النقر عليه."}}],"resources":[{"type":"article","title":"How DNS Works","url":"https://www.cloudflare.com/learning/dns/what-is-dns/"},{"type":"article","title":"What is DHCP","url":"https://www.cisco.com/c/en/us/products/collateral/switches/campus-lan-switches-802-11ac/white-paper-c11-740091.html"},{"type":"tool","title":"who.is","url":"https://who.is/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Protocol Summary: Write a 2-line summary for each protocol.","ar":"ملخص البروتوكولات: اكتب ملخصا من سطرين لكل بروتوكول."},{"en":"Checklist: Write your designed checklist.","ar":"قائمة التحقق: اكتب قائمة التحقق التي صممتها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Introduction to Wireshark","ar":"مقدمة إلى Wireshark"},"tasks":[{"id":"w2d4t1","type":"Practical","duration":45,"description":{"en":"Download and install Wireshark and Npcap.","ar":"قم بتنزيل وتثبيت Wireshark و Npcap."}},{"id":"w2d4t2","type":"Blue Team","duration":75,"description":{"en":"Explore the main interface and three main windows.","ar":"تعرف على الواجهة الرئيسية والنوافذ الثلاث."}}],"resources":[{"type":"program","title":"Wireshark","url":"https://www.wireshark.org/"},{"type":"video","title":"Wireshark Tutorial for Beginners","url":"https://www.youtube.com/watch?v=TkCSr30UojM"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Screenshots: Take screenshots of Wireshark interface and label the three windows.","ar":"توثيق الواجهة: خذ لقطات شاشة لواجهة Wireshark وقم بتسمية النوافذ الثلاث عليها."},{"en":"New Terms: Define PCAP, Display Filter.","ar":"مصطلحات جديدة: عرّف PCAP, Display Filter."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Lab: Packet Analysis","ar":"مختبر عملي: تحليل الحزم"},"tasks":[{"id":"w2d5t1","type":"Practical","duration":120,"description":{"en":"Capture and analyze ping, nslookup, and http traffic using Wireshark filters.","ar":"التقط حركة مرور ناتجة عن ping و nslookup وتصفح موقع http. استخدم فلاتر العرض (icmp, dns, http) لعزل كل نوع."}}],"resources":[{"type":"site","title":"example.com","url":"http://example.com"},{"type":"reference","title":"Wireshark Display Filters Cheat Sheet","url":"https://cheatography.com/ashlyn-black/cheat-sheets/wireshark-display-filters/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document: Record result for each filter. For one DNS packet, write the 'question' and 'answer'.","ar":"توثيق التحليل: وثق نتيجة كل فلتر استخدمته. اختر حزمة DNS واحدة واكتب \\"السؤال\\" و \\"الإجابة\\"."},{"en":"Save: Save the capture file (.pcapng) in your projects folder.","ar":"حفظ الدليل: احفظ ملف الالتقاط (.pcapng) في مجلد مشاريعك."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Attacker Perspective","ar":"المراجعة ومنظور المهاجم"},"tasks":[{"id":"w2d6t1","type":"Blue Team","duration":60,"description":{"en":"Review notes and common ports (80, 443, 53).","ar":"راجع ملاحظاتك والمنافذ الشهيرة (80, 443, 53)."}},{"id":"w2d6t2","type":"Red Team","duration":60,"description":{"en":"Research Man-in-the-Middle (MITM) and ARP Spoofing attacks.","ar":"ابحث عن هجوم Man-in-the-Middle (MITM) و ARP Spoofing."}}],"resources":[{"type":"article","title":"What is a Man-in-the-Middle Attack?","url":"https://www.kaspersky.com/resource-center/definitions/man-in-the-middle-attack"},{"type":"article","title":"ARP Spoofing","url":"https://www.imperva.com/learn/application-security/arp-spoofing/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Attack Summary: Write a paragraph on MITM risks.","ar":"ملخص الهجوم: اكتب فقرة تشرح خطورة هجوم MITM."},{"en":"Self-Review: Answer weekly review questions.","ar":"مراجعة ذاتية: أجب عن أسئلة المراجعة الأسبوعية."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},[{"week":3,"phase":1,"title":{"en":"Network Security Fundamentals","ar":"أساسيات أمن الشبكات"},"objective":{"en":"Understand the role and function of basic network security controls (firewalls, IDS), and get to know their tools.","ar":"فهم دور ووظيفة الضوابط الأمنية الأساسية للشبكة (الجدران النارية، أنظمة كشف التسلل)، والتعرف على أدواتها."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Firewalls","ar":"الجدران النارية"},"tasks":[{"id":"w3d1t1","type":"Blue Team","duration":75,"description":{"en":"Study stateful vs stateless firewalls and WAF.","ar":"ادرس الفرق بين جدار الحماية ذي الحالة وعديم الحالة وجدار حماية تطبيقات الويب (WAF)."}},{"id":"w3d1t2","type":"Practical","duration":45,"description":{"en":"Draw a simple network diagram showing firewall and WAF placement.","ar":"ارسم مخطط شبكة بسيطة توضح أين يجب وضع جدار الحماية الرئيسي وأين يوضع الـ WAF."}}],"resources":[{"type":"video","title":"Firewalls Explained","url":"https://www.youtube.com/watch?v=3QhU9jd03a0"},{"type":"article","title":"What is a WAF (Web Application Firewall)?","url":"https://www.cloudflare.com/learning/ddos/glossary/web-application-firewall-waf/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Comparison Table: Create a table comparing firewall types (layer, protection, example).","ar":"جدول مقارنة: أنشئ جدولاً يقارن بين أنواع الجدران النارية (الطبقة التي تعمل بها، مستوى الحماية، أمثلة)."},{"en":"New Terms: Define Stateful/Stateless Inspection, WAF, Proxy.","ar":"مصطلحات جديدة: عرّف Stateful/Stateless Inspection, WAF, Proxy."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"IDS/IPS","ar":"أنظمة كشف ومنع التسلل"},"tasks":[{"id":"w3d2t1","type":"Blue Team","duration":75,"description":{"en":"Study IDS vs IPS and signature-based vs anomaly-based detection.","ar":"ادرس الفرق بين IDS (يكتشف ويبلغ) و IPS (يكتشف ويمنع). قارن بين الكشف المعتمد على التوقيع والسلوك."}},{"id":"w3d2t2","type":"Blue Team","duration":45,"description":{"en":"Understand the difference between NIDS and HIDS.","ar":"افهم الفرق بين NIDS (على الشبكة) و HIDS (على الجهاز)."}}],"resources":[{"type":"video","title":"IDS vs IPS Explained","url":"https://www.youtube.com/watch?v=6KXy4l5S6l0"},{"type":"article","title":"Signature vs Anomaly Based IDS","url":"https://www.geeksforgeeks.org/signature-based-vs-anomaly-based-ids/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Scenarios: Write when to use IDS vs IPS.","ar":"سيناريوهات: اكتب متى يكون استخدام IDS أفضل من IPS والعكس."},{"en":"Comparison Table: Summarize NIDS vs HIDS.","ar":"جدول مقارنة: لخص الفروقات بين NIDS و HIDS (مكان التثبيت، نوع البيانات التي يراها، مثال)."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Vulnerability Management & Policies","ar":"مقدمة لإدارة الثغرات والسياسات"},"tasks":[{"id":"w3d3t1","type":"Blue Team","duration":75,"description":{"en":"Study vulnerability management lifecycle and CVSS.","ar":"ادرس دورة حياة إدارة الثغرات (اكتشاف، تقييم، معالجة، إبلاغ). ادرس نظام تسجيل الثغرات (CVSS)."}},{"id":"w3d3t2","type":"Policies","duration":45,"description":{"en":"Write a vulnerability management policy clause for remediation timeframes.","ar":"اكتب بندا في سياسة إدارة الثغرات يحدد الإطار الزمني لمعالجة الثغرات بناءً على شدتها."}}],"resources":[{"type":"video","title":"What is Vulnerability Management?","url":"https://www.youtube.com/watch?v=5ZyQK6l1GvY"},{"type":"article","title":"CVSS Score Explained","url":"https://www.first.org/cvss/v3-1/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Diagram: Draw vulnerability management lifecycle.","ar":"رسم بياني: ارسم مخططا يوضح دورة حياة إدارة الثغرات."},{"en":"Policy Draft: Write your policy clause.","ar":"مسودات السياسات: اكتب البند الذي صغته لسياسة إدارة الثغرات."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Network Security Tools","ar":"التعرف على أدوات أمن الشبكات"},"tasks":[{"id":"w3d4t1","type":"Blue Team","duration":75,"description":{"en":"Read about ufw, Snort, and OpenVAS.","ar":"اقرأ عن ufw (جدار حماية بسيط في لينكس). شاهد مقدمة عن أداة Snort وأداة OpenVAS."}},{"id":"w3d4t2","type":"Soft Skills","duration":45,"description":{"en":"Prepare a simple explanation for a non-technical manager about firewall vs IDS.","ar":"جهز شرحًا مبسطا لمدير غير تقني، تشرح فيه الفرق بين جدار الحماية ونظام كشف التسلل."}}],"resources":[{"type":"article","title":"ufw firewall tutorial","url":"https://help.ubuntu.com/community/UFW"},{"type":"video","title":"Introduction to Snort","url":"https://www.youtube.com/watch?v=9tC2uBq8QGk"},{"type":"video","title":"OpenVAS tutorial","url":"https://www.youtube.com/watch?v=6p5j3QG6nEw"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Tool List: List the three tools with a one-line description.","ar":"قائمة أدوات: أنشئ قائمة بالأدوات الثلاث مع وصف من سطر واحد لكل أداة والغرض منها."},{"en":"Question for the future: How is a Snort rule written?","ar":"سؤال للمستقبل: كيف يتم كتابة قاعدة (rule) في Snort؟"}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Lab: Basic Firewall Setup","ar":"مختبر عملي: إعداد جدار حماية بسيط"},"tasks":[{"id":"w3d5t1","type":"Practical","duration":120,"description":{"en":"On your Ubuntu VM, use ufw to enable firewall, deny all incoming, allow SSH (22) and HTTP (80) only.","ar":"على جهازك الافتراضي (Ubuntu)، استخدم ufw لتفعيل جدار الحماية، رفض جميع الاتصالات القادمة، والسماح باتصالات SSH (منفذ 22) و HTTP (منفذ 80) فقط."}}],"resources":[{"type":"guide","title":"How to set up a firewall with UFW on Ubuntu","url":"https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document commands: List all ufw commands used with explanations.","ar":"توثيق الأوامر: اكتب جميع أوامر ufw التي استخدمتها مع شرح لما يفعله كل أمر."},{"en":"Screenshot: Take a screenshot of sudo ufw status output.","ar":"لقطات شاشة: خذ لقطة شاشة لناتج أمر sudo ufw status بعد تطبيق القواعد."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Attacker Perspective","ar":"المراجعة ومنظور المهاجم"},"tasks":[{"id":"w3d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all week concepts.","ar":"راجع جميع مفاهيم الأسبوع."}},{"id":"w3d6t2","type":"Red Team","duration":60,"description":{"en":"Research firewall and IDS evasion techniques.","ar":"ابحث عن تقنيات Firewall Evasion وكيف يحاول المهاجمون تجنب كشف الـ IDS."}}],"resources":[{"type":"article","title":"Firewall and IDS Evasion Techniques","url":"https://www.varonis.com/blog/ids-evasion"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Attack Summary: Summarize two IDS evasion techniques.","ar":"ملخص الهجوم: لخص طريقتين لتجنب كشف الـ IDS."},{"en":"Self-Review: Answer weekly review questions.","ar":"مراجعة ذاتية: أجب عن أسئلة المراجعة الأسبوعية."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":4,"phase":1,"title":{"en":"Secure Internet Communication (VPN, Tor, DNS Security)","ar":"الاتصال الآمن بالإنترنت (VPN, Tor, DNS Security)"},"objective":{"en":"Understand the risks of insecure internet connections and master tools and techniques (VPN, Tor, Secure DNS) for privacy and security.","ar":"فهم مخاطر الاتصالات غير الآمنة بالإنترنت، وإتقان الأدوات والتقنيات (VPN, Tor, Secure DNS) لضمان الخصوصية والأمان."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"DNS Security","ar":"أمن نظام أسماء النطاقات (DNS Security)"},"tasks":[{"id":"w4d1t1","type":"Blue Team","duration":75,"description":{"en":"Study how regular DNS requests are unencrypted. Learn about DNS over HTTPS (DoH) and DNS over TLS (DoT).","ar":"ادرس كيف أن طلبات DNS العادية غير مشفرة. تعرف على تقنيتي DNS over HTTPS (DoH) وDNS over TLS (DoT)."}},{"id":"w4d1t2","type":"Practical","duration":45,"description":{"en":"Change your DNS settings in your browser or OS to use a secure DNS server like Cloudflare (1.1.1.1).","ar":"قم بتغيير إعدادات DNS في متصفحك أو نظام التشغيل لاستخدام خادم DNS آمن مثل Cloudflare (1.1.1.1)."}}],"resources":[{"type":"video","title":"DNS over HTTPS (DoH) Explained","url":"https://www.youtube.com/watch?v=Zt3F1a6L5lY"},{"type":"guide","title":"How to Change DNS on Windows/Linux/Mac","url":"https://www.cloudflare.com/learning/dns/dns-over-https/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the difference between classic DNS and DoH/DoT.","ar":"لخص الفرق بين DNS التقليدي و DoH/DoT."},{"en":"List two privacy risks of using unsecured DNS.","ar":"اذكر خطرين على الخصوصية عند استخدام DNS غير آمن."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"VPN Fundamentals","ar":"أساسيات الشبكات الافتراضية الخاصة (VPN)"},"tasks":[{"id":"w4d2t1","type":"Blue Team","duration":60,"description":{"en":"Study how VPNs work and their use cases for privacy and bypassing censorship.","ar":"ادرس كيف تعمل الشبكات الافتراضية الخاصة (VPN) واستخداماتها للخصوصية وتجاوز الحجب."}},{"id":"w4d2t2","type":"Practical","duration":60,"description":{"en":"Install a free VPN client and test connecting to a secure server.","ar":"قم بتثبيت عميل VPN مجاني وجرب الاتصال بخادم آمن."}}],"resources":[{"type":"video","title":"How VPNs Work","url":"https://www.youtube.com/watch?v=_wQTRMBAvzg"},{"type":"guide","title":"Best Free VPN Clients","url":"https://www.techradar.com/vpn/best-free-vpn"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe a scenario where using a VPN is critical.","ar":"صف سيناريو يكون فيه استخدام VPN ضروريًا."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Tor Network","ar":"شبكة تور (Tor)"},"tasks":[{"id":"w4d3t1","type":"Blue Team","duration":60,"description":{"en":"Understand the basics of Tor, its architecture, and its privacy features.","ar":"افهم أساسيات شبكة Tor، بنيتها، وميزات الخصوصية فيها."}},{"id":"w4d3t2","type":"Practical","duration":60,"description":{"en":"Download and use Tor Browser to access a .onion site.","ar":"قم بتنزيل واستخدام متصفح Tor للدخول إلى موقع .onion."}}],"resources":[{"type":"video","title":"How Tor Works","url":"https://www.youtube.com/watch?v=2aHkqB6n6pM"},{"type":"guide","title":"Official Tor Browser Download","url":"https://www.torproject.org/download/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two advantages and two limitations of Tor.","ar":"اذكر ميزتين وعيبين لشبكة Tor."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Comparing Privacy Tools","ar":"مقارنة أدوات الخصوصية"},"tasks":[{"id":"w4d4t1","type":"Blue Team","duration":60,"description":{"en":"Compare VPN, Tor, and Secure DNS for privacy and security.","ar":"قارن بين VPN وTor وDNS الآمن من حيث الخصوصية والأمان."}},{"id":"w4d4t2","type":"Soft Skills","duration":60,"description":{"en":"Prepare a table or infographic to present your comparison.","ar":"جهز جدولاً أو رسمًا بيانيًا لعرض المقارنة."}}],"resources":[{"type":"article","title":"VPN vs Tor vs Secure DNS","url":"https://restoreprivacy.com/tools/vpn-vs-tor-vs-proxy/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Which tool would you recommend to a journalist? Why?","ar":"أي أداة توصي بها لصحفي؟ ولماذا؟"}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Practical Lab: Secure Browsing","ar":"مختبر عملي: التصفح الآمن"},"tasks":[{"id":"w4d5t1","type":"Practical","duration":120,"description":{"en":"Set up your browser with a secure DNS, test VPN and Tor, and document your findings.","ar":"قم بإعداد متصفحك مع DNS آمن، وجرب VPN وTor، ووثق النتائج."}}],"resources":[{"type":"guide","title":"Browser Security Settings Guide","url":"https://www.privacyguides.org/browsers/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document any issues faced during setup.","ar":"وثق أي مشاكل واجهتها أثناء الإعداد."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Weekly Review & Attacker Perspective","ar":"مراجعة أسبوعية ومنظور المهاجم"},"tasks":[{"id":"w4d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all concepts and privacy tools learned this week.","ar":"راجع جميع المفاهيم وأدوات الخصوصية التي تعلمتها هذا الأسبوع."}},{"id":"w4d6t2","type":"Red Team","duration":60,"description":{"en":"Research how attackers can bypass VPN and Tor.","ar":"ابحث كيف يمكن للمهاجمين تجاوز VPN وTor."}}],"resources":[{"type":"article","title":"How Attackers Bypass Privacy Tools","url":"https://www.kaspersky.com/blog/vpn-vulnerabilities/44547/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize two attack techniques targeting privacy tools.","ar":"لخص تقنيتين للهجوم تستهدفان أدوات الخصوصية."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]}],{"week":5,"phase":1,"title":{"en":"Linux Fundamentals","ar":"أساسيات نظام لينكس"},"objective":{"en":"Master basic Linux commands, file system, and permissions.","ar":"إتقان أوامر لينكس الأساسية، نظام الملفات، والصلاحيات."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Linux Overview & Distributions","ar":"نظرة عامة على لينكس والتوزيعات"},"tasks":[{"id":"w5d1t1","type":"Blue Team","duration":60,"description":{"en":"Learn about Linux history, kernel, and main distributions (Ubuntu, CentOS, Kali).","ar":"تعرف على تاريخ لينكس، النواة، وأشهر التوزيعات (Ubuntu, CentOS, Kali)."}},{"id":"w5d1t2","type":"Practical","duration":60,"description":{"en":"Boot your Ubuntu VM and explore the desktop and terminal.","ar":"شغل جهاز Ubuntu الافتراضي وتعرف على سطح المكتب والطرفية."}}],"resources":[{"type":"video","title":"What is Linux? - freeCodeCamp","url":"https://www.youtube.com/watch?v=yz7nYlnXLfE"},{"type":"article","title":"Linux Distributions Explained","url":"https://itsfoss.com/linux-distros-explained/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three Linux distributions and their best use case.","ar":"اكتب ثلاث توزيعات لينكس وأفضل استخدام لكل منها."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Linux File System Structure","ar":"هيكل نظام الملفات في لينكس"},"tasks":[{"id":"w5d2t1","type":"Blue Team","duration":60,"description":{"en":"Study the Linux file system hierarchy (/, /home, /etc, /var, /bin, etc).","ar":"ادرس تسلسل نظام الملفات في لينكس (/, /home, /etc, /var, /bin, إلخ)."}},{"id":"w5d2t2","type":"Practical","duration":60,"description":{"en":"Navigate the file system using terminal commands (ls, cd, pwd, tree).","ar":"تنقل في نظام الملفات باستخدام أوامر الطرفية (ls, cd, pwd, tree)."}}],"resources":[{"type":"article","title":"Linux Directory Structure Explained","url":"https://www.geeksforgeeks.org/linux-file-hierarchy-structure/"},{"type":"video","title":"Linux File System/Directory Structure Explained!","url":"https://www.youtube.com/watch?v=HbgzrKJvDRw"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Draw a diagram of the Linux file system and annotate key folders.","ar":"ارسم مخططًا يوضح نظام ملفات لينكس وحدد أهم المجلدات."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Essential Linux Commands","ar":"أوامر لينكس الأساسية"},"tasks":[{"id":"w5d3t1","type":"Blue Team","duration":60,"description":{"en":"Learn and practice basic commands: ls, cd, cp, mv, rm, mkdir, rmdir, cat, less, head, tail.","ar":"تعلم وطبق أوامر لينكس الأساسية: ls, cd, cp, mv, rm, mkdir, rmdir, cat, less, head, tail."}},{"id":"w5d3t2","type":"Practical","duration":60,"description":{"en":"Create, move, and delete files and directories on your VM.","ar":"أنشئ وانقل واحذف ملفات ومجلدات على جهازك الافتراضي."}}],"resources":[{"type":"article","title":"Basic Linux Commands for Beginners","url":"https://www.hostinger.com/tutorials/linux-commands"},{"type":"video","title":"Linux Command Line Tutorial For Beginners","url":"https://www.youtube.com/watch?v=oxuRxtrO2Ag"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Create a cheatsheet with the most used commands and their purpose.","ar":"أنشئ ورقة غش (cheatsheet) بأكثر الأوامر استخدامًا والغرض منها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Users, Groups, and Permissions","ar":"المستخدمون، المجموعات، والصلاحيات"},"tasks":[{"id":"w5d4t1","type":"Blue Team","duration":60,"description":{"en":"Understand users, groups, and permissions (rwx).","ar":"افهم المستخدمين، المجموعات، والصلاحيات (rwx)."}},{"id":"w5d4t2","type":"Practical","duration":60,"description":{"en":"Practice changing permissions with chmod and chown.","ar":"تدرب على تغيير الصلاحيات باستخدام chmod و chown."}}],"resources":[{"type":"article","title":"Understanding Linux File Permissions","url":"https://www.redhat.com/sysadmin/linux-file-permissions-explained"},{"type":"video","title":"Linux Permissions and Ownership Explained","url":"https://www.youtube.com/watch?v=Vf8R9lC5Q8M"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document the difference between chmod 755 and chmod 700.","ar":"وضح الفرق بين chmod 755 و chmod 700."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Process and Service Management","ar":"إدارة العمليات والخدمات في لينكس"},"tasks":[{"id":"w5d5t1","type":"Blue Team","duration":60,"description":{"en":"Learn about processes (ps, top, kill) and service management (systemctl, service).","ar":"تعلم عن العمليات (ps, top, kill) وإدارة الخدمات (systemctl, service)."}},{"id":"w5d5t2","type":"Practical","duration":60,"description":{"en":"Practice starting, stopping, and checking the status of services.","ar":"تدرب على بدء وإيقاف والتحقق من حالة الخدمات."}}],"resources":[{"type":"article","title":"How to Manage Processes in Linux","url":"https://www.geeksforgeeks.org/process-management-in-linux/"},{"type":"article","title":"How to Use Systemctl to Manage Systemd Services and Units","url":"https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three commands to monitor and control processes.","ar":"اكتب ثلاثة أوامر لمراقبة والتحكم في العمليات."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review and Linux Security Basics","ar":"مراجعة وأساسيات أمان لينكس"},"tasks":[{"id":"w5d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all Linux concepts learned this week.","ar":"راجع جميع مفاهيم لينكس التي تعلمتها هذا الأسبوع."}},{"id":"w5d6t2","type":"Red Team","duration":60,"description":{"en":"Research basic Linux hardening (disable root login, update system, configure firewall).","ar":"ابحث في تقوية لينكس الأساسية (تعطيل دخول root، تحديث النظام، إعداد جدار الحماية)."}}],"resources":[{"type":"article","title":"Linux Hardening in Hostile Networks: Server Security","url":"https://www.cyberciti.biz/tips/linux-security.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write a checklist for securing a new Linux installation.","ar":"اكتب قائمة تحقق لتأمين تثبيت لينكس جديد."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":6,"phase":1,"title":{"en":"Windows Security Basics","ar":"أساسيات أمان ويندوز"},"objective":{"en":"Understand Windows security architecture and basic hardening.","ar":"فهم بنية أمان ويندوز وطرق التقوية الأساسية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Windows Architecture & User Management","ar":"بنية ويندوز وإدارة المستخدمين"},"tasks":[{"id":"w6d1t1","type":"Blue Team","duration":60,"description":{"en":"Learn about Windows architecture, user accounts, and built-in groups.","ar":"تعرف على بنية ويندوز، حسابات المستخدمين، والمجموعات المدمجة."}},{"id":"w6d1t2","type":"Practical","duration":60,"description":{"en":"Create and manage users/groups on a Windows VM.","ar":"أنشئ وأدر مستخدمين ومجموعات على جهاز ويندوز افتراضي."}}],"resources":[{"type":"article","title":"Windows Architecture Basics","url":"https://learn.microsoft.com/en-us/windows/win32/learnwin32/windows-architecture"},{"type":"video","title":"Windows User and Group Management","url":"https://www.youtube.com/watch?v=8g8tQ2uGJ8k"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three built-in Windows groups and their purpose.","ar":"اذكر ثلاث مجموعات مدمجة في ويندوز والغرض من كل منها."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Windows File System & Permissions","ar":"نظام الملفات والصلاحيات في ويندوز"},"tasks":[{"id":"w6d2t1","type":"Blue Team","duration":60,"description":{"en":"Study NTFS file system, permissions, and inheritance.","ar":"ادرس نظام ملفات NTFS، الصلاحيات، والوراثة."}},{"id":"w6d2t2","type":"Practical","duration":60,"description":{"en":"Practice setting and auditing permissions on folders/files.","ar":"تدرب على ضبط ومراجعة الصلاحيات على المجلدات والملفات."}}],"resources":[{"type":"article","title":"NTFS Permissions Overview","url":"https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/icacls"},{"type":"video","title":"NTFS Permissions Explained","url":"https://www.youtube.com/watch?v=8J9p6w4j1vE"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Explain the difference between 'Allow' and 'Deny' permissions.","ar":"اشرح الفرق بين صلاحية 'السماح' و'المنع' في ويندوز."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Windows Update & Patch Management","ar":"تحديث ويندوز وإدارة التصحيحات"},"tasks":[{"id":"w6d3t1","type":"Blue Team","duration":60,"description":{"en":"Learn about Windows Update, WSUS, and patch management best practices.","ar":"تعرف على Windows Update وWSUS وأفضل ممارسات إدارة التصحيحات."}},{"id":"w6d3t2","type":"Practical","duration":60,"description":{"en":"Check for updates and review update history on your VM.","ar":"تحقق من وجود تحديثات وراجع سجل التحديثات على جهازك الافتراضي."}}],"resources":[{"type":"article","title":"Windows Update: FAQ","url":"https://support.microsoft.com/en-us/windows/windows-update-faq-7eabe63b-9af6-4919-8e1c-efc82e9a7b0a"},{"type":"article","title":"WSUS Overview","url":"https://learn.microsoft.com/en-us/windows-server/administration/windows-server-update-services/get-started/windows-server-update-services-wsus"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Why is patch management critical in enterprise environments?","ar":"لماذا تعتبر إدارة التصحيحات أمرًا حيويًا في بيئات المؤسسات؟"}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Windows Defender & Basic Hardening","ar":"ويندوز ديفندر وتقوية النظام الأساسية"},"tasks":[{"id":"w6d4t1","type":"Blue Team","duration":60,"description":{"en":"Explore Windows Defender Antivirus and firewall settings.","ar":"استكشف إعدادات Windows Defender Antivirus وجدار الحماية."}},{"id":"w6d4t2","type":"Practical","duration":60,"description":{"en":"Run a full scan and configure basic firewall rules.","ar":"قم بإجراء فحص كامل للجهاز واضبط قواعد جدار الحماية الأساسية."}}],"resources":[{"type":"article","title":"Turn Windows Security on or off","url":"https://support.microsoft.com/en-us/windows/help-protect-my-device-with-windows-security-538e9f0e-31c9-8b8a-6e6b-9d1a4f7f1c20"},{"type":"article","title":"Windows Firewall settings","url":"https://support.microsoft.com/en-us/windows/turn-microsoft-defender-firewall-on-or-off-ec0844f7-aebd-0583-67fe-601ecf5d774f"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two advantages of using Windows Defender.","ar":"اذكر ميزتين لاستخدام Windows Defender."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"User Account Control & Secure Settings","ar":"التحكم في حساب المستخدم وإعدادات الأمان"},"tasks":[{"id":"w6d5t1","type":"Blue Team","duration":60,"description":{"en":"Understand User Account Control (UAC) and secure login settings.","ar":"افهم التحكم في حساب المستخدم (UAC) وإعدادات تسجيل الدخول الآمن."}},{"id":"w6d5t2","type":"Practical","duration":60,"description":{"en":"Change UAC settings and set a strong password policy.","ar":"قم بتغيير إعدادات UAC وضع سياسة كلمات مرور قوية."}}],"resources":[{"type":"article","title":"What is User Account Control?","url":"https://learn.microsoft.com/en-us/windows/security/identity-protection/user-account-control/how-user-account-control-works"},{"type":"article","title":"How to Create a Strong Password Policy","url":"https://www.csoonline.com/article/2124681/how-to-create-a-strong-password-policy.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"What happens if UAC is disabled?","ar":"ماذا يحدث إذا تم تعطيل UAC؟"}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Windows Security Tools","ar":"مراجعة وأدوات أمان ويندوز"},"tasks":[{"id":"w6d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all Windows security concepts learned this week.","ar":"راجع جميع مفاهيم أمان ويندوز التي تعلمتها هذا الأسبوع."}},{"id":"w6d6t2","type":"Red Team","duration":60,"description":{"en":"Research Windows security tools (Sysinternals, Process Explorer, Autoruns).","ar":"ابحث عن أدوات أمان ويندوز (Sysinternals, Process Explorer, Autoruns)."}}],"resources":[{"type":"article","title":"Windows Sysinternals Documentation","url":"https://learn.microsoft.com/en-us/sysinternals/"},{"type":"video","title":"Process Explorer & Autoruns Tutorial","url":"https://www.youtube.com/watch?v=0J1R1gk4Q1c"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two Sysinternals tools and their use.","ar":"اذكر أداتين من Sysinternals وفائدتهما."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":7,"phase":1,"title":{"en":"Cryptography Fundamentals","ar":"علم التشفير"},"objective":{"en":"Understand basic cryptography concepts and algorithms.","ar":"فهم أساسيات ومفاهيم التشفير والخوارزميات المستخدمة."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"What is Cryptography?","ar":"ما هو علم التشفير؟"},"tasks":[{"id":"w7d1t1","type":"Blue Team","duration":60,"description":{"en":"Learn the history and goals of cryptography (confidentiality, integrity, authentication, non-repudiation).","ar":"تعرف على تاريخ وأهداف علم التشفير (السرية، النزاهة، التوثيق، عدم الإنكار)."}},{"id":"w7d1t2","type":"Practical","duration":60,"description":{"en":"Write a paragraph on why cryptography is essential in cybersecurity.","ar":"اكتب فقرة عن أهمية التشفير في الأمن السيبراني."}}],"resources":[{"type":"video","title":"What is Cryptography? - Computerphile","url":"https://www.youtube.com/watch?v=6gk_1kmpEGs"},{"type":"article","title":"Introduction to Cryptography","url":"https://www.khanacademy.org/computing/computer-science/cryptography"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the four main goals of cryptography and give a real-life example for each.","ar":"عدد الأهداف الأربعة الرئيسية للتشفير مع مثال عملي لكل هدف."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Symmetric vs Asymmetric Encryption","ar":"التشفير المتماثل وغير المتماثل"},"tasks":[{"id":"w7d2t1","type":"Blue Team","duration":60,"description":{"en":"Study the difference between symmetric (AES, DES) and asymmetric (RSA, ECC) encryption.","ar":"ادرس الفرق بين التشفير المتماثل (AES, DES) وغير المتماثل (RSA, ECC)."}},{"id":"w7d2t2","type":"Practical","duration":60,"description":{"en":"Draw diagrams to illustrate both encryption types.","ar":"ارسم مخططين يوضحان آلية كل نوع من التشفير."}}],"resources":[{"type":"article","title":"Symmetric vs Asymmetric Encryption","url":"https://www.cloudflare.com/learning/ssl/symmetric-vs-asymmetric-encryption/"},{"type":"video","title":"Public Key Cryptography - Computerphile","url":"https://www.youtube.com/watch?v=GSIDS_lvRv4"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write a comparison table: symmetric vs asymmetric (speed, use case, key management).","ar":"اكتب جدول مقارنة بين التشفير المتماثل وغير المتماثل (السرعة، الاستخدام، إدارة المفاتيح)."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Hashing & Digital Signatures","ar":"التجزئة والتواقيع الرقمية"},"tasks":[{"id":"w7d3t1","type":"Blue Team","duration":60,"description":{"en":"Understand hashing (SHA-256, MD5) and its uses. Learn the basics of digital signatures.","ar":"افهم مفهوم التجزئة (SHA-256, MD5) واستخداماتها، وتعلم أساسيات التواقيع الرقمية."}},{"id":"w7d3t2","type":"Practical","duration":60,"description":{"en":"Use an online tool to hash a file and verify its integrity.","ar":"استخدم أداة على الإنترنت لتجزئة ملف والتحقق من سلامته."}}],"resources":[{"type":"article","title":"What is Hashing?","url":"https://www.geeksforgeeks.org/hashing-in-cryptography/"},{"type":"tool","title":"Online Hash Calculator","url":"https://emn178.github.io/online-tools/sha256.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Explain why hashing alone is not suitable for encrypting data.","ar":"اشرح لماذا لا يصلح استخدام التجزئة وحدها لتشفير البيانات."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Cryptography in Real Life","ar":"التشفير في الحياة الواقعية"},"tasks":[{"id":"w7d4t1","type":"Blue Team","duration":60,"description":{"en":"Explore how cryptography is used in SSL/TLS, VPNs, and messaging apps.","ar":"استكشف كيف يُستخدم التشفير في SSL/TLS، VPN، وتطبيقات المراسلة."}},{"id":"w7d4t2","type":"Practical","duration":60,"description":{"en":"Check the certificate details of any HTTPS website.","ar":"افحص تفاصيل شهادة الأمان لموقع ويب يستخدم HTTPS."}}],"resources":[{"type":"article","title":"How SSL/TLS works","url":"https://www.cloudflare.com/learning/ssl/how-ssl-works/"},{"type":"guide","title":"How to view SSL certificate in browser","url":"https://www.thesslstore.com/blog/view-ssl-certificate-details-in-every-browser/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three applications of cryptography you use daily.","ar":"عدد ثلاث تطبيقات تستخدم التشفير يوميًا في حياتك."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Common Attacks on Cryptography","ar":"الهجمات الشائعة على التشفير"},"tasks":[{"id":"w7d5t1","type":"Blue Team","duration":60,"description":{"en":"Learn about brute force, dictionary, and man-in-the-middle attacks on cryptography.","ar":"تعرف على هجمات brute force، dictionary، وman-in-the-middle على التشفير."}},{"id":"w7d5t2","type":"Practical","duration":60,"description":{"en":"Research a famous cryptographic breach (e.g., Heartbleed) and summarize it.","ar":"ابحث عن اختراق شهير في التشفير (مثل Heartbleed) ولخصه."}}],"resources":[{"type":"article","title":"Heartbleed Explained","url":"https://www.csoonline.com/article/3530787/what-is-heartbleed-and-why-did-it-matter.html"},{"type":"article","title":"Common Attacks on Cryptography","url":"https://www.geeksforgeeks.org/cryptography-attacks/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the Heartbleed bug in 3 lines.","ar":"لخص ثغرة Heartbleed في ثلاث جمل."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Crypto Policy","ar":"مراجعة وسياسة التشفير"},"tasks":[{"id":"w7d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all cryptography concepts learned this week.","ar":"راجع جميع مفاهيم التشفير التي تعلمتها هذا الأسبوع."}},{"id":"w7d6t2","type":"Policies","duration":60,"description":{"en":"Draft a simple cryptography policy for a small company.","ar":"اكتب مسودة سياسة تشفير بسيطة لشركة صغيرة."}}],"resources":[{"type":"article","title":"NIST Cryptographic Standards","url":"https://csrc.nist.gov/publications/sp"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write two policy points for crypto key management.","ar":"اكتب نقطتين سياسيتين لإدارة مفاتيح التشفير."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":8,"phase":1,"title":{"en":"Advanced Cryptography, Data Transmission, and Container Basics","ar":"التشفير المتقدم، نقل البيانات، وأساسيات الحاويات"},"objective":{"en":"Understand advanced cryptography concepts, secure data transmission, and the basics of containerization.","ar":"فهم مفاهيم التشفير المتقدم، نقل البيانات بشكل آمن، وأساسيات الحاويات (Containers)."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Advanced Encryption: TLS/SSL","ar":"التشفير المتقدم: TLS/SSL"},"tasks":[{"id":"w8d1t1","type":"Blue Team","duration":60,"description":{"en":"Study how TLS/SSL secures data in transit and the handshake process.","ar":"ادرس كيف يؤمن TLS/SSL البيانات أثناء النقل، وآلية المصافحة (Handshake)."}},{"id":"w8d1t2","type":"Practical","duration":60,"description":{"en":"Use browser tools to inspect TLS certificates and cipher suites.","ar":"استخدم أدوات المتصفح لفحص شهادات TLS وأنواع التشفير المستخدمة."}}],"resources":[{"type":"article","title":"How TLS/SSL Works - Cloudflare","url":"https://www.cloudflare.com/learning/ssl/how-tls-ssl-works/"},{"type":"video","title":"TLS Handshake Explained","url":"https://www.youtube.com/watch?v=NEpLmq6wGmg"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the steps of the TLS handshake.","ar":"لخص خطوات المصافحة في TLS."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Data Transmission Protocols: SFTP, SCP, FTPS","ar":"بروتوكولات نقل البيانات: SFTP, SCP, FTPS"},"tasks":[{"id":"w8d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn the differences between SFTP, SCP, and FTPS for secure file transfer.","ar":"تعرف على الفروق بين SFTP وSCP وFTPS لنقل الملفات بشكل آمن."}},{"id":"w8d2t2","type":"Practical","duration":60,"description":{"en":"Transfer a file using SFTP or SCP between two systems.","ar":"انقل ملفًا باستخدام SFTP أو SCP بين جهازين."}}],"resources":[{"type":"article","title":"SFTP vs SCP vs FTPS","url":"https://www.hostinger.com/tutorials/sftp-vs-scp-vs-ftps"},{"type":"guide","title":"How to Use SCP Command","url":"https://www.geeksforgeeks.org/scp-command-in-linux-with-examples/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Create a table comparing SFTP, SCP, and FTPS (security, use case, port).","ar":"أنشئ جدول مقارنة بين SFTP وSCP وFTPS (الأمان، الاستخدام، المنفذ)."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Public Key Infrastructure (PKI)","ar":"بنية المفاتيح العامة (PKI)"},"tasks":[{"id":"w8d3t1","type":"Blue Team","duration":60,"description":{"en":"Understand PKI, digital certificates, CAs, and the chain of trust.","ar":"افهم بنية المفاتيح العامة، الشهادات الرقمية، سلطات التصديق، وسلسلة الثقة."}},{"id":"w8d3t2","type":"Practical","duration":60,"description":{"en":"Inspect the certificate chain of a secure website.","ar":"افحص سلسلة الشهادات لموقع ويب آمن."}}],"resources":[{"type":"article","title":"What is PKI? - DigiCert","url":"https://www.digicert.com/what-is-pki"},{"type":"guide","title":"How to View SSL Certificate Details","url":"https://www.thesslstore.com/blog/view-ssl-certificate-details-in-every-browser/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the components of PKI and their function.","ar":"عدد مكونات PKI ووظيفة كل منها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Introduction to Containers (Docker)","ar":"مقدمة في الحاويات (Docker)"},"tasks":[{"id":"w8d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn what containers are, their benefits, and the basics of Docker.","ar":"تعرف على مفهوم الحاويات، فوائدها، وأساسيات Docker."}},{"id":"w8d4t2","type":"Practical","duration":60,"description":{"en":"Install Docker and run your first container.","ar":"ثبت Docker وشغل أول حاوية لديك."}}],"resources":[{"type":"article","title":"What is a Container? - Docker","url":"https://www.docker.com/resources/what-container/"},{"type":"guide","title":"Get Started with Docker","url":"https://docs.docker.com/get-started/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe a real-world use case for containers.","ar":"صف حالة استخدام حقيقية للحاويات."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Container Security Basics","ar":"أساسيات أمان الحاويات"},"tasks":[{"id":"w8d5t1","type":"Blue Team","duration":60,"description":{"en":"Study basic container security risks and best practices.","ar":"ادرس مخاطر أمان الحاويات وأفضل الممارسات لتأمينها."}},{"id":"w8d5t2","type":"Practical","duration":60,"description":{"en":"Scan a Docker image for vulnerabilities using a free tool.","ar":"افحص صورة Docker بحثًا عن ثغرات باستخدام أداة مجانية."}}],"resources":[{"type":"article","title":"Docker Security Best Practices","url":"https://docs.docker.com/engine/security/security/"},{"type":"tool","title":"Docker Scan with Snyk","url":"https://docs.docker.com/engine/scan/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two common container security risks.","ar":"عدد خطرين شائعين في أمان الحاويات."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Secure Data Transmission Policy","ar":"مراجعة وسياسة نقل البيانات الآمن"},"tasks":[{"id":"w8d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all advanced cryptography and container concepts learned this week.","ar":"راجع جميع مفاهيم التشفير المتقدم والحاويات التي تعلمتها هذا الأسبوع."}},{"id":"w8d6t2","type":"Policies","duration":60,"description":{"en":"Draft a simple secure data transmission policy for your organization.","ar":"اكتب مسودة سياسة لنقل البيانات بشكل آمن في مؤسستك."}}],"resources":[{"type":"article","title":"NIST Guidelines for Data Transmission","url":"https://csrc.nist.gov/publications/detail/sp/800-52/rev-2/final"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write two policy points for secure file transfer.","ar":"اكتب نقطتين سياسيتين لنقل الملفات بشكل آمن."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":9,"phase":1,"title":{"en":"Attacker Perspective: Breaking In & Gaining Access","ar":"منظور المهاجم - كسر الحماية والوصول"},"objective":{"en":"Understand how attackers think, the phases of an attack, and basic exploitation techniques.","ar":"فهم كيف يفكر المهاجم، مراحل الهجوم، وأساسيات تقنيات الاستغلال."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"The Cyber Kill Chain","ar":"سلسلة القتل السيبراني (Cyber Kill Chain)"},"tasks":[{"id":"w9d1t1","type":"Red Team","duration":60,"description":{"en":"Study the Cyber Kill Chain model (Reconnaissance, Weaponization, Delivery, Exploitation, Installation, Command & Control, Actions on Objectives).","ar":"ادرس نموذج سلسلة القتل السيبراني (الاستطلاع، التسليح، التسليم، الاستغلال، التثبيت، التحكم، تحقيق الهدف)."}},{"id":"w9d1t2","type":"Practical","duration":60,"description":{"en":"Draw a diagram of the kill chain and relate each phase to a real-world attack.","ar":"ارسم مخططاً لسلسلة القتل السيبراني واربط كل مرحلة بهجوم واقعي."}}],"resources":[{"type":"article","title":"What is the Cyber Kill Chain?","url":"https://www.lockheedmartin.com/en-us/capabilities/cyber/cyber-kill-chain.html"},{"type":"video","title":"Cyber Kill Chain Explained","url":"https://www.youtube.com/watch?v=2ze2QGqI6DI"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize each phase of the kill chain in one line.","ar":"لخص كل مرحلة من سلسلة القتل السيبراني في سطر واحد."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Reconnaissance & Information Gathering","ar":"الاستطلاع وجمع المعلومات"},"tasks":[{"id":"w9d2t1","type":"Red Team","duration":60,"description":{"en":"Learn about passive and active reconnaissance (Google dorking, whois, nslookup, Shodan).","ar":"تعرف على الاستطلاع السلبي والنشط (البحث المتقدم في جوجل، whois، nslookup، Shodan)."}},{"id":"w9d2t2","type":"Practical","duration":60,"description":{"en":"Perform basic reconnaissance on a test domain using public tools.","ar":"قم باستطلاع معلومات عن نطاق تجريبي باستخدام أدوات عامة."}}],"resources":[{"type":"article","title":"What is Reconnaissance in Cybersecurity?","url":"https://www.crowdstrike.com/cybersecurity-101/reconnaissance/"},{"type":"tool","title":"Shodan Search Engine","url":"https://www.shodan.io/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document three findings from your reconnaissance activity.","ar":"وثق ثلاث نتائج من نشاط الاستطلاع الذي قمت به."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Scanning & Enumeration","ar":"المسح والتعداد"},"tasks":[{"id":"w9d3t1","type":"Red Team","duration":60,"description":{"en":"Understand port scanning (Nmap), service enumeration, and banner grabbing.","ar":"افهم مسح المنافذ باستخدام Nmap، وتعداد الخدمات، وجمع الشعارات (banner grabbing)."}},{"id":"w9d3t2","type":"Practical","duration":60,"description":{"en":"Run a basic Nmap scan on a local VM and interpret the results.","ar":"نفذ مسح Nmap بسيط على جهاز افتراضي محلي وحلل النتائج."}}],"resources":[{"type":"guide","title":"Nmap Tutorial for Beginners","url":"https://www.geeksforgeeks.org/nmap-commands/"},{"type":"tool","title":"Nmap Official","url":"https://nmap.org/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the open ports and services found in your scan.","ar":"عدد المنافذ والخدمات المفتوحة التي وجدتها في المسح."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"ar":"الثغرات والاستغلال الأساسي","en":"Vulnerabilities & Basic Exploitation"},"tasks":[{"id":"w9d4t1","type":"Red Team","duration":60,"description":{"en":"Learn about common vulnerabilities (default passwords, outdated software) and simple exploitation methods.","ar":"تعرف على الثغرات الشائعة (كلمات مرور افتراضية، برامج قديمة) وأساليب الاستغلال البسيطة."}},{"id":"w9d4t2","type":"Practical","duration":60,"description":{"en":"Try exploiting a test VM using a known default password.","ar":"جرب استغلال جهاز افتراضي تجريبي باستخدام كلمة مرور افتراضية معروفة."}}],"resources":[{"type":"article","title":"Common Vulnerabilities Explained","url":"https://www.cisa.gov/news-events/news/common-vulnerabilities-and-exposures"},{"type":"guide","title":"Metasploitable: Test Vulnerable VM","url":"https://sourceforge.net/projects/metasploitable/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe how you found and exploited a vulnerability.","ar":"اشرح كيف اكتشفت واستغليت ثغرة."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Gaining Access & Privilege Escalation","ar":"الحصول على الوصول وتصعيد الصلاحيات"},"tasks":[{"id":"w9d5t1","type":"Red Team","duration":60,"description":{"en":"Understand the basics of gaining initial access and privilege escalation techniques.","ar":"افهم أساسيات الحصول على وصول أولي وتقنيات تصعيد الصلاحيات."}},{"id":"w9d5t2","type":"Practical","duration":60,"description":{"en":"Attempt a simple privilege escalation on a test VM (e.g., sudo misconfiguration).","ar":"جرب تصعيد الصلاحيات على جهاز افتراضي تجريبي (مثلاً: خطأ في إعدادات sudo)."}}],"resources":[{"type":"article","title":"What is Privilege Escalation?","url":"https://www.crowdstrike.com/cybersecurity-101/privilege-escalation/"},{"type":"guide","title":"Linux Privilege Escalation Techniques","url":"https://book.hacktricks.xyz/linux-hardening/privilege-escalation"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize a privilege escalation method you tried.","ar":"لخص طريقة تصعيد الصلاحيات التي جربتها."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Defensive Reflection","ar":"مراجعة وانعكاس دفاعي"},"tasks":[{"id":"w9d6t1","type":"Red Team","duration":60,"description":{"en":"Review all attacker techniques learned this week.","ar":"راجع جميع تقنيات المهاجم التي تعلمتها هذا الأسبوع."}},{"id":"w9d6t2","type":"Blue Team","duration":60,"description":{"en":"Reflect: For each attack phase, write a defensive control that could stop or detect it.","ar":"انعكاس دفاعي: لكل مرحلة هجوم، اكتب إجراء دفاعي يمكنه إيقافها أو كشفها."}}],"resources":[{"type":"article","title":"Cyber Kill Chain Defenses","url":"https://www.sans.org/blog/the-cyber-kill-chain/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Map each kill chain phase to a defense.","ar":"اربط كل مرحلة من سلسلة القتل السيبراني بإجراء دفاعي مناسب."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":10,"phase":1,"title":{"en":"Threat Intelligence Fundamentals","ar":"أساسيات استخبارات التهديدات"},"objective":{"en":"Understand the basics of cyber threat intelligence, its sources, types, and how to use it to strengthen defenses.","ar":"فهم أساسيات استخبارات التهديدات السيبرانية، مصادرها، أنواعها، وكيفية توظيفها لتعزيز الدفاعات."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"What is Threat Intelligence?","ar":"ما هي استخبارات التهديدات؟"},"tasks":[{"id":"w10d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the definition, goals, and value of cyber threat intelligence (CTI).","ar":"ادرس تعريف استخبارات التهديدات وأهدافها وقيمتها للمؤسسات."}},{"id":"w10d1t2","type":"Practical","duration":60,"description":{"en":"List three real-world examples of threat intelligence improving security.","ar":"اكتب ثلاثة أمثلة واقعية لكيفية تحسين استخبارات التهديدات للأمن."}}],"resources":[{"type":"article","title":"What is Threat Intelligence? - CrowdStrike","url":"https://www.crowdstrike.com/cybersecurity-101/threat-intelligence/"},{"type":"video","title":"Threat Intelligence Explained","url":"https://www.youtube.com/watch?v=8nGd36NhmTE"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the main benefits of threat intelligence.","ar":"لخص الفوائد الرئيسية لاستخبارات التهديدات."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Types of Threat Intelligence","ar":"أنواع استخبارات التهديدات"},"tasks":[{"id":"w10d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn the difference between strategic, tactical, operational, and technical threat intelligence.","ar":"تعرف على الفرق بين استخبارات التهديد الاستراتيجية، التكتيكية، التشغيلية، والتقنية."}},{"id":"w10d2t2","type":"Practical","duration":60,"description":{"en":"Classify five sample intelligence items into the correct type.","ar":"صنف خمسة أمثلة لمعلومات استخباراتية حسب نوعها الصحيح."}}],"resources":[{"type":"article","title":"Types of Threat Intelligence - Recorded Future","url":"https://www.recordedfuture.com/types-of-threat-intelligence"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Create a table: type, definition, example.","ar":"أنشئ جدولاً: النوع، التعريف، مثال."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Sources of Threat Intelligence","ar":"مصادر استخبارات التهديدات"},"tasks":[{"id":"w10d3t1","type":"Blue Team","duration":60,"description":{"en":"Explore open source, commercial, and community threat intelligence feeds.","ar":"استكشف مصادر استخبارات التهديدات المفتوحة، التجارية، والمجتمعية."}},{"id":"w10d3t2","type":"Practical","duration":60,"description":{"en":"Subscribe to a free threat intelligence feed (e.g., AlienVault OTX) and review recent threats.","ar":"اشترك في مصدر استخبارات مجاني (مثال: AlienVault OTX) وراجع التهديدات الحديثة."}}],"resources":[{"type":"article","title":"Best Threat Intelligence Feeds","url":"https://www.cynet.com/blog/top-10-threat-intelligence-feeds/"},{"type":"tool","title":"AlienVault OTX","url":"https://otx.alienvault.com/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two benefits and one limitation of open source feeds.","ar":"اذكر ميزتين وعيبًا واحدًا لمصادر الاستخبارات المفتوحة."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Indicators of Compromise (IOCs)","ar":"مؤشرات الاختراق (IOCs)"},"tasks":[{"id":"w10d4t1","type":"Blue Team","duration":60,"description":{"en":"Understand what IOCs are (hashes, IPs, domains, file names) and their role in detection.","ar":"افهم ما هي مؤشرات الاختراق (hashes, IPs, domains, أسماء الملفات) ودورها في الكشف."}},{"id":"w10d4t2","type":"Practical","duration":60,"description":{"en":"Collect and document five IOCs from a recent public threat report.","ar":"اجمع ووثق خمسة مؤشرات اختراق من تقرير تهديد عام حديث."}}],"resources":[{"type":"article","title":"What is an IOC? - Palo Alto Networks","url":"https://www.paloaltonetworks.com/cyberpedia/what-is-an-indicator-of-compromise-ioc"},{"type":"tool","title":"VirusTotal","url":"https://www.virustotal.com/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document the five IOCs you found and their context.","ar":"وثق مؤشرات الاختراق الخمسة التي جمعتها وسياق كل منها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Threat Intelligence Platforms & Automation","ar":"منصات استخبارات التهديدات والأتمتة"},"tasks":[{"id":"w10d5t1","type":"Blue Team","duration":60,"description":{"en":"Learn about TIPs (Threat Intelligence Platforms) and the basics of automating threat ingestion.","ar":"تعرف على منصات استخبارات التهديدات (TIPs) وأساسيات أتمتة جمع التهديدات."}},{"id":"w10d5t2","type":"Practical","duration":60,"description":{"en":"Explore a free TIP (e.g., MISP) or test a threat feed integration.","ar":"استكشف منصة مجانية مثل MISP أو جرب دمج مصدر تهديد مع أداة بسيطة."}}],"resources":[{"type":"article","title":"What is a Threat Intelligence Platform?","url":"https://www.crowdstrike.com/cybersecurity-101/threat-intelligence-platforms/"},{"type":"tool","title":"MISP Open Source Threat Intelligence Platform","url":"https://www.misp-project.org/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two advantages of using a TIP.","ar":"عدد ميزتين لاستخدام منصة استخبارات التهديدات."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Threat Intelligence in Action","ar":"مراجعة وتطبيق عملي لاستخبارات التهديدات"},"tasks":[{"id":"w10d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all threat intelligence concepts learned this week.","ar":"راجع جميع مفاهيم استخبارات التهديدات التي تعلمتها هذا الأسبوع."}},{"id":"w10d6t2","type":"Practical","duration":60,"description":{"en":"Write a short scenario: How would you use threat intelligence to stop a phishing campaign?","ar":"اكتب سيناريو قصيرًا: كيف ستستخدم استخبارات التهديدات لإيقاف حملة تصيد إلكتروني؟"}}],"resources":[{"type":"article","title":"How to Use Threat Intelligence","url":"https://www.splunk.com/en_us/blog/security/how-to-use-threat-intelligence.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your scenario and the steps taken.","ar":"لخص السيناريو الذي كتبته والخطوات التي اتبعتها."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":11,"phase":1,"title":{"en":"SIEM & Log Collection Fundamentals","ar":"أساسيات SIEM وجمع السجلات"},"objective":{"en":"Understand the basics of Security Information and Event Management (SIEM), log types, and the value of centralized logging.","ar":"فهم أساسيات إدارة معلومات وأحداث الأمن (SIEM)، أنواع السجلات، وقيمة التجميع المركزي للسجلات."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"What is SIEM?","ar":"ما هو SIEM؟"},"tasks":[{"id":"w11d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the definition, main functions, and importance of SIEM systems.","ar":"ادرس تعريف SIEM، وظائفه الأساسية، وأهميته في بيئات الأمن السيبراني."}},{"id":"w11d1t2","type":"Practical","duration":60,"description":{"en":"List three real-world SIEM solutions and their main features.","ar":"عدد ثلاث حلول SIEM مشهورة وأبرز ميزاتها."}}],"resources":[{"type":"article","title":"What is SIEM? - IBM","url":"https://www.ibm.com/topics/siem"},{"type":"video","title":"SIEM Explained in 5 Minutes","url":"https://www.youtube.com/watch?v=5g0cuKqkDkM"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the main value SIEM brings to an organization.","ar":"لخص القيمة الأساسية التي يضيفها SIEM لأي مؤسسة."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Types of Logs & Log Sources","ar":"أنواع السجلات ومصادرها"},"tasks":[{"id":"w11d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about different log types: system, application, security, network, and audit logs.","ar":"تعرف على أنواع السجلات: النظام، التطبيقات، الأمان، الشبكة، وسجلات التدقيق."}},{"id":"w11d2t2","type":"Practical","duration":60,"description":{"en":"Identify log sources in Windows and Linux (Event Viewer, /var/log/).","ar":"حدد مصادر السجلات في ويندوز (Event Viewer) ولينكس (/var/log/)."}}],"resources":[{"type":"article","title":"Types of Log Data for SIEM","url":"https://www.splunk.com/en_us/data-insider/what-is-log-data.html"},{"type":"guide","title":"Linux Log Files Explained","url":"https://www.geeksforgeeks.org/log-files-in-linux/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the most critical log sources for a SOC.","ar":"عدد أهم مصادر السجلات لأي مركز عمليات أمنية (SOC)."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Log Collection & Normalization","ar":"جمع وتوحيد السجلات"},"tasks":[{"id":"w11d3t1","type":"Blue Team","duration":60,"description":{"en":"Study methods of log collection (agents, syslog, API) and the importance of normalization.","ar":"ادرس طرق جمع السجلات (وكلاء، syslog، API) وأهمية توحيد الصيغة (Normalization)."}},{"id":"w11d3t2","type":"Practical","duration":60,"description":{"en":"Configure a simple syslog server or review log forwarding settings.","ar":"قم بإعداد خادم syslog بسيط أو راجع إعدادات إرسال السجلات في نظامك."}}],"resources":[{"type":"article","title":"What is Syslog? - Cloudflare","url":"https://www.cloudflare.com/learning/ddos/glossary/syslog/"},{"type":"guide","title":"How to Set Up a Syslog Server on Linux","url":"https://www.tecmint.com/install-rsyslog-centralized-logging-in-linux/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Explain why log normalization is critical for SIEM analysis.","ar":"اشرح لماذا يعتبر توحيد صيغة السجلات ضروريًا لتحليل SIEM."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"SIEM Correlation & Alerting","ar":"الارتباط والتنبيه في SIEM"},"tasks":[{"id":"w11d4t1","type":"Blue Team","duration":60,"description":{"en":"Understand how SIEM correlates events and generates alerts.","ar":"افهم كيف يربط SIEM بين الأحداث المختلفة ويولد التنبيهات."}},{"id":"w11d4t2","type":"Practical","duration":60,"description":{"en":"Review example correlation rules (e.g., failed logins + privilege escalation).","ar":"راجع أمثلة على قواعد الارتباط مثل (محاولات دخول فاشلة متكررة + تصعيد صلاحيات)."}}],"resources":[{"type":"article","title":"How SIEM Correlation Works","url":"https://www.varonis.com/blog/siem-correlation"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write a simple correlation rule scenario.","ar":"اكتب سيناريو بسيط لقانون ارتباط في SIEM."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Hands-on: Free SIEM Tools","ar":"تجربة عملية: أدوات SIEM مجانية"},"tasks":[{"id":"w11d5t1","type":"Practical","duration":120,"description":{"en":"Install and explore a free SIEM solution (e.g., Wazuh, Security Onion, or Splunk Free).","ar":"قم بتثبيت واستكشاف أداة SIEM مجانية مثل Wazuh أو Security Onion أو Splunk Free."}}],"resources":[{"type":"guide","title":"Getting Started with Wazuh","url":"https://documentation.wazuh.com/current/getting-started/index.html"},{"type":"article","title":"Free SIEM Tools Overview","url":"https://www.techtarget.com/searchsecurity/feature/Top-free-SIEM-tools"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document your experience: installation steps, first dashboard impression.","ar":"وثق تجربتك: خطوات التثبيت والانطباع الأول عن لوحة التحكم."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & SIEM Use Cases","ar":"مراجعة وحالات استخدام SIEM"},"tasks":[{"id":"w11d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all SIEM and log management concepts learned this week.","ar":"راجع جميع مفاهيم SIEM وإدارة السجلات التي تعلمتها هذا الأسبوع."}},{"id":"w11d6t2","type":"Practical","duration":60,"description":{"en":"Write two SIEM use case scenarios (e.g., detecting brute force, insider threat).","ar":"اكتب حالتي استخدام عملية لـ SIEM (مثل اكتشاف هجوم brute force أو تهديد داخلي)."}}],"resources":[{"type":"article","title":"SIEM Use Cases Examples","url":"https://www.splunk.com/en_us/blog/security/siem-use-cases.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your two use cases and what logs are needed for each.","ar":"لخص حالتي الاستخدام وحدد السجلات المطلوبة لكل حالة."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":12,"phase":1,"title":{"en":"Incident Response Fundamentals","ar":"أساسيات الاستجابة للحوادث"},"objective":{"en":"Understand the basics of incident response, its phases, and practical steps for handling security incidents.","ar":"فهم أساسيات الاستجابة للحوادث، مراحلها، والخطوات العملية للتعامل مع الحوادث الأمنية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"What is Incident Response?","ar":"ما هي الاستجابة للحوادث؟"},"tasks":[{"id":"w12d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the definition, goals, and importance of incident response (IR) in cybersecurity.","ar":"ادرس تعريف الاستجابة للحوادث، أهدافها، وأهميتها في الأمن السيبراني."}},{"id":"w12d1t2","type":"Practical","duration":60,"description":{"en":"List three real-world incidents and how IR made a difference.","ar":"عدد ثلاثة حوادث واقعية وكيف أحدثت الاستجابة فرقاً."}}],"resources":[{"type":"article","title":"What is Incident Response? - CrowdStrike","url":"https://www.crowdstrike.com/cybersecurity-101/incident-response/"},{"type":"video","title":"Incident Response Explained","url":"https://www.youtube.com/watch?v=9gLrJ6lQkq8"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the main goals of incident response.","ar":"لخص الأهداف الرئيسية للاستجابة للحوادث."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Phases of Incident Response","ar":"مراحل الاستجابة للحوادث"},"tasks":[{"id":"w12d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn the six phases: Preparation, Identification, Containment, Eradication, Recovery, Lessons Learned.","ar":"تعرف على المراحل الست: التحضير، التعرف، الاحتواء، الاستئصال، الاستعادة، الدروس المستفادة."}},{"id":"w12d2t2","type":"Practical","duration":60,"description":{"en":"Draw a diagram of the IR lifecycle and give a brief description of each phase.","ar":"ارسم مخططاً لدورة حياة الاستجابة للحوادث مع شرح موجز لكل مرحلة."}}],"resources":[{"type":"article","title":"NIST Incident Response Lifecycle","url":"https://csrc.nist.gov/publications/detail/sp/800-61/rev-2/final"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Create a table: phase, definition, real-world example.","ar":"أنشئ جدولاً: المرحلة، التعريف، مثال واقعي."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Incident Response Team & Roles","ar":"فريق الاستجابة للحوادث والأدوار"},"tasks":[{"id":"w12d3t1","type":"Blue Team","duration":60,"description":{"en":"Study the structure of an incident response team (IRT) and key roles (manager, analyst, communicator, etc).","ar":"ادرس هيكل فريق الاستجابة للحوادث والأدوار الأساسية (مدير، محلل، مسؤول تواصل، إلخ)."}},{"id":"w12d3t2","type":"Practical","duration":60,"description":{"en":"Draft a simple IR team structure for a small company.","ar":"صمم هيكل فريق استجابة للحوادث لشركة صغيرة."}}],"resources":[{"type":"article","title":"Incident Response Team Roles and Responsibilities","url":"https://www.csoonline.com/article/3530778/incident-response-team-roles-and-responsibilities.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the main roles and their responsibilities.","ar":"عدد الأدوار الرئيسية ومسؤوليات كل منها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Detection & Initial Response","ar":"الكشف والاستجابة الأولية"},"tasks":[{"id":"w12d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn detection methods (SIEM alerts, EDR, user reports) and steps for initial response.","ar":"تعرف على طرق الكشف (تنبيهات SIEM، حلول EDR، بلاغات المستخدمين) وخطوات الاستجابة الأولية."}},{"id":"w12d4t2","type":"Practical","duration":60,"description":{"en":"Simulate an initial response to a phishing alert.","ar":"حاكي استجابة أولية لتنبيه تصيد إلكتروني."}}],"resources":[{"type":"article","title":"Incident Detection and Response Best Practices","url":"https://www.sans.org/blog/incident-detection-and-response-best-practices/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write the steps you would take for a suspicious email report.","ar":"اكتب خطواتك عند تلقي بلاغ عن بريد إلكتروني مشبوه."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Containment, Eradication, and Recovery","ar":"الاحتواء، الاستئصال، والاستعادة"},"tasks":[{"id":"w12d5t1","type":"Blue Team","duration":60,"description":{"en":"Study strategies for containing, eradicating, and recovering from incidents.","ar":"ادرس استراتيجيات احتواء الحوادث، استئصال التهديدات، واستعادة الأنظمة."}},{"id":"w12d5t2","type":"Practical","duration":60,"description":{"en":"Draft a checklist for containment and recovery steps.","ar":"اكتب قائمة تحقق لخطوات الاحتواء والاستعادة."}}],"resources":[{"type":"article","title":"NIST Incident Response Steps","url":"https://csrc.nist.gov/publications/detail/sp/800-61/rev-2/final"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two containment actions and two recovery actions.","ar":"عدد إجراءين للاحتواء وإجراءين للاستعادة."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Lessons Learned & Review","ar":"الدروس المستفادة والمراجعة"},"tasks":[{"id":"w12d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all IR concepts learned this week and the importance of post-incident analysis.","ar":"راجع جميع مفاهيم الاستجابة للحوادث التي تعلمتها هذا الأسبوع وأهمية تحليل ما بعد الحادثة."}},{"id":"w12d6t2","type":"Practical","duration":60,"description":{"en":"Write a short lessons-learned report for a simulated incident.","ar":"اكتب تقريرًا قصيرًا عن الدروس المستفادة من حادثة افتراضية."}}],"resources":[{"type":"article","title":"Post-Incident Review Best Practices","url":"https://www.sans.org/blog/post-incident-review-best-practices/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize two lessons learned from your scenario.","ar":"لخص درسين مستفادين من السيناريو الذي كتبته."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":13,"phase":1,"title":{"en":"GRC Fundamentals (Governance, Risk, and Compliance)","ar":"أساسيات الحوكمة والمخاطر والامتثال (GRC)"},"objective":{"en":"Understand the principles of governance, risk management, and compliance in cybersecurity, and how they shape security programs.","ar":"فهم مبادئ الحوكمة وإدارة المخاطر والامتثال في الأمن السيبراني، وكيف تؤثر على برامج الأمن."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"What is GRC?","ar":"ما هو GRC؟"},"tasks":[{"id":"w13d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the definition and core concepts of Governance, Risk, and Compliance.","ar":"ادرس تعريف ومفاهيم الحوكمة وإدارة المخاطر والامتثال."}},{"id":"w13d1t2","type":"Practical","duration":60,"description":{"en":"List three reasons why GRC is critical for cybersecurity.","ar":"عدد ثلاثة أسباب تجعل GRC أمرًا حيويًا للأمن السيبراني."}}],"resources":[{"type":"article","title":"What is GRC? - IBM","url":"https://www.ibm.com/topics/grc"},{"type":"video","title":"GRC in Cybersecurity Explained","url":"https://www.youtube.com/watch?v=6XcL6U9qQfE"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the main purpose of GRC in one paragraph.","ar":"لخص الهدف الرئيسي من GRC في فقرة واحدة."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Governance: Policies & Frameworks","ar":"الحوكمة: السياسات والأطر"},"tasks":[{"id":"w13d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about information security policies and major frameworks (ISO 27001, NIST CSF).","ar":"تعرف على سياسات أمن المعلومات وأهم الأطر (ISO 27001، NIST CSF)."}},{"id":"w13d2t2","type":"Practical","duration":60,"description":{"en":"Draft a simple Acceptable Use Policy (AUP) for a small company.","ar":"اكتب مسودة سياسة استخدام مقبول (AUP) لشركة صغيرة."}}],"resources":[{"type":"article","title":"What is ISO/IEC 27001?","url":"https://www.iso.org/isoiec-27001-information-security.html"},{"type":"guide","title":"NIST Cybersecurity Framework Overview","url":"https://www.nist.gov/cyberframework"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two advantages of adopting a security framework.","ar":"عدد ميزتين لاعتماد إطار أمني."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Risk Management Basics","ar":"أساسيات إدارة المخاطر"},"tasks":[{"id":"w13d3t1","type":"Blue Team","duration":60,"description":{"en":"Study the risk management process: identification, assessment, mitigation, monitoring.","ar":"ادرس عملية إدارة المخاطر: التعرف، التقييم، التخفيف، المراقبة."}},{"id":"w13d3t2","type":"Practical","duration":60,"description":{"en":"Perform a basic risk assessment for a simple IT asset.","ar":"قم بإجراء تقييم مخاطر بسيط لأصل تقني (IT Asset)."}}],"resources":[{"type":"article","title":"Risk Management Guide for Information Technology Systems (NIST SP 800-30)","url":"https://csrc.nist.gov/publications/detail/sp/800-30/rev-1/final"},{"type":"video","title":"Risk Assessment in Cybersecurity","url":"https://www.youtube.com/watch?v=V6vFjJ5e6wA"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document your risk assessment: asset, threat, vulnerability, risk rating.","ar":"وثق تقييمك للمخاطر: الأصل، التهديد، الثغرة، تصنيف الخطر."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Compliance: Laws & Regulations","ar":"الامتثال: القوانين والتنظيمات"},"tasks":[{"id":"w13d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn about major cybersecurity laws and regulations (GDPR, HIPAA, PCI DSS).","ar":"تعرف على أهم القوانين والتنظيمات في الأمن السيبراني (GDPR، HIPAA، PCI DSS)."}},{"id":"w13d4t2","type":"Practical","duration":60,"description":{"en":"Summarize the main requirement of one regulation and its impact on security.","ar":"لخص المتطلب الرئيسي لأحد التنظيمات وأثره على الأمن."}}],"resources":[{"type":"article","title":"What is GDPR?","url":"https://gdpr.eu/what-is-gdpr/"},{"type":"article","title":"What is PCI DSS?","url":"https://www.pcisecuritystandards.org/pci_security/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Explain how compliance can drive security improvements.","ar":"اشرح كيف يمكن للامتثال أن يدفع لتحسين الأمن."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"GRC in Action: Case Study","ar":"GRC عمليًا: دراسة حالة"},"tasks":[{"id":"w13d5t1","type":"Practical","duration":120,"description":{"en":"Analyze a real or hypothetical security incident and map the GRC elements involved.","ar":"حلل حادثة أمنية واقعية أو افتراضية وحدد عناصر GRC المرتبطة بها."}}],"resources":[{"type":"article","title":"GRC Case Study Example","url":"https://reciprocity.com/resources/grc-case-study/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the lessons learned from the case.","ar":"لخص الدروس المستفادة من دراسة الحالة."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & GRC Integration","ar":"مراجعة وتكامل GRC"},"tasks":[{"id":"w13d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all GRC concepts learned this week.","ar":"راجع جميع مفاهيم GRC التي تعلمتها هذا الأسبوع."}},{"id":"w13d6t2","type":"Practical","duration":60,"description":{"en":"Write a plan for integrating GRC into a cybersecurity program.","ar":"اكتب خطة مختصرة لتكامل GRC في برنامج أمن سيبراني."}}],"resources":[{"type":"article","title":"How to Integrate GRC with Cybersecurity","url":"https://www.isaca.org/resources/news-and-trends/newsletters/atisaca/2021/volume-6/integrating-grc-and-cybersecurity"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three benefits of GRC integration.","ar":"عدد ثلاث فوائد لتكامل GRC مع الأمن السيبراني."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":14,"phase":1,"title":{"en":"Personal Digital Security","ar":"الأمن الشخصي الرقمي"},"objective":{"en":"Understand how to protect personal digital assets, privacy, and identity in daily life.","ar":"فهم كيفية حماية الأصول الرقمية الشخصية، الخصوصية، والهوية في الحياة اليومية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Securing Personal Devices","ar":"تأمين الأجهزة الشخصية"},"tasks":[{"id":"w14d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the main threats to personal devices (phones, laptops) and basic defense strategies.","ar":"ادرس التهديدات الرئيسية للأجهزة الشخصية (الهواتف، الحواسيب) واستراتيجيات الدفاع الأساسية."}},{"id":"w14d1t2","type":"Practical","duration":60,"description":{"en":"Review and apply security settings on your phone and laptop (OS updates, screen lock, encryption).","ar":"راجع وطبق إعدادات الأمان على هاتفك وحاسوبك (تحديث النظام، قفل الشاشة، التشفير)."}}],"resources":[{"type":"article","title":"How to Secure Your Devices","url":"https://www.consumer.ftc.gov/articles/how-secure-your-devices"},{"type":"guide","title":"Mobile Security Checklist","url":"https://www.sans.org/blog/sans-2021-mobile-security-checklist/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three device settings that improve your security.","ar":"عدد ثلاث إعدادات ترفع أمان جهازك الشخصي."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Password Management & MFA","ar":"إدارة كلمات المرور والتحقق بخطوتين"},"tasks":[{"id":"w14d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about password managers, creating strong passwords, and enabling multi-factor authentication (MFA).","ar":"تعلم عن برامج إدارة كلمات المرور، إنشاء كلمات مرور قوية، وتفعيل التحقق بخطوتين (MFA)."}},{"id":"w14d2t2","type":"Practical","duration":60,"description":{"en":"Install a password manager and enable MFA on at least two accounts.","ar":"ثبت مدير كلمات مرور وفعل التحقق بخطوتين على حسابين على الأقل."}}],"resources":[{"type":"article","title":"Password Managers: How and Why to Use Them","url":"https://www.consumerreports.org/electronics-computers/password-managers/best-password-managers-a1101449240/"},{"type":"guide","title":"How to Enable MFA","url":"https://www.cisa.gov/news-events/news/how-enable-multifactor-authentication"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write your own best-practice tips for passwords.","ar":"اكتب نصائحك الشخصية لأفضل ممارسات كلمات المرور."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Privacy Settings & Social Media","ar":"إعدادات الخصوصية ووسائل التواصل"},"tasks":[{"id":"w14d3t1","type":"Blue Team","duration":60,"description":{"en":"Study privacy risks on social media and how to adjust privacy settings.","ar":"ادرس مخاطر الخصوصية في وسائل التواصل وكيفية ضبط الإعدادات."}},{"id":"w14d3t2","type":"Practical","duration":60,"description":{"en":"Review and update privacy settings on your main social media accounts.","ar":"راجع وحدث إعدادات الخصوصية في حساباتك الرئيسية على وسائل التواصل."}}],"resources":[{"type":"guide","title":"Social Media Privacy Tips","url":"https://staysafeonline.org/resources/social-media-safety-tips/"},{"type":"article","title":"How to Protect Your Privacy on Social Media","url":"https://www.consumerreports.org/privacy/how-to-protect-your-privacy-on-social-media-a1117769179/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two privacy settings you changed and why.","ar":"عدد إعدادين للخصوصية قمت بتغييرهما ولماذا."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Personal Data Protection & Backups","ar":"حماية البيانات الشخصية والنسخ الاحتياطي"},"tasks":[{"id":"w14d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn about encryption, secure cloud storage, and backup strategies for personal data.","ar":"تعلم عن التشفير، التخزين السحابي الآمن، واستراتيجيات النسخ الاحتياطي للبيانات الشخصية."}},{"id":"w14d4t2","type":"Practical","duration":60,"description":{"en":"Set up an encrypted backup for your important files.","ar":"قم بإعداد نسخة احتياطية مشفرة لملفاتك الهامة."}}],"resources":[{"type":"guide","title":"How to Back Up Your Computer","url":"https://www.consumerreports.org/electronics-computers/data-backup/how-to-back-up-your-computer-a1117769199/"},{"type":"article","title":"Personal Data Encryption Basics","url":"https://www.kaspersky.com/resource-center/preemptive-safety/encrypt-your-data"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe your backup plan and how you secure it.","ar":"صف خطة النسخ الاحتياطي الخاصة بك وكيفية تأمينها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Identity Protection & Digital Footprint","ar":"حماية الهوية والبصمة الرقمية"},"tasks":[{"id":"w14d5t1","type":"Blue Team","duration":60,"description":{"en":"Understand identity theft risks, digital footprint, and how to monitor for leaks.","ar":"افهم مخاطر سرقة الهوية، البصمة الرقمية، وكيفية مراقبة التسريبات."}},{"id":"w14d5t2","type":"Practical","duration":60,"description":{"en":"Check if your email or passwords have been leaked using HaveIBeenPwned.","ar":"افحص ما إذا تم تسريب بريدك الإلكتروني أو كلمات مرورك باستخدام خدمة HaveIBeenPwned."}}],"resources":[{"type":"tool","title":"Have I Been Pwned?","url":"https://haveibeenpwned.com/"},{"type":"article","title":"How to Protect Your Digital Identity","url":"https://www.identitytheft.gov/steps"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two actions to reduce your digital footprint.","ar":"عدد إجراءين لتقليل بصمتك الرقمية."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Personal Security Plan","ar":"مراجعة وخطة أمنية شخصية"},"tasks":[{"id":"w14d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all personal security concepts learned this week.","ar":"راجع جميع مفاهيم الأمن الشخصي التي تعلمتها هذا الأسبوع."}},{"id":"w14d6t2","type":"Practical","duration":60,"description":{"en":"Draft a personal digital security plan (devices, passwords, privacy, backups, identity).","ar":"اكتب خطة أمنية رقمية شخصية (الأجهزة، كلمات المرور، الخصوصية، النسخ الاحتياطي، الهوية)."}}],"resources":[{"type":"guide","title":"Personal Security Checklist","url":"https://securityplanner.consumerreports.org/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your plan in 5 bullet points.","ar":"لخص خطتك في 5 نقاط رئيسية."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":15,"phase":1,"title":{"en":"Physical Security Fundamentals","ar":"أساسيات الأمن الفيزيائي"},"objective":{"en":"Understand the importance of physical security, its controls, and its integration with cybersecurity.","ar":"فهم أهمية الأمن الفيزيائي، ضوابطه، وكيفية تكامله مع الأمن السيبراني."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"What is Physical Security?","ar":"ما هو الأمن الفيزيائي؟"},"tasks":[{"id":"w15d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the definition, goals, and key principles of physical security.","ar":"ادرس تعريف الأمن الفيزيائي وأهدافه ومبادئه الأساسية."}},{"id":"w15d1t2","type":"Practical","duration":60,"description":{"en":"List three real-world incidents where physical security failures led to cyber incidents.","ar":"عدد ثلاث حوادث واقعية تسببت فيها ثغرات في الأمن الفيزيائي بحوادث سيبرانية."}}],"resources":[{"type":"article","title":"What is Physical Security? - IBM","url":"https://www.ibm.com/topics/physical-security"},{"type":"video","title":"Physical Security in Cybersecurity","url":"https://www.youtube.com/watch?v=R8UQxXQp8gA"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize why physical security is critical for cybersecurity.","ar":"لخص لماذا الأمن الفيزيائي ضروري للأمن السيبراني."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Physical Security Controls","ar":"ضوابط الأمن الفيزيائي"},"tasks":[{"id":"w15d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about types of physical controls: deterrent, detective, preventive, corrective.","ar":"تعرف على أنواع الضوابط الفيزيائية: ردعية، كشفية، وقائية، تصحيحية."}},{"id":"w15d2t2","type":"Practical","duration":60,"description":{"en":"Survey your environment and identify at least four physical security controls.","ar":"قم بجولة في بيئتك وحدد أربعة ضوابط أمن فيزيائي."}}],"resources":[{"type":"article","title":"Physical Security Controls Explained","url":"https://www.csoonline.com/article/2125140/physical-security-controls.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the four controls you found and their type.","ar":"عدد الضوابط الأربعة التي وجدتها ونوع كل واحد منها."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Threats to Physical Security","ar":"تهديدات الأمن الفيزيائي"},"tasks":[{"id":"w15d3t1","type":"Blue Team","duration":60,"description":{"en":"Study common physical threats: theft, vandalism, tailgating, natural disasters.","ar":"ادرس التهديدات الفيزيائية الشائعة: السرقة، التخريب، التسلل (Tailgating)، الكوارث الطبيعية."}},{"id":"w15d3t2","type":"Practical","duration":60,"description":{"en":"Write a scenario of a physical breach and its cyber impact.","ar":"اكتب سيناريو لاختراق فيزيائي وتأثيره السيبراني."}}],"resources":[{"type":"article","title":"Common Physical Security Threats","url":"https://www.securitymagazine.com/articles/92774-top-physical-security-threats-in-2021"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe your scenario and suggest one mitigation.","ar":"صف السيناريو الذي كتبته واقترح إجراء تخفيف واحد."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Integration with Cybersecurity","ar":"تكامل الأمن الفيزيائي مع السيبراني"},"tasks":[{"id":"w15d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn how physical and cyber security controls complement each other.","ar":"تعلم كيف يكمل الأمن الفيزيائي الضوابط السيبرانية والعكس."}},{"id":"w15d4t2","type":"Practical","duration":60,"description":{"en":"Map two cyber controls and two physical controls that together protect a data center.","ar":"اربط ضابطين سيبرانيين وضابطين فيزيائيين يحميان مركز بيانات معًا."}}],"resources":[{"type":"article","title":"Physical and Cybersecurity Convergence","url":"https://www.sans.org/blog/converging-physical-and-cybersecurity/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the four controls and explain their synergy.","ar":"عدد الضوابط الأربعة واشرح كيف يكمل كل منها الآخر."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Physical Security Policies & Awareness","ar":"سياسات الوعي بالأمن الفيزيائي"},"tasks":[{"id":"w15d5t1","type":"Blue Team","duration":60,"description":{"en":"Study best practices for physical security policies and staff awareness.","ar":"ادرس أفضل الممارسات لسياسات الأمن الفيزيائي ورفع وعي الموظفين."}},{"id":"w15d5t2","type":"Practical","duration":60,"description":{"en":"Draft two policy points for visitor management and staff training.","ar":"اكتب نقطتين سياسيتين لإدارة الزوار وتدريب الموظفين."}}],"resources":[{"type":"article","title":"Physical Security Policy Template","url":"https://www.sans.org/information-security-policy/physical-security-policy/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write your two policy points and how they help reduce risk.","ar":"اكتب نقطتي السياسة وكيف تساهمان في تقليل المخاطر."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Physical Security Plan","ar":"مراجعة وخطة أمن فيزيائي"},"tasks":[{"id":"w15d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all physical security concepts learned this week.","ar":"راجع جميع مفاهيم الأمن الفيزيائي التي تعلمتها هذا الأسبوع."}},{"id":"w15d6t2","type":"Practical","duration":60,"description":{"en":"Draft a basic physical security plan for a small office or home.","ar":"اكتب خطة أمن فيزيائي أساسية لمكتب صغير أو منزل."}}],"resources":[{"type":"guide","title":"Physical Security Checklist","url":"https://www.ready.gov/sites/default/files/2021-02/ready_checklist-physical-security.pdf"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your plan in 5 bullet points.","ar":"لخص خطتك في 5 نقاط رئيسية."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":16,"phase":1,"title":{"en":"Security Awareness & Soft Skills","ar":"الوعي الأمني والمهارات الناعمة"},"objective":{"en":"Develop security awareness, communication, teamwork, and problem-solving skills essential for a successful cybersecurity career.","ar":"تطوير الوعي الأمني، مهارات التواصل، العمل الجماعي، وحل المشكلات الضرورية لمسار مهني ناجح في الأمن السيبراني."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Introduction to Security Awareness","ar":"مقدمة في الوعي الأمني"},"tasks":[{"id":"w16d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the importance of security awareness for individuals and organizations.","ar":"ادرس أهمية الوعي الأمني للأفراد والمؤسسات."}},{"id":"w16d1t2","type":"Practical","duration":60,"description":{"en":"List five common risky behaviors and how to avoid them.","ar":"عدد خمسة سلوكيات خطرة شائعة وكيفية تجنبها."}}],"resources":[{"type":"article","title":"What is Security Awareness?","url":"https://www.cisa.gov/news-events/news/what-security-awareness"},{"type":"video","title":"Security Awareness Training Explained","url":"https://www.youtube.com/watch?v=F2Qb6v9Q1qQ"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize why security awareness matters.","ar":"لخص لماذا يعتبر الوعي الأمني مهمًا."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Social Engineering & Phishing","ar":"الهندسة الاجتماعية والتصيد"},"tasks":[{"id":"w16d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about social engineering tactics and how to recognize phishing attempts.","ar":"تعرف على أساليب الهندسة الاجتماعية وكيفية التعرف على محاولات التصيد."}},{"id":"w16d2t2","type":"Practical","duration":60,"description":{"en":"Analyze three phishing email examples and identify red flags.","ar":"حلل ثلاث رسائل تصيد إلكتروني وحدد العلامات التحذيرية."}}],"resources":[{"type":"article","title":"How to Spot Phishing","url":"https://www.consumer.ftc.gov/articles/how-recognize-and-avoid-phishing-scams"},{"type":"video","title":"Social Engineering Explained","url":"https://www.youtube.com/watch?v=lc7scxvKQOo"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write a checklist for detecting phishing emails.","ar":"اكتب قائمة تحقق لاكتشاف رسائل التصيد."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Communication Skills for Cybersecurity","ar":"مهارات التواصل للأمن السيبراني"},"tasks":[{"id":"w16d3t1","type":"Soft Skills","duration":60,"description":{"en":"Study effective communication in technical and non-technical contexts.","ar":"ادرس التواصل الفعال في السياقات التقنية وغير التقنية."}},{"id":"w16d3t2","type":"Practical","duration":60,"description":{"en":"Practice explaining a technical concept (e.g., firewalls) to a non-technical friend.","ar":"تدرب على شرح مفهوم تقني (مثل الجدران النارية) لشخص غير تقني."}}],"resources":[{"type":"article","title":"Communication Skills in Cybersecurity","url":"https://www.sans.org/blog/communication-skills-for-cybersecurity-professionals/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Reflect on your explanation: what worked, what didn’t?","ar":"فكر في شرحك: ما الذي نجح وما الذي لم ينجح؟"}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Teamwork & Problem Solving","ar":"العمل الجماعي وحل المشكلات"},"tasks":[{"id":"w16d4t1","type":"Soft Skills","duration":60,"description":{"en":"Learn the value of teamwork, collaboration, and structured problem solving in cyber defense.","ar":"تعلم قيمة العمل الجماعي والتعاون وحل المشكلات المنظم في الدفاع السيبراني."}},{"id":"w16d4t2","type":"Practical","duration":60,"description":{"en":"Participate in a group exercise or online CTF challenge.","ar":"شارك في تمرين جماعي أو تحدي CTF عبر الإنترنت."}}],"resources":[{"type":"article","title":"Why Teamwork Matters in Cybersecurity","url":"https://www.csoonline.com/article/3531487/cybersecurity-teamwork.html"},{"type":"guide","title":"Beginner CTFs List","url":"https://ctftime.org/event/list/upcoming"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe your group experience and what you learned.","ar":"صف تجربتك الجماعية وما تعلمته."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Security Culture & Reporting","ar":"ثقافة الأمن والإبلاغ عن الحوادث"},"tasks":[{"id":"w16d5t1","type":"Blue Team","duration":60,"description":{"en":"Study how to build a positive security culture and the importance of incident reporting.","ar":"ادرس كيفية بناء ثقافة أمنية إيجابية وأهمية الإبلاغ عن الحوادث."}},{"id":"w16d5t2","type":"Practical","duration":60,"description":{"en":"Draft a simple incident reporting procedure for your team.","ar":"اكتب إجراء مبسطًا للإبلاغ عن الحوادث لفريقك."}}],"resources":[{"type":"article","title":"Building a Security Culture","url":"https://www.sans.org/blog/building-a-security-culture/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two ways to encourage reporting and reduce blame.","ar":"عدد طريقتين لتشجيع الإبلاغ وتقليل اللوم."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Personal Development Plan","ar":"مراجعة وخطة تطوير شخصية"},"tasks":[{"id":"w16d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all security awareness and soft skills concepts learned this week.","ar":"راجع جميع مفاهيم الوعي الأمني والمهارات الناعمة التي تعلمتها هذا الأسبوع."}},{"id":"w16d6t2","type":"Practical","duration":60,"description":{"en":"Write a personal plan to improve your security awareness and soft skills.","ar":"اكتب خطة شخصية لتحسين وعيك الأمني ومهاراتك الناعمة."}}],"resources":[{"type":"guide","title":"Security Awareness Personal Plan Template","url":"https://www.sans.org/security-awareness-training/success-plan/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three goals for your personal development.","ar":"عدد ثلاثة أهداف لتطويرك الشخصي."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":17,"phase":1,"title":{"en":"Capstone Project 1: Incident Analysis","ar":"مشروع تكاملي للمرحلة الأولى (تحليل حادث)"},"objective":{"en":"Apply all foundational skills by analyzing a simulated cybersecurity incident from detection to reporting.","ar":"تطبيق جميع المهارات الأساسية بتحليل حادث سيبراني افتراضي من الكشف حتى كتابة التقرير."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Project Kickoff & Scenario Overview","ar":"انطلاق المشروع وقراءة سيناريو الحادث"},"tasks":[{"id":"w17d1t1","type":"Project","duration":120,"description":{"en":"Read the incident scenario (e.g., suspicious login, malware alert, or data leak). Identify initial facts, stakeholders, and available evidence.","ar":"اقرأ سيناريو الحادث (مثلاً: تسجيل دخول مشبوه، تنبيه برمجية خبيثة، أو تسريب بيانات). حدد الحقائق الأولية، أصحاب المصلحة، والأدلة المتاحة."}}],"resources":[{"type":"guide","title":"Sample Incident Scenarios","url":"https://www.sans.org/blog/incident-response-tabletop-exercise-scenarios/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the incident scenario and list your first investigative questions.","ar":"لخص سيناريو الحادث واكتب أسئلتك التحقيقية الأولية."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Evidence Collection & Timeline","ar":"جمع الأدلة وبناء الخط الزمني"},"tasks":[{"id":"w17d2t1","type":"Project","duration":120,"description":{"en":"Collect logs, alerts, and relevant data. Start building a timeline of the incident (who, what, when, where, how).","ar":"اجمع السجلات والتنبيهات والبيانات ذات الصلة. ابدأ ببناء خط زمني للحادث (من، ماذا، متى، أين، كيف)."}}],"resources":[{"type":"guide","title":"How to Build an Incident Timeline","url":"https://www.varonis.com/blog/incident-response-timeline"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document your timeline and note any data gaps.","ar":"وثق الخط الزمني الذي بنيته وحدد أي ثغرات في البيانات."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Analysis & Root Cause Investigation","ar":"التحليل والتحقيق في السبب الجذري"},"tasks":[{"id":"w17d3t1","type":"Project","duration":120,"description":{"en":"Analyze the evidence to determine the root cause and attack vector. Use previous knowledge (logs, SIEM, threat intel).","ar":"حلل الأدلة لتحديد السبب الجذري ومسار الهجوم. استخدم معرفتك السابقة (السجلات، SIEM، استخبارات التهديدات)."}}],"resources":[{"type":"guide","title":"Root Cause Analysis in Cybersecurity","url":"https://www.crowdstrike.com/cybersecurity-101/root-cause-analysis/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your root cause findings.","ar":"لخص نتائجك حول السبب الجذري للحادث."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Response Actions & Containment","ar":"إجراءات الاستجابة والاحتواء"},"tasks":[{"id":"w17d4t1","type":"Project","duration":120,"description":{"en":"Recommend and document containment and remediation steps (isolation, password reset, patching, etc).","ar":"اقترح ووثق إجراءات الاحتواء والمعالجة (عزل النظام، إعادة تعيين كلمات المرور، التحديث، إلخ)."}}],"resources":[{"type":"guide","title":"Incident Containment Best Practices","url":"https://www.sans.org/blog/best-practices-for-incident-containment/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List your recommended actions and justify each.","ar":"عدد الإجراءات التي اقترحتها وسبب اختيار كل إجراء."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Reporting & Lessons Learned","ar":"كتابة التقرير والدروس المستفادة"},"tasks":[{"id":"w17d5t1","type":"Project","duration":120,"description":{"en":"Draft a concise incident report: summary, timeline, root cause, response, recommendations, and lessons learned.","ar":"اكتب تقرير حادث مختصر: ملخص، خط زمني، السبب الجذري، الاستجابة، التوصيات، والدروس المستفادة."}}],"resources":[{"type":"guide","title":"How to Write an Incident Report","url":"https://www.sans.org/blog/how-to-write-an-incident-report/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Reflect on what you learned from the project.","ar":"اكتب تأملاتك حول ما تعلمته من المشروع."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Peer Review & Presentation","ar":"مراجعة الأقران والعرض"},"tasks":[{"id":"w17d6t1","type":"Project","duration":120,"description":{"en":"Exchange reports with a peer for feedback. Prepare and deliver a short presentation summarizing your analysis.","ar":"بادل تقريرك مع زميل للحصول على ملاحظات. حضر وقدم عرضًا موجزًا يلخص تحليلك."}}],"resources":[{"type":"guide","title":"How to Present a Cybersecurity Incident","url":"https://www.csoonline.com/article/3530789/how-to-present-incident-response-findings.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize peer feedback and your improvement plan.","ar":"لخص ملاحظات زميلك وخطة تحسينك."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Reflection","ar":"راحة وتأمل"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":18,"phase":2,"title":{"en":"Endpoint Security Fundamentals","ar":"أساسيات أمن نقاط النهاية"},"objective":{"en":"Understand endpoint threats, defense mechanisms, and how to secure devices against malware, exploits, and unauthorized access.","ar":"فهم تهديدات نقاط النهاية، وآليات الدفاع، وكيفية تأمين الأجهزة ضد البرمجيات الخبيثة والاستغلالات والوصول غير المصرح به."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"What is Endpoint Security?","ar":"ما هو أمن نقاط النهاية؟"},"tasks":[{"id":"w18d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the definition, importance, and main components of endpoint security.","ar":"ادرس تعريف أمن نقاط النهاية، أهميته، وأهم مكوناته."}},{"id":"w18d1t2","type":"Practical","duration":60,"description":{"en":"List five endpoint devices in your environment and their main risks.","ar":"عدد خمسة أجهزة نقطة نهاية في بيئتك وأبرز المخاطر المرتبطة بها."}}],"resources":[{"type":"article","title":"What is Endpoint Security? - CrowdStrike","url":"https://www.crowdstrike.com/cybersecurity-101/endpoint-security/"},{"type":"video","title":"Endpoint Security Explained","url":"https://www.youtube.com/watch?v=E2w8gBz2wz0"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize why endpoint security is critical in modern organizations.","ar":"لخص لماذا يعتبر أمن نقاط النهاية أمرًا حيويًا في المؤسسات الحديثة."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Endpoint Threats & Attack Vectors","ar":"تهديدات نقاط النهاية ومسارات الهجوم"},"tasks":[{"id":"w18d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about common endpoint threats: malware, ransomware, phishing, exploits, insider threats.","ar":"تعرف على تهديدات نقاط النهاية الشائعة: البرمجيات الخبيثة، الفدية، التصيد، الاستغلالات، التهديدات الداخلية."}},{"id":"w18d2t2","type":"Practical","duration":60,"description":{"en":"Map each threat to a real-world incident or news story.","ar":"اربط كل تهديد بحادثة واقعية أو خبر حديث."}}],"resources":[{"type":"article","title":"Top Endpoint Security Threats","url":"https://www.csoonline.com/article/3563632/top-endpoint-security-threats.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three threats and summarize a real-world example for each.","ar":"عدد ثلاثة تهديدات واكتب مثالاً واقعياً لكل منها."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Endpoint Protection Tools","ar":"أدوات حماية نقاط النهاية"},"tasks":[{"id":"w18d3t1","type":"Blue Team","duration":60,"description":{"en":"Study endpoint protection platforms (EPP), antivirus, EDR, and their differences.","ar":"ادرس منصات حماية نقاط النهاية (EPP)، برامج مكافحة الفيروسات، وحلول اكتشاف الاستجابة للنقاط (EDR) والفروق بينها."}},{"id":"w18d3t2","type":"Practical","duration":60,"description":{"en":"Install a free antivirus or EDR tool and review its dashboard/features.","ar":"ثبت برنامج مكافحة فيروسات أو أداة EDR مجانية واستعرض لوحتها وميزاتها."}}],"resources":[{"type":"article","title":"EPP vs EDR: What's the Difference?","url":"https://www.crowdstrike.com/cybersecurity-101/endpoint-security/endpoint-protection-platform-epp-vs-endpoint-detection-and-response-edr/"},{"type":"guide","title":"Best Free Antivirus Tools","url":"https://www.techradar.com/best/best-free-antivirus"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two features you found useful in your chosen tool.","ar":"عدد ميزتين وجدتهما مفيدتين في الأداة التي اخترتها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Endpoint Hardening & Best Practices","ar":"تقوية نقاط النهاية وأفضل الممارسات"},"tasks":[{"id":"w18d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn about hardening techniques: patching, least privilege, application whitelisting, device control.","ar":"تعلم تقنيات التقوية: التحديث المستمر، مبدأ الامتياز الأقل، قوائم التطبيقات المسموحة، التحكم في الأجهزة."}},{"id":"w18d4t2","type":"Practical","duration":60,"description":{"en":"Apply at least two hardening steps on your own device.","ar":"طبق خطوتين من خطوات التقوية على جهازك الشخصي."}}],"resources":[{"type":"article","title":"Endpoint Hardening Best Practices","url":"https://www.cisecurity.org/insights/blog/endpoint-hardening-best-practices"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe the hardening steps you took and their impact.","ar":"صف خطوات التقوية التي قمت بها وتأثيرها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Incident Response for Endpoints","ar":"الاستجابة للحوادث في نقاط النهاية"},"tasks":[{"id":"w18d5t1","type":"Blue Team","duration":60,"description":{"en":"Study how to detect, contain, and remediate endpoint incidents.","ar":"ادرس كيفية اكتشاف واحتواء ومعالجة الحوادث على نقاط النهاية."}},{"id":"w18d5t2","type":"Practical","duration":60,"description":{"en":"Simulate a malware infection and document your response steps.","ar":"حاكي إصابة برمجية خبيثة ووثق خطوات الاستجابة التي اتبعتها."}}],"resources":[{"type":"article","title":"Endpoint Incident Response Guide","url":"https://www.crowdstrike.com/cybersecurity-101/incident-response/endpoint-incident-response/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the steps you took to contain and clean the infection.","ar":"عدد الخطوات التي اتبعتها لاحتواء وتنظيف الإصابة."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Endpoint Security Policy","ar":"مراجعة وسياسة أمن نقاط النهاية"},"tasks":[{"id":"w18d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all endpoint security concepts learned this week.","ar":"راجع جميع مفاهيم أمن نقاط النهاية التي تعلمتها هذا الأسبوع."}},{"id":"w18d6t2","type":"Practical","duration":60,"description":{"en":"Draft a simple endpoint security policy for a small business.","ar":"اكتب مسودة سياسة أمن نقاط نهاية لشركة صغيرة."}}],"resources":[{"type":"guide","title":"Endpoint Security Policy Template","url":"https://www.sans.org/information-security-policy/endpoint-security-policy/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three key points from your policy.","ar":"عدد ثلاث نقاط رئيسية من السياسة التي كتبتها."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":19,"phase":2,"title":{"en":"Email Security & Phishing","ar":"أمن البريد الإلكتروني والتصيد الاحتيالي"},"objective":{"en":"Understand email-based threats, phishing techniques, and how to secure email communication.","ar":"فهم تهديدات البريد الإلكتروني، تقنيات التصيد، وكيفية تأمين المراسلات الإلكترونية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Email Threat Landscape","ar":"مشهد تهديدات البريد الإلكتروني"},"tasks":[{"id":"w19d1t1","type":"Blue Team","duration":60,"description":{"en":"Study common email threats: phishing, spear phishing, business email compromise (BEC), malware attachments.","ar":"ادرس تهديدات البريد الإلكتروني الشائعة: التصيد، التصيد الموجه، اختراق البريد التجاري، المرفقات الخبيثة."}},{"id":"w19d1t2","type":"Practical","duration":60,"description":{"en":"Collect and analyze three real phishing email examples (headers, links, content).","ar":"اجمع وحلل ثلاث رسائل تصيد حقيقية (الترويسات، الروابط، المحتوى)."}}],"resources":[{"type":"article","title":"Common Email Threats Explained","url":"https://www.proofpoint.com/us/threat-reference/email-threats"},{"type":"video","title":"How Phishing Attacks Work","url":"https://www.youtube.com/watch?v=U2cKywEw2kE"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the red flags you found in each phishing example.","ar":"عدد العلامات التحذيرية التي وجدتها في كل رسالة تصيد."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Phishing Techniques & Social Engineering","ar":"تقنيات التصيد والهندسة الاجتماعية"},"tasks":[{"id":"w19d2t1","type":"Blue Team","duration":60,"description":{"en":"Study phishing tactics: spoofed domains, lookalike URLs, urgent requests, credential harvesting.","ar":"ادرس أساليب التصيد: النطاقات المزيفة، الروابط الشبيهة، الرسائل العاجلة، سرقة بيانات الدخول."}},{"id":"w19d2t2","type":"Practical","duration":60,"description":{"en":"Simulate a phishing attack using a safe online tool (e.g., GoPhish demo or PhishSim).","ar":"حاكي هجوم تصيد باستخدام أداة آمنة عبر الإنترنت (مثل GoPhish demo أو PhishSim)."}}],"resources":[{"type":"article","title":"How to Recognize Phishing","url":"https://www.consumer.ftc.gov/articles/how-recognize-and-avoid-phishing-scams"},{"type":"tool","title":"PhishSim Free Demo","url":"https://www.knowbe4.com/phishing-security-test-offer"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe the simulated phishing scenario and its outcome.","ar":"صف سيناريو التصيد الذي حاكيته ونتيجته."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Email Authentication Protocols","ar":"بروتوكولات التوثيق للبريد الإلكتروني"},"tasks":[{"id":"w19d3t1","type":"Blue Team","duration":60,"description":{"en":"Learn about SPF, DKIM, and DMARC and how they prevent email spoofing.","ar":"تعرف على بروتوكولات SPF وDKIM وDMARC ودورها في منع انتحال البريد."}},{"id":"w19d3t2","type":"Practical","duration":60,"description":{"en":"Check the authentication status of emails you receive using email headers.","ar":"افحص حالة التوثيق لرسائل البريد التي تصلك من خلال الترويسات."}}],"resources":[{"type":"article","title":"SPF, DKIM, and DMARC Explained","url":"https://www.cloudflare.com/learning/email-security/dmarc-dkim-spf/"},{"type":"guide","title":"How to Read Email Headers","url":"https://mxtoolbox.com/public/content/emailheaders/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List which protocols were present in your checked emails.","ar":"عدد البروتوكولات التي وجدتها في الرسائل التي فحصتها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Secure Email Gateways & Filtering","ar":"بوابات البريد الآمن والتصفية"},"tasks":[{"id":"w19d4t1","type":"Blue Team","duration":60,"description":{"en":"Understand how secure email gateways (SEG), spam filters, and sandboxing protect organizations.","ar":"افهم كيف تحمي بوابات البريد الآمن وفلاتر الرسائل وبيئات العزل المؤسسات من التهديدات."}},{"id":"w19d4t2","type":"Practical","duration":60,"description":{"en":"Review your email provider’s spam/junk folder and analyze why messages were flagged.","ar":"راجع مجلد الرسائل المزعجة في بريدك الإلكتروني وحلل سبب تصنيف الرسائل هناك."}}],"resources":[{"type":"article","title":"How Secure Email Gateways Work","url":"https://www.proofpoint.com/us/threat-reference/secure-email-gateway"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three reasons messages are flagged as spam or phishing.","ar":"عدد ثلاثة أسباب لتصنيف الرسائل كرسائل مزعجة أو تصيد."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"User Awareness & Incident Response","ar":"وعي المستخدم والاستجابة للحوادث"},"tasks":[{"id":"w19d5t1","type":"Blue Team","duration":60,"description":{"en":"Study the role of user training, reporting suspicious emails, and incident response steps for email attacks.","ar":"ادرس دور تدريب المستخدمين، الإبلاغ عن الرسائل المشبوهة، وخطوات الاستجابة لهجمات البريد."}},{"id":"w19d5t2","type":"Practical","duration":60,"description":{"en":"Draft a simple reporting procedure for suspected phishing emails.","ar":"اكتب إجراء مبسطًا للإبلاغ عن رسائل التصيد المشبوهة."}}],"resources":[{"type":"guide","title":"How to Report Phishing","url":"https://www.phishing.org/how-to-report-phishing"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your reporting procedure in 3 steps.","ar":"لخص إجراء الإبلاغ الذي كتبته في 3 خطوات."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Email Security Policy","ar":"مراجعة وسياسة أمن البريد الإلكتروني"},"tasks":[{"id":"w19d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all email security and phishing concepts learned this week.","ar":"راجع جميع مفاهيم أمن البريد الإلكتروني والتصيد التي تعلمتها هذا الأسبوع."}},{"id":"w19d6t2","type":"Practical","duration":60,"description":{"en":"Draft a basic email security policy for your organization.","ar":"اكتب مسودة سياسة أمن بريد إلكتروني لمؤسستك."}}],"resources":[{"type":"guide","title":"Sample Email Security Policy","url":"https://www.sans.org/information-security-policy/email-policy/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three key points from your policy.","ar":"عدد ثلاث نقاط رئيسية من السياسة التي كتبتها."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":20,"phase":2,"title":{"en":"Advanced Vulnerability Management","ar":"إدارة الثغرات الأمنية (مستوى متقدم)"},"objective":{"en":"Master advanced vulnerability management processes, tools, and real-world remediation strategies.","ar":"إتقان عمليات وأدوات إدارة الثغرات المتقدمة واستراتيجيات المعالجة العملية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Vulnerability Management Lifecycle (Advanced)","ar":"دورة حياة إدارة الثغرات (متقدم)"},"tasks":[{"id":"w20d1t1","type":"Blue Team","duration":60,"description":{"en":"Review the full vulnerability management lifecycle: discovery, assessment, prioritization, remediation, and verification.","ar":"راجع دورة حياة إدارة الثغرات كاملة: الاكتشاف، التقييم، تحديد الأولويات، المعالجة، والتحقق."}},{"id":"w20d1t2","type":"Practical","duration":60,"description":{"en":"Map each phase to tools and real-world examples (e.g., Nessus, Qualys, OpenVAS).","ar":"اربط كل مرحلة بأداة عملية ومثال واقعي (مثل Nessus، Qualys، OpenVAS)."}}],"resources":[{"type":"article","title":"Vulnerability Management Lifecycle","url":"https://www.crowdstrike.com/cybersecurity-101/vulnerability-management/"},{"type":"video","title":"Vulnerability Management Explained","url":"https://www.youtube.com/watch?v=Zf7R1u9gO2E"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the most challenging phase and why.","ar":"لخص أصعب مرحلة ولماذا."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Vulnerability Scanning Tools & Automation","ar":"أدوات فحص الثغرات والأتمتة"},"tasks":[{"id":"w20d2t1","type":"Blue Team","duration":60,"description":{"en":"Deep dive into enterprise vulnerability scanners: Nessus, Qualys, OpenVAS, Nexpose.","ar":"تعرف بعمق على أدوات الفحص المؤسسية: Nessus، Qualys، OpenVAS، Nexpose."}},{"id":"w20d2t2","type":"Practical","duration":60,"description":{"en":"Run a vulnerability scan on a test VM and interpret the results.","ar":"نفذ فحص ثغرات على جهاز افتراضي تجريبي وحلل النتائج."}}],"resources":[{"type":"guide","title":"How to Use Nessus","url":"https://docs.tenable.com/nessus/Content/GettingStarted.htm"},{"type":"article","title":"OpenVAS Tutorial","url":"https://www.geeksforgeeks.org/openvas-introduction-and-usage/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three vulnerabilities found and their risk ratings.","ar":"عدد ثلاث ثغرات تم اكتشافها وتصنيف خطورتها."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Prioritization: CVSS, Threat Intelligence, and Business Impact","ar":"تحديد الأولويات: CVSS، استخبارات التهديد، وتأثير الأعمال"},"tasks":[{"id":"w20d3t1","type":"Blue Team","duration":60,"description":{"en":"Learn how to prioritize vulnerabilities using CVSS scores, threat intel, and asset value.","ar":"تعلم كيفية تحديد أولويات معالجة الثغرات باستخدام CVSS، استخبارات التهديد، وقيمة الأصل."}},{"id":"w20d3t2","type":"Practical","duration":60,"description":{"en":"Prioritize a scan report and justify your top three remediation choices.","ar":"حدد أولويات تقرير فحص وعلل اختيارك لأهم ثلاث ثغرات للمعالجة."}}],"resources":[{"type":"article","title":"How to Prioritize Vulnerabilities","url":"https://www.crowdstrike.com/cybersecurity-101/vulnerability-management/vulnerability-prioritization/"},{"type":"guide","title":"CVSS Calculator","url":"https://www.first.org/cvss/calculator/3.1"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Explain your prioritization logic for one high-risk vulnerability.","ar":"اشرح منطق تحديد الأولوية لثغرة عالية الخطورة."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Remediation & Patch Management","ar":"المعالجة وإدارة التصحيحات"},"tasks":[{"id":"w20d4t1","type":"Blue Team","duration":60,"description":{"en":"Study remediation strategies: patching, compensating controls, and vulnerability exceptions.","ar":"ادرس استراتيجيات المعالجة: التصحيح، الضوابط التعويضية، واستثناءات الثغرات."}},{"id":"w20d4t2","type":"Practical","duration":60,"description":{"en":"Document a patching workflow and test patching on a lab system.","ar":"وثق سير عمل التصحيحات وجرب تطبيق تصحيح على نظام مختبر."}}],"resources":[{"type":"article","title":"Patch Management Best Practices","url":"https://www.sans.org/blog/patch-management-best-practices/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two patching challenges and how to overcome them.","ar":"عدد تحديين في إدارة التصحيحات وكيف تتغلب عليهما."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Vulnerability Disclosure & Coordination","ar":"الإفصاح عن الثغرات والتنسيق"},"tasks":[{"id":"w20d5t1","type":"Blue Team","duration":60,"description":{"en":"Learn about responsible disclosure, bug bounty programs, and working with vendors.","ar":"تعرف على الإفصاح المسؤول، برامج مكافآت الثغرات، والتعامل مع الموردين."}},{"id":"w20d5t2","type":"Practical","duration":60,"description":{"en":"Review a real bug bounty report and summarize the disclosure process.","ar":"راجع تقرير مكافأة ثغرة حقيقي ولخص عملية الإفصاح."}}],"resources":[{"type":"article","title":"Coordinated Vulnerability Disclosure","url":"https://www.cisa.gov/coordinated-vulnerability-disclosure-process"},{"type":"guide","title":"Bug Bounty Report Examples","url":"https://hackerone.com/hacktivity"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the disclosure timeline in the report you reviewed.","ar":"لخص الجدول الزمني للإفصاح في التقرير الذي راجعته."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Vulnerability Management Policy","ar":"مراجعة وسياسة إدارة الثغرات"},"tasks":[{"id":"w20d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all advanced vulnerability management concepts learned this week.","ar":"راجع جميع مفاهيم إدارة الثغرات المتقدمة التي تعلمتها هذا الأسبوع."}},{"id":"w20d6t2","type":"Practical","duration":60,"description":{"en":"Draft a vulnerability management policy for your organization.","ar":"اكتب مسودة سياسة إدارة ثغرات لمؤسستك."}}],"resources":[{"type":"guide","title":"Sample Vulnerability Management Policy","url":"https://www.sans.org/information-security-policy/vulnerability-management-policy/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three key points from your policy.","ar":"عدد ثلاث نقاط رئيسية من السياسة التي كتبتها."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":21,"phase":2,"title":{"en":"Malware Analysis Fundamentals","ar":"تحليل البرمجيات الخبيثة"},"objective":{"en":"Understand the basics of malware analysis, types of analysis, and practical tools for dissecting malicious files safely.","ar":"فهم أساسيات تحليل البرمجيات الخبيثة، أنواع التحليل، وأدوات تحليل الملفات الخبيثة بشكل آمن."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Introduction to Malware Analysis","ar":"مقدمة في تحليل البرمجيات الخبيثة"},"tasks":[{"id":"w21d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the goals and phases of malware analysis (static, dynamic, behavioral, automated).","ar":"ادرس أهداف ومراحل تحليل البرمجيات الخبيثة (تحليل ثابت، ديناميكي، سلوكي، آلي)."}},{"id":"w21d1t2","type":"Practical","duration":60,"description":{"en":"List common malware analysis tools and their main use (e.g., VirusTotal, PEStudio, Cuckoo Sandbox).","ar":"عدد أدوات تحليل البرمجيات الخبيثة الشائعة ووظيفة كل منها (مثل VirusTotal، PEStudio، Cuckoo Sandbox)."}}],"resources":[{"type":"article","title":"What is Malware Analysis? - CrowdStrike","url":"https://www.crowdstrike.com/cybersecurity-101/malware-analysis/"},{"type":"video","title":"Malware Analysis Basics","url":"https://www.youtube.com/watch?v=H2E1t3yLqFA"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the difference between static and dynamic analysis.","ar":"لخص الفرق بين التحليل الثابت والديناميكي."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Setting Up a Safe Analysis Lab","ar":"إعداد مختبر تحليل آمن"},"tasks":[{"id":"w21d2t1","type":"Practical","duration":120,"description":{"en":"Set up a malware analysis lab using virtual machines (e.g., REMnux, FLARE VM, or a clean Windows VM with snapshots).","ar":"قم بإعداد مختبر تحليل برمجيات خبيثة باستخدام أجهزة افتراضية (مثل REMnux، FLARE VM، أو ويندوز نظيف مع لقطات)."}}],"resources":[{"type":"guide","title":"REMnux Malware Analysis Linux Toolkit","url":"https://remnux.org/docs/"},{"type":"guide","title":"FLARE VM Setup Guide","url":"https://github.com/mandiant/flare-vm"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three measures to ensure your lab is isolated and safe.","ar":"عدد ثلاث خطوات لضمان عزل وأمان المختبر."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Static Analysis Techniques","ar":"تقنيات التحليل الثابت"},"tasks":[{"id":"w21d3t1","type":"Blue Team","duration":60,"description":{"en":"Learn how to inspect malware binaries without execution: hashes, strings, metadata, PE headers.","ar":"تعلم كيفية فحص ملفات البرمجيات الخبيثة دون تشغيلها: التحقق من الـ hash، استعراض النصوص، بيانات الملف، رؤوس PE."}},{"id":"w21d3t2","type":"Practical","duration":60,"description":{"en":"Analyze a sample file using VirusTotal and PEStudio.","ar":"حلل ملف اختبار باستخدام VirusTotal وPEStudio."}}],"resources":[{"type":"tool","title":"VirusTotal","url":"https://www.virustotal.com/"},{"type":"guide","title":"PEStudio Documentation","url":"https://www.winitor.com/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three static indicators you found in your sample.","ar":"عدد ثلاث مؤشرات ثابتة وجدتها في العينة."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Dynamic Analysis Techniques","ar":"تقنيات التحليل الديناميكي"},"tasks":[{"id":"w21d4t1","type":"Blue Team","duration":60,"description":{"en":"Study how to safely execute malware in a controlled environment to observe behavior (processes, network, files).","ar":"ادرس كيفية تشغيل البرمجيات الخبيثة بأمان في بيئة معزولة لملاحظة السلوك (العمليات، الشبكة، الملفات)."}},{"id":"w21d4t2","type":"Practical","duration":60,"description":{"en":"Run a benign sample in your lab and monitor changes using Process Monitor or Cuckoo Sandbox.","ar":"شغل عينة غير ضارة في المختبر وراقب التغييرات باستخدام Process Monitor أو Cuckoo Sandbox."}}],"resources":[{"type":"tool","title":"Cuckoo Sandbox","url":"https://cuckoosandbox.org/"},{"type":"guide","title":"Process Monitor (Sysinternals)","url":"https://learn.microsoft.com/en-us/sysinternals/downloads/procmon"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe two behaviors you observed during dynamic analysis.","ar":"صف سلوكين لاحظتهما أثناء التحليل الديناميكي."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Automated & Behavioral Analysis","ar":"التحليل الآلي والسلوكي"},"tasks":[{"id":"w21d5t1","type":"Blue Team","duration":60,"description":{"en":"Explore automated malware analysis services and how to interpret behavioral reports.","ar":"استكشف خدمات التحليل الآلي للبرمجيات الخبيثة وكيفية تفسير تقارير السلوك."}},{"id":"w21d5t2","type":"Practical","duration":60,"description":{"en":"Submit a sample to an online sandbox (e.g., Any.Run) and review the behavioral report.","ar":"ارفع عينة إلى صندوق رمل عبر الإنترنت (مثل Any.Run) وراجع تقرير السلوك."}}],"resources":[{"type":"tool","title":"Any.Run Interactive Sandbox","url":"https://any.run/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two behavioral indicators from the sandbox report.","ar":"عدد مؤشرين سلوكيين من تقرير الصندوق."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Malware Analysis Report","ar":"مراجعة وكتابة تقرير تحليل البرمجية الخبيثة"},"tasks":[{"id":"w21d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all malware analysis concepts and tools learned this week.","ar":"راجع جميع مفاهيم وأدوات تحليل البرمجيات الخبيثة التي تعلمتها هذا الأسبوع."}},{"id":"w21d6t2","type":"Practical","duration":60,"description":{"en":"Write a concise malware analysis report for your sample (static, dynamic, behavioral findings).","ar":"اكتب تقرير تحليل برمجية خبيثة مختصر لعينةك (نتائج التحليل الثابت، الديناميكي، السلوكي)."}}],"resources":[{"type":"guide","title":"How to Write a Malware Analysis Report","url":"https://www.sans.org/blog/how-to-write-a-malware-analysis-report/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your key findings and recommendations.","ar":"لخص أهم نتائجك وتوصياتك."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":22,"phase":2,"title":{"en":"Reverse Engineering Fundamentals","ar":"أساسيات الهندسة العكسية"},"objective":{"en":"Understand the basics of reverse engineering, common tools, and practical techniques for analyzing binaries and software behavior.","ar":"فهم أساسيات الهندسة العكسية، الأدوات الشائعة، والتقنيات العملية لتحليل الملفات التنفيذية وسلوك البرمجيات."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"What is Reverse Engineering?","ar":"ما هي الهندسة العكسية؟"},"tasks":[{"id":"w22d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the definition, goals, and ethical/legal considerations of reverse engineering.","ar":"ادرس تعريف الهندسة العكسية، أهدافها، والجوانب الأخلاقية والقانونية المرتبطة بها."}},{"id":"w22d1t2","type":"Practical","duration":60,"description":{"en":"List three real-world applications of reverse engineering (malware analysis, vulnerability research, software compatibility).","ar":"عدد ثلاث تطبيقات عملية للهندسة العكسية (تحليل البرمجيات الخبيثة، البحث عن الثغرات، التوافق البرمجي)."}}],"resources":[{"type":"article","title":"What is Reverse Engineering? - Kaspersky","url":"https://www.kaspersky.com/resource-center/definitions/reverse-engineering"},{"type":"video","title":"Reverse Engineering Explained","url":"https://www.youtube.com/watch?v=F7W3s7N7f5I"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the main goals and risks of reverse engineering.","ar":"لخص الأهداف الرئيسية والمخاطر المرتبطة بالهندسة العكسية."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Reverse Engineering Tools Overview","ar":"نظرة عامة على أدوات الهندسة العكسية"},"tasks":[{"id":"w22d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about common tools: disassemblers (IDA Free, Ghidra), debuggers (x64dbg, OllyDbg), and hex editors.","ar":"تعرف على الأدوات الشائعة: أدوات فك الشيفرة (IDA Free, Ghidra)، المصححات (x64dbg, OllyDbg)، ومحررات الهكس."}},{"id":"w22d2t2","type":"Practical","duration":60,"description":{"en":"Install Ghidra or IDA Free and explore the interface.","ar":"ثبت Ghidra أو IDA Free واستكشف واجهة البرنامج."}}],"resources":[{"type":"tool","title":"Ghidra Official Download","url":"https://ghidra-sre.org/"},{"type":"guide","title":"IDA Free Download","url":"https://hex-rays.com/ida-free/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two features you found interesting in the tool you tried.","ar":"عدد ميزتين أعجبتك في الأداة التي جربتها."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Static Analysis of Binaries","ar":"التحليل الثابت للملفات التنفيذية"},"tasks":[{"id":"w22d3t1","type":"Blue Team","duration":60,"description":{"en":"Learn how to analyze binaries without executing them: strings, imports, exports, and PE headers.","ar":"تعلم كيفية تحليل الملفات التنفيذية دون تشغيلها: النصوص، الدوال المستوردة والمصدرة، رؤوس PE."}},{"id":"w22d3t2","type":"Practical","duration":60,"description":{"en":"Use Ghidra or PEStudio to analyze a benign executable and document findings.","ar":"استخدم Ghidra أو PEStudio لتحليل ملف تنفيذي غير ضار ووثق النتائج."}}],"resources":[{"type":"guide","title":"PEStudio Documentation","url":"https://www.winitor.com/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three static indicators you found in your analysis.","ar":"عدد ثلاث مؤشرات ثابتة وجدتها في التحليل."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Dynamic Analysis & Debugging Basics","ar":"أساسيات التحليل الديناميكي والتصحيح"},"tasks":[{"id":"w22d4t1","type":"Blue Team","duration":60,"description":{"en":"Understand how to run and debug binaries in a controlled environment to observe behavior.","ar":"افهم كيفية تشغيل وتصحيح الملفات التنفيذية في بيئة معزولة لمراقبة السلوك."}},{"id":"w22d4t2","type":"Practical","duration":60,"description":{"en":"Use x64dbg or OllyDbg to step through a simple program and observe function calls.","ar":"استخدم x64dbg أو OllyDbg لتتبع تنفيذ برنامج بسيط وملاحظة استدعاءات الدوال."}}],"resources":[{"type":"tool","title":"x64dbg Download","url":"https://x64dbg.com/"},{"type":"guide","title":"OllyDbg Basics","url":"https://www.fosshub.com/OllyDbg.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe one insight you gained from debugging.","ar":"صف معلومة أو ملاحظة جديدة اكتسبتها من التصحيح."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Reverse Engineering for Malware Analysis","ar":"الهندسة العكسية في تحليل البرمجيات الخبيثة"},"tasks":[{"id":"w22d5t1","type":"Blue Team","duration":60,"description":{"en":"Study how reverse engineering is used to understand malware capabilities and indicators of compromise.","ar":"ادرس كيف تُستخدم الهندسة العكسية لفهم قدرات البرمجيات الخبيثة ومؤشرات الاختراق."}},{"id":"w22d5t2","type":"Practical","duration":60,"description":{"en":"Review a published malware reverse engineering report and summarize key findings.","ar":"راجع تقريرًا منشورًا عن تحليل عكسي لبرمجية خبيثة ولخص النتائج الرئيسية."}}],"resources":[{"type":"article","title":"Malware Reverse Engineering Example","url":"https://www.mandiant.com/resources/blog/reverse-engineering-malware"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two IOCs or techniques discovered in the report.","ar":"عدد مؤشري اختراق أو تقنيتين تم اكتشافهما في التقرير."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Simple CrackMe Challenge","ar":"مراجعة وتحدي CrackMe بسيط"},"tasks":[{"id":"w22d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all reverse engineering concepts and tools learned this week.","ar":"راجع جميع مفاهيم وأدوات الهندسة العكسية التي تعلمتها هذا الأسبوع."}},{"id":"w22d6t2","type":"Practical","duration":60,"description":{"en":"Attempt a basic CrackMe challenge (legally safe) and document your approach.","ar":"جرب تحدي CrackMe بسيط (قانوني وآمن) ووثق منهجك في حله."}}],"resources":[{"type":"guide","title":"Beginner CrackMe Challenges","url":"https://crackmes.one/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe your CrackMe solution process.","ar":"صف خطواتك في حل تحدي CrackMe."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":23,"phase":2,"title":{"en":"Digital Forensics Fundamentals","ar":"التحليل الجنائي الرقمي"},"objective":{"en":"Understand the basics of digital forensics, evidence collection, and analysis techniques for investigating security incidents.","ar":"فهم أساسيات التحليل الجنائي الرقمي، جمع الأدلة، وتقنيات التحليل للتحقيق في الحوادث الأمنية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Introduction to Digital Forensics","ar":"مقدمة في التحليل الجنائي الرقمي"},"tasks":[{"id":"w23d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the definition, goals, and methodology of digital forensics (identification, preservation, analysis, documentation, presentation).","ar":"ادرس تعريف وأهداف ومنهجية التحليل الجنائي الرقمي (التعرف، الحفظ، التحليل، التوثيق، العرض)."}},{"id":"w23d1t2","type":"Practical","duration":60,"description":{"en":"Research three real-world cases where digital forensics played a crucial role.","ar":"ابحث عن ثلاث حالات واقعية لعب فيها التحليل الجنائي الرقمي دورًا حاسمًا."}}],"resources":[{"type":"article","title":"What is Digital Forensics?","url":"https://www.sans.org/digital-forensics-incident-response/"},{"type":"video","title":"Digital Forensics Fundamentals","url":"https://www.youtube.com/watch?v=sF_Wm3gGmFo"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the five phases of the digital forensics process.","ar":"لخص المراحل الخمس لعملية التحليل الجنائي الرقمي."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Evidence Collection & Chain of Custody","ar":"جمع الأدلة وسلسلة الحيازة"},"tasks":[{"id":"w23d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about proper evidence collection procedures, chain of custody, and legal considerations.","ar":"تعرف على إجراءات جمع الأدلة الصحيحة، سلسلة الحيازة، والاعتبارات القانونية."}},{"id":"w23d2t2","type":"Practical","duration":60,"description":{"en":"Create a chain of custody document template and practice filling it out for a hypothetical case.","ar":"أنشئ نموذج مستند سلسلة الحيازة وتدرب على ملئه لحالة افتراضية."}}],"resources":[{"type":"article","title":"Chain of Custody in Digital Forensics","url":"https://www.forensicfocus.com/articles/chain-of-custody-in-digital-forensics/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Explain why chain of custody is critical in forensic investigations.","ar":"اشرح لماذا تعتبر سلسلة الحيازة حاسمة في التحقيقات الجنائية."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Disk Forensics Basics","ar":"أساسيات تحليل الأقراص الجنائي"},"tasks":[{"id":"w23d3t1","type":"Blue Team","duration":60,"description":{"en":"Study disk imaging, write blockers, file systems, and data recovery concepts.","ar":"ادرس نسخ الأقراص، حاجبات الكتابة، أنظمة الملفات، ومفاهيم استعادة البيانات."}},{"id":"w23d3t2","type":"Practical","duration":60,"description":{"en":"Install and explore a free forensic tool like Autopsy or FTK Imager.","ar":"ثبت واستكشف أداة تحليل جنائي مجانية مثل Autopsy أو FTK Imager."}}],"resources":[{"type":"tool","title":"Autopsy Digital Forensics","url":"https://www.autopsy.com/"},{"type":"guide","title":"FTK Imager User Guide","url":"https://accessdata.com/product-download/ftk-imager-version-4-5"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two features of the forensic tool you explored.","ar":"عدد ميزتين للأداة الجنائية التي استكشفتها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"File Analysis & Metadata","ar":"تحليل الملفات والبيانات الوصفية"},"tasks":[{"id":"w23d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn how to extract and analyze file metadata, timestamps, and hidden data.","ar":"تعلم كيفية استخراج وتحليل البيانات الوصفية للملفات، الطوابع الزمنية، والبيانات المخفية."}},{"id":"w23d4t2","type":"Practical","duration":60,"description":{"en":"Use ExifTool to extract metadata from various file types (images, documents).","ar":"استخدم ExifTool لاستخراج البيانات الوصفية من أنواع ملفات مختلفة (صور، مستندات)."}}],"resources":[{"type":"tool","title":"ExifTool by Phil Harvey","url":"https://exiftool.org/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List five types of metadata you found in your files.","ar":"عدد خمسة أنواع من البيانات الوصفية وجدتها في ملفاتك."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Timeline Analysis & Log Forensics","ar":"تحليل الخط الزمني والسجلات الجنائية"},"tasks":[{"id":"w23d5t1","type":"Blue Team","duration":60,"description":{"en":"Study how to create and analyze event timelines from logs and system artifacts.","ar":"ادرس كيفية إنشاء وتحليل الخطوط الزمنية للأحداث من السجلات وآثار النظام."}},{"id":"w23d5t2","type":"Practical","duration":60,"description":{"en":"Analyze a sample Windows event log or web server log to create a basic timeline.","ar":"حلل عينة من سجل أحداث ويندوز أو سجل خادم ويب لإنشاء خط زمني أساسي."}}],"resources":[{"type":"article","title":"Timeline Analysis in Digital Forensics","url":"https://www.sans.org/blog/timeline-analysis-in-digital-forensics/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document your timeline creation process and key findings.","ar":"وثق عملية إنشاء الخط الزمني والنتائج الرئيسية."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Forensic Report Writing","ar":"مراجعة وكتابة التقرير الجنائي"},"tasks":[{"id":"w23d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all digital forensics concepts learned this week.","ar":"راجع جميع مفاهيم التحليل الجنائي الرقمي التي تعلمتها هذا الأسبوع."}},{"id":"w23d6t2","type":"Practical","duration":60,"description":{"en":"Write a sample forensic report based on your exercises this week.","ar":"اكتب نموذج تقرير جنائي بناءً على التمارين التي قمت بها هذا الأسبوع."}}],"resources":[{"type":"guide","title":"How to Write a Digital Forensics Report","url":"https://www.sans.org/blog/tips-for-creating-reports-from-digital-forensic-investigations/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three key components of an effective forensic report.","ar":"عدد ثلاثة مكونات رئيسية للتقرير الجنائي الفعال."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":24,"phase":2,"title":{"en":"Memory Forensics Fundamentals","ar":"أساسيات التحليل الجنائي للذاكرة"},"objective":{"en":"Understand memory forensics concepts, tools, and techniques for analyzing RAM dumps to uncover evidence of attacks and malware.","ar":"فهم مفاهيم التحليل الجنائي للذاكرة، الأدوات والتقنيات اللازمة لتحليل تفريغ الذاكرة (RAM) واكتشاف أدلة الهجمات والبرمجيات الخبيثة."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Introduction to Memory Forensics","ar":"مقدمة في التحليل الجنائي للذاكرة"},"tasks":[{"id":"w24d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the importance of memory forensics in modern investigations and the types of evidence found in RAM.","ar":"ادرس أهمية التحليل الجنائي للذاكرة في التحقيقات الحديثة وأنواع الأدلة التي يمكن العثور عليها في الذاكرة."}},{"id":"w24d1t2","type":"Practical","duration":60,"description":{"en":"List five types of forensic artifacts retrievable from memory dumps.","ar":"عدد خمسة أنواع من الأدلة الجنائية التي يمكن استخراجها من تفريغ الذاكرة."}}],"resources":[{"type":"article","title":"What is Memory Forensics? - SANS","url":"https://www.sans.org/blog/memory-forensics-101/"},{"type":"video","title":"Memory Forensics Explained","url":"https://www.youtube.com/watch?v=Q7bA0NnL5xw"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize why memory forensics is critical for modern incident response.","ar":"لخص لماذا التحليل الجنائي للذاكرة مهم جداً في الاستجابة للحوادث الحديثة."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Acquiring Memory Images Safely","ar":"جمع صور الذاكرة بأمان"},"tasks":[{"id":"w24d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn safe methods and tools for acquiring RAM images (e.g., FTK Imager, Belkasoft, WinPMEM).","ar":"تعلم طرق وأدوات جمع صور الذاكرة (مثل FTK Imager، Belkasoft، WinPMEM) بشكل آمن."}},{"id":"w24d2t2","type":"Practical","duration":60,"description":{"en":"Simulate acquiring a memory dump from a test VM using WinPMEM.","ar":"حاكي جمع تفريغ ذاكرة من جهاز افتراضي تجريبي باستخدام WinPMEM."}}],"resources":[{"type":"guide","title":"WinPMEM Documentation","url":"https://github.com/Velocidex/WinPmem"},{"type":"tool","title":"FTK Imager","url":"https://accessdata.com/product-download/ftk-imager-version-4-5"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the steps you followed to acquire a memory image.","ar":"عدد الخطوات التي اتبعتها لجمع صورة الذاكرة."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Memory Forensics Tools Overview","ar":"نظرة عامة على أدوات التحليل الجنائي للذاكرة"},"tasks":[{"id":"w24d3t1","type":"Blue Team","duration":60,"description":{"en":"Explore main memory forensics tools: Volatility, Rekall, and their basic commands.","ar":"استكشف الأدوات الأساسية للتحليل الجنائي للذاكرة: Volatility، Rekall، وأوامرها الأساسية."}},{"id":"w24d3t2","type":"Practical","duration":60,"description":{"en":"Install Volatility and run a basic plugin (e.g., pslist) on a sample memory image.","ar":"ثبت أداة Volatility وشغل إضافة بسيطة مثل pslist على صورة ذاكرة تجريبية."}}],"resources":[{"type":"tool","title":"Volatility Framework","url":"https://www.volatilityfoundation.org/"},{"type":"guide","title":"Rekall Memory Forensics","url":"https://www.rekall-forensic.com/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two Volatility plugins and what they reveal.","ar":"عدد إضافتين في Volatility وما تكشفه كل واحدة."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Process & Network Analysis in Memory","ar":"تحليل العمليات والشبكة في الذاكرة"},"tasks":[{"id":"w24d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn how to identify running processes, open network connections, and injected code in memory dumps.","ar":"تعلم كيفية التعرف على العمليات الجارية، الاتصالات الشبكية المفتوحة، والكود المحقون في تفريغ الذاكرة."}},{"id":"w24d4t2","type":"Practical","duration":60,"description":{"en":"Use Volatility plugins (psscan, netscan, malfind) to analyze a memory image.","ar":"استخدم إضافات Volatility مثل psscan و netscan و malfind لتحليل صورة ذاكرة."}}],"resources":[{"type":"guide","title":"Volatility Plugin Reference","url":"https://volatility3.readthedocs.io/en/latest/volatility3.plugins.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document one suspicious process or connection you found.","ar":"وثق عملية أو اتصالاً مشبوهاً وجدته."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Extracting IOCs & Malware from Memory","ar":"استخراج مؤشرات الاختراق والبرمجيات الخبيثة من الذاكرة"},"tasks":[{"id":"w24d5t1","type":"Blue Team","duration":60,"description":{"en":"Learn how to extract indicators of compromise (IOCs) and dump suspicious binaries from RAM.","ar":"تعلم كيفية استخراج مؤشرات الاختراق (IOCs) وتفريغ الملفات التنفيذية المشبوهة من الذاكرة."}},{"id":"w24d5t2","type":"Practical","duration":60,"description":{"en":"Use Volatility's malfind and dumpfiles plugins to extract a suspicious sample.","ar":"استخدم malfind و dumpfiles في Volatility لاستخراج عينة مشبوهة."}}],"resources":[{"type":"guide","title":"Extracting Malware with Volatility","url":"https://www.sans.org/blog/memory-forensics-malfind-plugin/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two IOCs you extracted and their significance.","ar":"عدد مؤشري اختراق استخرجتهما وأهميتهما."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Memory Forensics Report","ar":"مراجعة وكتابة تقرير التحليل الجنائي للذاكرة"},"tasks":[{"id":"w24d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all memory forensics concepts and tools learned this week.","ar":"راجع جميع مفاهيم وأدوات التحليل الجنائي للذاكرة التي تعلمتها هذا الأسبوع."}},{"id":"w24d6t2","type":"Practical","duration":60,"description":{"en":"Write a concise memory forensics report based on your analysis.","ar":"اكتب تقريراً مختصراً لتحليل الذاكرة بناءً على تحليلك."}}],"resources":[{"type":"guide","title":"How to Write a Memory Forensics Report","url":"https://www.sans.org/blog/tips-for-creating-reports-from-digital-forensic-investigations/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your findings and recommendations.","ar":"لخص نتائجك وتوصياتك."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":25,"phase":2,"title":{"en":"User and Entity Behavior Analytics (UEBA)","ar":"تحليل سلوك المستخدم والكيان (UEBA)"},"objective":{"en":"Understand the fundamentals of UEBA, how it detects threats by analyzing behavior patterns, and how to implement it in modern security operations.","ar":"فهم أساسيات UEBA، وكيفية اكتشاف التهديدات من خلال تحليل أنماط السلوك، وآليات تطبيقه في العمليات الأمنية الحديثة."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Introduction to UEBA","ar":"مقدمة في UEBA"},"tasks":[{"id":"w25d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the definition, goals, and value of User and Entity Behavior Analytics.","ar":"ادرس تعريف UEBA، أهدافه، وقيمته في الأمن السيبراني."}},{"id":"w25d1t2","type":"Practical","duration":60,"description":{"en":"List three security use cases where UEBA is essential (e.g., insider threats, compromised accounts, lateral movement).","ar":"عدد ثلاث حالات أمنية يكون فيها UEBA ضروريًا (مثل التهديدات الداخلية، الحسابات المخترقة، الحركة الجانبية)."}}],"resources":[{"type":"article","title":"What is UEBA? - CrowdStrike","url":"https://www.crowdstrike.com/cybersecurity-101/ueba/"},{"type":"video","title":"UEBA Explained","url":"https://www.youtube.com/watch?v=V7K3vM2y4nQ"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize in your own words why traditional security tools may miss threats that UEBA can catch.","ar":"لخص بكلماتك لماذا قد تفشل الأدوات التقليدية في كشف تهديدات يمكن لـ UEBA اكتشافها."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Behavioral Baselines & Anomaly Detection","ar":"خطوط السلوك الطبيعية وكشف الشذوذ"},"tasks":[{"id":"w25d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn how UEBA builds behavioral baselines and detects anomalies.","ar":"تعلم كيف يبني UEBA خطوط سلوك طبيعية ويكشف الشذوذ."}},{"id":"w25d2t2","type":"Practical","duration":60,"description":{"en":"Sketch a simple baseline for user logon times and what would be considered anomalous.","ar":"ارسم خطًا طبيعيًا بسيطًا لأوقات دخول المستخدمين وما الذي يعتبر شذوذاً."}}],"resources":[{"type":"article","title":"How Does UEBA Work?","url":"https://www.varonis.com/blog/ueba"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write an example of a benign behavior and an anomalous one.","ar":"اكتب مثالاً لسلوك طبيعي وآخر شاذ."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"UEBA Data Sources & Integration","ar":"مصادر بيانات UEBA والتكامل"},"tasks":[{"id":"w25d3t1","type":"Blue Team","duration":60,"description":{"en":"Identify key data sources for UEBA (logs, authentication events, network flows, endpoint data).","ar":"حدد مصادر البيانات الأساسية لـ UEBA (السجلات، أحداث التوثيق، تدفقات الشبكة، بيانات النقاط النهائية)."}},{"id":"w25d3t2","type":"Practical","duration":60,"description":{"en":"Map how UEBA integrates with SIEM and other security tools.","ar":"ارسم خريطة لتكامل UEBA مع SIEM وأدوات الأمان الأخرى."}}],"resources":[{"type":"article","title":"UEBA Data Sources and SIEM Integration","url":"https://www.splunk.com/en_us/blog/security/ueba-and-siem-better-together.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three types of data UEBA needs and why.","ar":"عدد ثلاثة أنواع من البيانات يحتاجها UEBA ولماذا."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"UEBA Detection Use Cases","ar":"حالات استخدام UEBA في الكشف"},"tasks":[{"id":"w25d4t1","type":"Blue Team","duration":60,"description":{"en":"Study real-world detection scenarios: data exfiltration, credential misuse, privilege escalation.","ar":"ادرس سيناريوهات كشف واقعية: تسريب البيانات، إساءة استخدام بيانات الدخول، تصعيد الصلاحيات."}},{"id":"w25d4t2","type":"Practical","duration":60,"description":{"en":"Write a short scenario describing how UEBA could detect an insider threat.","ar":"اكتب سيناريو قصيرًا يوضح كيف يمكن لـ UEBA كشف تهديد داخلي."}}],"resources":[{"type":"article","title":"UEBA Use Cases","url":"https://www.csoonline.com/article/3533227/ueba-use-cases.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your scenario and the detection logic.","ar":"لخص السيناريو الذي كتبته ومنطق الكشف فيه."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Challenges & Limitations of UEBA","ar":"تحديات وحدود UEBA"},"tasks":[{"id":"w25d5t1","type":"Blue Team","duration":60,"description":{"en":"Study common challenges: false positives, privacy, data volume, and tuning.","ar":"ادرس التحديات الشائعة: الإنذارات الكاذبة، الخصوصية، حجم البيانات، وضبط النظام."}},{"id":"w25d5t2","type":"Practical","duration":60,"description":{"en":"Suggest two strategies to reduce false positives in a UEBA system.","ar":"اقترح استراتيجيتين لتقليل الإنذارات الكاذبة في نظام UEBA."}}],"resources":[{"type":"article","title":"UEBA Challenges and Best Practices","url":"https://www.varonis.com/blog/ueba"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the two strategies and their expected impact.","ar":"عدد الاستراتيجيتين وتأثير كل واحدة."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & UEBA in Modern SOC","ar":"مراجعة وUEBA في مركز العمليات الأمنية"},"tasks":[{"id":"w25d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all UEBA concepts and how they fit into a modern Security Operations Center (SOC).","ar":"راجع جميع مفاهيم UEBA وكيفية دمجها في مركز عمليات أمنية حديث."}},{"id":"w25d6t2","type":"Practical","duration":60,"description":{"en":"Draft a short plan for integrating UEBA into an existing SIEM environment.","ar":"اكتب خطة مختصرة لدمج UEBA في بيئة SIEM قائمة."}}],"resources":[{"type":"article","title":"How UEBA Enhances SOC Operations","url":"https://www.splunk.com/en_us/blog/security/ueba-and-siem-better-together.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three benefits of UEBA for a SOC.","ar":"عدد ثلاث فوائد لـ UEBA لمركز العمليات الأمنية."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":26,"phase":2,"title":{"en":"Python for Cybersecurity","ar":"برمجة بايثون للأمن السيبراني"},"objective":{"en":"Build practical Python skills for automating security tasks, parsing logs, and developing custom security tools.","ar":"بناء مهارات بايثون العملية لأتمتة مهام الأمن السيبراني، تحليل السجلات، وتطوير أدوات أمنية مخصصة."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Python Basics Refresher","ar":"مراجعة أساسيات بايثون"},"tasks":[{"id":"w26d1t1","type":"Blue Team","duration":60,"description":{"en":"Review variables, data types, loops, functions, and file I/O in Python.","ar":"راجع المتغيرات، أنواع البيانات، الحلقات، الدوال، وقراءة/كتابة الملفات في بايثون."}},{"id":"w26d1t2","type":"Practical","duration":60,"description":{"en":"Write a script to read a log file and print lines containing 'error'.","ar":"اكتب سكربت يقرأ ملف سجلات ويطبع الأسطر التي تحتوي على كلمة 'error'."}}],"resources":[{"type":"guide","title":"Python Official Tutorial","url":"https://docs.python.org/3/tutorial/"},{"type":"video","title":"Python for Beginners (Crash Course)","url":"https://www.youtube.com/watch?v=rfscVS0vtbw"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two Python concepts you found most useful for security scripting.","ar":"عدد مفهومين في بايثون وجدتهما مفيدين لكتابة سكربتات أمنية."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Parsing Logs with Python","ar":"تحليل السجلات باستخدام بايثون"},"tasks":[{"id":"w26d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn how to parse and analyze log files (e.g., syslog, web server logs) using Python.","ar":"تعلم كيفية تحليل ملفات السجلات (مثل syslog، سجلات خوادم الويب) باستخدام بايثون."}},{"id":"w26d2t2","type":"Practical","duration":60,"description":{"en":"Write a script to count failed login attempts in a sample log file.","ar":"اكتب سكربت لحساب عدد محاولات الدخول الفاشلة في ملف سجلات تجريبي."}}],"resources":[{"type":"guide","title":"Parsing Logs with Python","url":"https://www.geeksforgeeks.org/parsing-log-files-using-python/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe a real-world security use case for log parsing.","ar":"صف حالة استخدام أمنية حقيقية لتحليل السجلات."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Network Automation with Python","ar":"أتمتة الشبكات باستخدام بايثون"},"tasks":[{"id":"w26d3t1","type":"Blue Team","duration":60,"description":{"en":"Learn how to use Python libraries (e.g., socket, scapy) for automating network tasks.","ar":"تعلم استخدام مكتبات بايثون (مثل socket، scapy) لأتمتة مهام الشبكة."}},{"id":"w26d3t2","type":"Practical","duration":60,"description":{"en":"Write a script to perform a simple port scan on a target host.","ar":"اكتب سكربت لإجراء فحص منافذ بسيط على جهاز مستهدف."}}],"resources":[{"type":"guide","title":"Network Programming in Python","url":"https://realpython.com/python-sockets/"},{"type":"guide","title":"Scapy Documentation","url":"https://scapy.readthedocs.io/en/latest/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two network automation tasks you could automate with Python.","ar":"عدد مهمتين في الشبكة يمكنك أتمتتهما ببايثون."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Security Tool Development","ar":"تطوير أدوات أمنية بسيطة"},"tasks":[{"id":"w26d4t1","type":"Blue Team","duration":60,"description":{"en":"Explore how to build simple security tools (e.g., password strength checker, hash calculator) with Python.","ar":"تعلم كيفية بناء أدوات أمنية بسيطة مثل مدقق قوة كلمة المرور أو مولد التواقيع (hash) ببايثون."}},{"id":"w26d4t2","type":"Practical","duration":60,"description":{"en":"Build a script to calculate the SHA256 hash of a file.","ar":"اكتب سكربت لحساب قيمة SHA256 لملف."}}],"resources":[{"type":"guide","title":"Python Hashlib Library","url":"https://docs.python.org/3/library/hashlib.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe a security tool you’d like to build with Python in the future.","ar":"صف أداة أمنية تود بناءها ببايثون مستقبلاً."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Working with APIs for Threat Intelligence","ar":"التعامل مع واجهات البرمجة (APIs) لاستخبارات التهديد"},"tasks":[{"id":"w26d5t1","type":"Blue Team","duration":60,"description":{"en":"Learn how to use Python to interact with public threat intelligence APIs (e.g., VirusTotal, AbuseIPDB).","ar":"تعلم كيفية استخدام بايثون للتعامل مع واجهات برمجة التطبيقات العامة (APIs) لاستخبارات التهديد مثل VirusTotal، AbuseIPDB."}},{"id":"w26d5t2","type":"Practical","duration":60,"description":{"en":"Write a script to query VirusTotal for a file hash and display the results.","ar":"اكتب سكربت يستعلم عن توقيع ملف (hash) في VirusTotal ويعرض النتائج."}}],"resources":[{"type":"guide","title":"VirusTotal API Documentation","url":"https://developers.virustotal.com/reference/overview"},{"type":"guide","title":"Python Requests Library","url":"https://docs.python-requests.org/en/latest/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two other APIs you could use for security automation.","ar":"عدد واجهتين برمجيتين أخريين يمكنك استخدامها لأتمتة الأمن."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Mini Python Security Project","ar":"مراجعة ومشروع بايثون أمني مصغر"},"tasks":[{"id":"w26d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all Python for cybersecurity concepts and scripts learned this week.","ar":"راجع جميع مفاهيم وسكربتات بايثون للأمن السيبراني التي تعلمتها هذا الأسبوع."}},{"id":"w26d6t2","type":"Practical","duration":60,"description":{"en":"Build a mini-project: e.g., log parser, simple port scanner, or hash checker.","ar":"ابنِ مشروعاً مصغراً: مثل محلل سجلات، فاحص منافذ بسيط، أو مدقق تواقيع."}}],"resources":[{"type":"guide","title":"Python Security Projects for Beginners","url":"https://www.geeksforgeeks.org/python-projects-for-cybersecurity/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your project and what you learned.","ar":"لخص مشروعك وما تعلمته منه."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":27,"phase":2,"title":{"en":"Security Automation","ar":"أتمتة الأمن"},"objective":{"en":"Understand the principles and tools of security automation, and apply automation to streamline detection, response, and reporting.","ar":"فهم مبادئ وأدوات أتمتة الأمن، وتطبيق الأتمتة لتسريع عمليات الكشف والاستجابة والتقارير."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Introduction to Security Automation","ar":"مقدمة في أتمتة الأمن"},"tasks":[{"id":"w27d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the definition, benefits, and challenges of security automation in modern SOCs.","ar":"ادرس تعريف أتمتة الأمن، فوائدها، وتحدياتها في مراكز العمليات الأمنية الحديثة."}},{"id":"w27d1t2","type":"Practical","duration":60,"description":{"en":"List three repetitive security tasks that can be automated.","ar":"عدد ثلاث مهام أمنية متكررة يمكن أتمتتها."}}],"resources":[{"type":"article","title":"What is Security Automation? - IBM","url":"https://www.ibm.com/topics/security-automation"},{"type":"video","title":"Security Automation Explained","url":"https://www.youtube.com/watch?v=4VZJQ6Xw2rQ"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the main benefits of automation for security teams.","ar":"لخص الفوائد الرئيسية للأتمتة بالنسبة لفرق الأمن."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"SOAR Platforms Overview","ar":"نظرة عامة على منصات SOAR"},"tasks":[{"id":"w27d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about SOAR (Security Orchestration, Automation, and Response) platforms and their role in incident response.","ar":"تعرف على منصات SOAR (تنسيق وأتمتة واستجابة الأمن) ودورها في الاستجابة للحوادث."}},{"id":"w27d2t2","type":"Practical","duration":60,"description":{"en":"Review features of open-source SOAR tools (e.g., Shuffle, TheHive, Cortex).","ar":"استعرض ميزات أدوات SOAR مفتوحة المصدر مثل Shuffle أو TheHive أو Cortex."}}],"resources":[{"type":"article","title":"What is SOAR? - Palo Alto Networks","url":"https://www.paloaltonetworks.com/cyberpedia/what-is-soar"},{"type":"guide","title":"Open Source SOAR Tools List","url":"https://github.com/meirwah/awesome-soar"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two features you find valuable in a SOAR platform.","ar":"عدد ميزتين وجدتهما مهمتين في منصة SOAR."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Automating Threat Intelligence","ar":"أتمتة استخبارات التهديد"},"tasks":[{"id":"w27d3t1","type":"Blue Team","duration":60,"description":{"en":"Learn how to automate ingestion and enrichment of threat intelligence feeds.","ar":"تعلم كيفية أتمتة جمع وتغذية وتحليل مصادر استخبارات التهديد."}},{"id":"w27d3t2","type":"Practical","duration":60,"description":{"en":"Write or review a Python script that pulls indicators from a public feed (e.g., AlienVault OTX API).","ar":"اكتب أو راجع سكربت بايثون لجمع مؤشرات من مصدر عام مثل AlienVault OTX API."}}],"resources":[{"type":"guide","title":"AlienVault OTX Python API","url":"https://otx.alienvault.com/api"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe how automation improves threat intelligence workflows.","ar":"اشرح كيف تحسن الأتمتة من سير عمل استخبارات التهديد."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Automated Incident Response Playbooks","ar":"خطط الاستجابة التلقائية للحوادث"},"tasks":[{"id":"w27d4t1","type":"Blue Team","duration":60,"description":{"en":"Study how to design automated playbooks for common incidents (phishing, malware, brute force).","ar":"ادرس كيفية تصميم خطط استجابة تلقائية للحوادث الشائعة (التصيد، البرمجيات الخبيثة، هجمات القوة الغاشمة)."}},{"id":"w27d4t2","type":"Practical","duration":60,"description":{"en":"Draft a simple incident response playbook (flowchart or pseudocode) for phishing.","ar":"صمم خطة استجابة تلقائية بسيطة (مخطط سير أو كود وهمي) لحادث تصيد."}}],"resources":[{"type":"guide","title":"SOAR Playbook Examples","url":"https://www.splunk.com/en_us/blog/security/soar-playbooks.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the key steps in your playbook.","ar":"عدد الخطوات الرئيسية في خطة الاستجابة التي صممتها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Security Automation with Python & APIs","ar":"أتمتة الأمن باستخدام بايثون وواجهات البرمجة"},"tasks":[{"id":"w27d5t1","type":"Blue Team","duration":60,"description":{"en":"Practice integrating Python scripts with APIs to automate security tasks (block IP, send alerts, update tickets).","ar":"تدرب على دمج سكربتات بايثون مع واجهات برمجة التطبيقات (APIs) لأتمتة مهام الأمن (حجب IP، إرسال تنبيهات، تحديث تذاكر)."}},{"id":"w27d5t2","type":"Practical","duration":60,"description":{"en":"Write a script to automatically block a malicious IP using a firewall API (e.g., pfSense, Cisco, or a simulated API).","ar":"اكتب سكربت يحجب IP ضار تلقائياً باستخدام واجهة برمجة جدار حماية (مثل pfSense أو Cisco أو API تجريبي)."}}],"resources":[{"type":"guide","title":"Automating Security with Python","url":"https://www.geeksforgeeks.org/python-for-cybersecurity/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe a security task you automated and its impact.","ar":"صف مهمة أمنية أتمتتها وتأثيرها."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Automation Mini-Project","ar":"مراجعة ومشروع أتمتة مصغر"},"tasks":[{"id":"w27d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all security automation concepts and tools learned this week.","ar":"راجع جميع مفاهيم وأدوات أتمتة الأمن التي تعلمتها هذا الأسبوع."}},{"id":"w27d6t2","type":"Practical","duration":60,"description":{"en":"Build a mini-project: e.g., automated log parser, email alert system, or IOC enrichment script.","ar":"ابنِ مشروع أتمتة مصغر: مثل محلل سجلات تلقائي، نظام تنبيه بالبريد الإلكتروني، أو سكربت إثراء مؤشرات الاختراق."}}],"resources":[{"type":"guide","title":"Security Automation Project Ideas","url":"https://www.splunk.com/en_us/blog/security/security-automation-ideas.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your mini-project and what you learned.","ar":"لخص مشروعك المصغر وما تعلمته منه."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":28,"phase":2,"title":{"en":"Cloud Security Fundamentals","ar":"أساسيات أمن الحوسبة السحابية"},"objective":{"en":"Understand the core concepts, risks, and controls of cloud security across IaaS, PaaS, and SaaS environments.","ar":"فهم المفاهيم الأساسية، المخاطر، والضوابط في أمن الحوسبة السحابية عبر بيئات IaaS و PaaS و SaaS."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Cloud Computing Models & Shared Responsibility","ar":"نماذج الحوسبة السحابية ومسؤولية الأمان المشتركة"},"tasks":[{"id":"w28d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the differences between IaaS, PaaS, and SaaS, and the shared responsibility model.","ar":"ادرس الفروق بين نماذج IaaS وPaaS وSaaS، ونموذج المسؤولية المشتركة."}},{"id":"w28d1t2","type":"Practical","duration":60,"description":{"en":"Draw a diagram showing security responsibilities for each cloud model.","ar":"ارسم مخططاً يوضح مسؤوليات الأمان في كل نموذج سحابي."}}],"resources":[{"type":"article","title":"Cloud Service Models Explained","url":"https://www.ibm.com/cloud/learn/iaas-paas-saas"},{"type":"article","title":"Shared Responsibility Model - AWS","url":"https://aws.amazon.com/compliance/shared-responsibility-model/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the main security responsibility you retain in each model.","ar":"لخص أهم مسؤولية أمنية تتحملها في كل نموذج."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Cloud Threats & Risks","ar":"تهديدات ومخاطر الحوسبة السحابية"},"tasks":[{"id":"w28d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about major cloud security threats: misconfiguration, data breaches, insecure APIs, account hijacking.","ar":"تعرف على أبرز تهديدات أمن السحابة: سوء الإعدادات، تسرب البيانات، واجهات برمجة التطبيقات غير المؤمنة، اختراق الحسابات."}},{"id":"w28d2t2","type":"Practical","duration":60,"description":{"en":"Research a real-world cloud breach and summarize the root cause.","ar":"ابحث عن حادثة اختراق سحابي حقيقية ولخص السبب الجذري."}}],"resources":[{"type":"article","title":"Top Cloud Security Threats - CSA","url":"https://cloudsecurityalliance.org/research/top-threats/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three cloud threats and a mitigation for each.","ar":"عدد ثلاث تهديدات سحابية وحل لكل واحدة."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Identity & Access Management in the Cloud","ar":"إدارة الهوية والصلاحيات في السحابة"},"tasks":[{"id":"w28d3t1","type":"Blue Team","duration":60,"description":{"en":"Study IAM concepts: users, roles, policies, MFA, and least privilege in cloud environments.","ar":"ادرس مفاهيم IAM: المستخدمون، الأدوار، السياسات، التحقق بخطوتين، والامتياز الأقل في السحابة."}},{"id":"w28d3t2","type":"Practical","duration":60,"description":{"en":"Review IAM settings in a free cloud lab (e.g., AWS Free Tier, Azure, or GCP) or use a simulator.","ar":"راجع إعدادات IAM في بيئة سحابية مجانية أو باستخدام محاكي."}}],"resources":[{"type":"guide","title":"AWS IAM Best Practices","url":"https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two IAM misconfigurations and their risks.","ar":"عدد خطأين شائعين في إعداد IAM وخطر كل منهما."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Data Protection & Encryption in the Cloud","ar":"حماية البيانات والتشفير في السحابة"},"tasks":[{"id":"w28d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn about encryption at rest, in transit, and key management in cloud platforms.","ar":"تعلم عن التشفير أثناء التخزين والنقل وإدارة المفاتيح في منصات السحابة."}},{"id":"w28d4t2","type":"Practical","duration":60,"description":{"en":"Enable encryption on a cloud storage bucket or review encryption settings in a cloud demo.","ar":"فعّل التشفير على حاوية تخزين سحابية أو راجع إعدادات التشفير في بيئة تجريبية."}}],"resources":[{"type":"guide","title":"Cloud Data Encryption Best Practices","url":"https://www.csoonline.com/article/3532100/cloud-encryption-best-practices.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe one risk of unencrypted cloud data.","ar":"صف خطراً واحداً لعدم تشفير بيانات السحابة."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Cloud Security Monitoring & Logging","ar":"مراقبة السحابة وجمع السجلات"},"tasks":[{"id":"w28d5t1","type":"Blue Team","duration":60,"description":{"en":"Study cloud-native monitoring tools (CloudTrail, CloudWatch, Azure Monitor) and best practices for log collection.","ar":"ادرس أدوات المراقبة السحابية (CloudTrail, CloudWatch, Azure Monitor) وأفضل ممارسات جمع السجلات."}},{"id":"w28d5t2","type":"Practical","duration":60,"description":{"en":"Enable and review logs for a cloud resource (real or simulated).","ar":"فعّل وراجع السجلات لمورد سحابي (فعلي أو تجريبي)."}}],"resources":[{"type":"guide","title":"AWS Logging and Monitoring Guide","url":"https://docs.aws.amazon.com/whitepapers/latest/logging-monitoring-aws/logging-monitoring-aws.pdf"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two types of cloud logs and what they reveal.","ar":"عدد نوعين من سجلات السحابة وما تكشفه كل واحدة."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Cloud Security Policy","ar":"مراجعة وسياسة أمن السحابة"},"tasks":[{"id":"w28d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all cloud security concepts and controls learned this week.","ar":"راجع جميع مفاهيم وضوابط أمن السحابة التي تعلمتها هذا الأسبوع."}},{"id":"w28d6t2","type":"Practical","duration":60,"description":{"en":"Draft a basic cloud security policy for your organization.","ar":"اكتب مسودة سياسة أمن سحابة لمؤسستك."}}],"resources":[{"type":"guide","title":"Cloud Security Policy Example","url":"https://www.sans.org/information-security-policy/cloud-computing-policy/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three key points from your policy.","ar":"عدد ثلاث نقاط رئيسية من السياسة التي كتبتها."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":29,"phase":2,"title":{"en":"Wireless & Mobile Security","ar":"أمن الشبكات اللاسلكية والهواتف المحمولة"},"objective":{"en":"Understand wireless network security protocols, common attacks, and best practices for securing Wi-Fi and mobile devices.","ar":"فهم بروتوكولات أمان الشبكات اللاسلكية، أشهر الهجمات، وأفضل الممارسات لتأمين الواي فاي والأجهزة المحمولة."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Wireless Networking Basics & Standards","ar":"أساسيات الشبكات اللاسلكية والمعايير"},"tasks":[{"id":"w29d1t1","type":"Blue Team","duration":60,"description":{"en":"Study Wi-Fi standards (802.11 a/b/g/n/ac/ax), frequency bands, and basic wireless concepts.","ar":"ادرس معايير الواي فاي (802.11 a/b/g/n/ac/ax)، نطاقات التردد، والمفاهيم الأساسية للشبكات اللاسلكية."}},{"id":"w29d1t2","type":"Practical","duration":60,"description":{"en":"List all wireless networks visible to your device and identify their security protocols.","ar":"عدد جميع الشبكات اللاسلكية التي تظهر لجهازك وحدد نوع بروتوكول الأمان لكل واحدة."}}],"resources":[{"type":"guide","title":"Wi-Fi Standards Explained","url":"https://www.networkworld.com/article/2693411/wi-fi-standards-explained.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the differences between WPA2 and WPA3.","ar":"لخص الفروق بين WPA2 و WPA3."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Wi-Fi Security Protocols & Attacks","ar":"بروتوكولات أمان الواي فاي والهجمات الشائعة"},"tasks":[{"id":"w29d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about WEP, WPA, WPA2, WPA3, and common attacks (Evil Twin, Deauthentication, KRACK).","ar":"تعرف على WEP وWPA وWPA2 وWPA3 وأشهر الهجمات مثل Evil Twin و Deauthentication و KRACK."}},{"id":"w29d2t2","type":"Practical","duration":60,"description":{"en":"Simulate a Wi-Fi deauthentication attack in a safe lab environment (e.g., using Aircrack-ng on a test network).","ar":"حاكي هجوم Deauthentication في بيئة مختبر آمنة باستخدام Aircrack-ng على شبكة تجريبية."}}],"resources":[{"type":"guide","title":"Wi-Fi Security: WPA2 vs WPA3","url":"https://www.avast.com/c-wpa2-vs-wpa3"},{"type":"tool","title":"Aircrack-ng Suite","url":"https://www.aircrack-ng.org/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe one attack and how to defend against it.","ar":"صف هجومًا واحدًا وكيفية الحماية منه."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Mobile Device Security Basics","ar":"أساسيات أمن الأجهزة المحمولة"},"tasks":[{"id":"w29d3t1","type":"Blue Team","duration":60,"description":{"en":"Study mobile OS security (Android/iOS), app permissions, and device hardening.","ar":"ادرس أمان أنظمة تشغيل الهواتف (Android/iOS)، أذونات التطبيقات، وتقوية الجهاز."}},{"id":"w29d3t2","type":"Practical","duration":60,"description":{"en":"Review security settings on your phone and enable key protections (screen lock, encryption, app permissions).","ar":"راجع إعدادات الأمان في هاتفك وفعل الحماية الأساسية (قفل الشاشة، التشفير، أذونات التطبيقات)."}}],"resources":[{"type":"guide","title":"Mobile Device Security Best Practices","url":"https://www.cisa.gov/news-events/news/protecting-your-mobile-device"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three mobile security settings you enabled.","ar":"عدد ثلاث إعدادات أمان قمت بتفعيلها في هاتفك."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Mobile Threats & Malware","ar":"تهديدات الأجهزة المحمولة والبرمجيات الخبيثة"},"tasks":[{"id":"w29d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn about mobile malware, phishing, app-based threats, and SMS attacks.","ar":"تعرف على برمجيات الهواتف الخبيثة، التصيد، تهديدات التطبيقات، وهجمات الرسائل النصية."}},{"id":"w29d4t2","type":"Practical","duration":60,"description":{"en":"Analyze a recent mobile malware case and summarize how it spread.","ar":"حلل حالة برمجية خبيثة حديثة على الهاتف ولخص كيف انتشرت."}}],"resources":[{"type":"article","title":"Mobile Malware Threats","url":"https://www.kaspersky.com/resource-center/threats/mobile-malware"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the main infection vector in your case study.","ar":"لخص وسيلة العدوى الرئيسية في الحالة التي درستها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Best Practices for Securing Wi-Fi & Mobile","ar":"أفضل الممارسات لتأمين الواي فاي والأجهزة المحمولة"},"tasks":[{"id":"w29d5t1","type":"Blue Team","duration":60,"description":{"en":"Study advanced Wi-Fi security (guest networks, MAC filtering, firmware updates) and mobile device management (MDM).","ar":"ادرس أمان الواي فاي المتقدم (شبكات الضيوف، تصفية MAC، تحديثات النظام) وإدارة الأجهزة المحمولة (MDM)."}},{"id":"w29d5t2","type":"Practical","duration":60,"description":{"en":"Draft a checklist for Wi-Fi and mobile security for your home or organization.","ar":"أنشئ قائمة تدقيق لأمان الواي فاي والأجهزة المحمولة في منزلك أو مؤسستك."}}],"resources":[{"type":"guide","title":"Wi-Fi and Mobile Security Tips","url":"https://www.cisa.gov/news-events/news/secure-wifi-and-mobile-devices"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List five items from your checklist.","ar":"عدد خمسة عناصر من قائمة التدقيق التي أعددتها."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Security Awareness","ar":"مراجعة وتوعية أمنية"},"tasks":[{"id":"w29d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all wireless and mobile security concepts learned this week.","ar":"راجع جميع مفاهيم أمان الشبكات اللاسلكية والهواتف المحمولة التي تعلمتها هذا الأسبوع."}},{"id":"w29d6t2","type":"Practical","duration":60,"description":{"en":"Create a security awareness poster or infographic about Wi-Fi/mobile threats.","ar":"صمم ملصق توعية أمنية أو رسم معلوماتي عن تهديدات الواي فاي أو الهواتف المحمولة."}}],"resources":[{"type":"guide","title":"Wireless Security Awareness","url":"https://www.sans.org/security-awareness-training/resources/wireless-security-awareness-poster/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write three key awareness messages for end users.","ar":"اكتب ثلاث رسائل توعية رئيسية للمستخدمين النهائيين."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":30,"phase":2,"title":{"en":"Secure Coding","ar":"البرمجة الآمنة"},"objective":{"en":"Learn secure coding principles and best practices to prevent common vulnerabilities during software development.","ar":"تعلم مبادئ البرمجة الآمنة وأفضل الممارسات لمنع الثغرات الشائعة أثناء تطوير البرمجيات."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Introduction to Secure Coding","ar":"مقدمة في البرمجة الآمنة"},"tasks":[{"id":"w30d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the key principles of secure coding and common software vulnerabilities.","ar":"ادرس المبادئ الأساسية للبرمجة الآمنة والثغرات الشائعة في البرمجيات."}},{"id":"w30d1t2","type":"Practical","duration":60,"description":{"en":"Review sample vulnerable code snippets and identify security flaws.","ar":"راجع مقتطفات شيفرة برمجية تحتوي على ثغرات وحدد العيوب الأمنية."}}],"resources":[{"type":"guide","title":"OWASP Secure Coding Practices","url":"https://owasp.org/www-project-secure-coding-practices/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three secure coding principles you learned today.","ar":"عدد ثلاث مبادئ في البرمجة الآمنة تعلمتها اليوم."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Input Validation and Output Encoding","ar":"التحقق من صحة المدخلات وترميز المخرجات"},"tasks":[{"id":"w30d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn techniques for input validation and output encoding to prevent injection attacks.","ar":"تعلم تقنيات التحقق من صحة المدخلات وترميز المخرجات لمنع هجمات الحقن."}},{"id":"w30d2t2","type":"Practical","duration":60,"description":{"en":"Implement input validation and output encoding in a sample application.","ar":"طبق التحقق من صحة المدخلات وترميز المخرجات في تطبيق تجريبي."}}],"resources":[{"type":"article","title":"Input Validation Best Practices","url":"https://cheatsheetseries.owasp.org/cheatsheets/Input_Validation_Cheat_Sheet.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Explain why input validation is critical for security.","ar":"اشرح لماذا التحقق من صحة المدخلات مهم للأمن."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Authentication and Session Management","ar":"المصادقة وإدارة الجلسات"},"tasks":[{"id":"w30d3t1","type":"Blue Team","duration":60,"description":{"en":"Study secure authentication methods and session management best practices.","ar":"ادرس طرق المصادقة الآمنة وأفضل ممارسات إدارة الجلسات."}},{"id":"w30d3t2","type":"Practical","duration":60,"description":{"en":"Implement secure login and session handling in a sample web app.","ar":"طبق تسجيل دخول آمن وإدارة جلسات في تطبيق ويب تجريبي."}}],"resources":[{"type":"guide","title":"OWASP Authentication Cheat Sheet","url":"https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two common authentication vulnerabilities and how to mitigate them.","ar":"عدد ثغرتين شائعتين في المصادقة وكيفية التخفيف منهما."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Error Handling and Logging","ar":"معالجة الأخطاء وتسجيل الأحداث"},"tasks":[{"id":"w30d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn secure error handling techniques and proper logging practices.","ar":"تعلم تقنيات معالجة الأخطاء الآمنة وممارسات التسجيل الصحيحة."}},{"id":"w30d4t2","type":"Practical","duration":60,"description":{"en":"Implement error handling and logging in a sample application ensuring no sensitive data exposure.","ar":"طبق معالجة الأخطاء والتسجيل في تطبيق تجريبي مع ضمان عدم كشف بيانات حساسة."}}],"resources":[{"type":"article","title":"Secure Error Handling","url":"https://cheatsheetseries.owasp.org/cheatsheets/Error_Handling_Cheat_Sheet.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Explain why proper error handling is important for security.","ar":"اشرح لماذا معالجة الأخطاء بشكل صحيح مهمة للأمن."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Secure Coding Review & Best Practices","ar":"مراجعة البرمجة الآمنة وأفضل الممارسات"},"tasks":[{"id":"w30d5t1","type":"Blue Team","duration":60,"description":{"en":"Review all secure coding concepts learned this week and common pitfalls.","ar":"راجع جميع مفاهيم البرمجة الآمنة التي تعلمتها هذا الأسبوع والأخطاء الشائعة."}},{"id":"w30d5t2","type":"Practical","duration":60,"description":{"en":"Conduct a code review on a sample project focusing on security improvements.","ar":"قم بمراجعة شيفرة لمشروع تجريبي مع التركيز على تحسينات الأمان."}}],"resources":[{"type":"guide","title":"Secure Coding Best Practices","url":"https://owasp.org/www-project-secure-coding-practices/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three security improvements you identified during code review.","ar":"عدد ثلاث تحسينات أمنية حددتها أثناء مراجعة الشيفرة."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Final Review & Mini Secure Coding Project","ar":"مراجعة نهائية ومشروع مصغر للبرمجة الآمنة"},"tasks":[{"id":"w30d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all secure coding concepts and best practices learned this week.","ar":"راجع جميع مفاهيم البرمجة الآمنة وأفضل الممارسات التي تعلمتها هذا الأسبوع."}},{"id":"w30d6t2","type":"Practical","duration":60,"description":{"en":"Build a small secure application or fix vulnerabilities in an existing sample.","ar":"ابنِ تطبيقًا صغيرًا آمنًا أو أصلح الثغرات في نموذج موجود."}}],"resources":[{"type":"guide","title":"Secure Coding Project Ideas","url":"https://www.geeksforgeeks.org/secure-coding-practices/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your project and lessons learned.","ar":"لخص مشروعك والدروس المستفادة."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":31,"phase":2,"title":{"en":"DevOps and CI/CD Security (DevSecOps)","ar":"أمن DevOps و CI/CD (DevSecOps)"},"objective":{"en":"Understand the fundamentals of securing DevOps pipelines, CI/CD processes, and integrating security into development workflows.","ar":"فهم أساسيات تأمين عمليات DevOps، وسلاسل CI/CD، ودمج الأمان في سير عمل التطوير."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Introduction to DevSecOps","ar":"مقدمة في DevSecOps"},"tasks":[{"id":"w31d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the concepts of DevOps, CI/CD, and how security is integrated (DevSecOps).","ar":"ادرس مفاهيم DevOps وCI/CD وكيفية دمج الأمان (DevSecOps)."}},{"id":"w31d1t2","type":"Practical","duration":60,"description":{"en":"Map the stages of a typical CI/CD pipeline and identify security checkpoints.","ar":"ارسم مراحل خط أنابيب CI/CD وحدد نقاط الفحص الأمني."}}],"resources":[{"type":"guide","title":"What is DevSecOps?","url":"https://www.redhat.com/en/topics/devops/what-is-devsecops"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three benefits of integrating security into DevOps.","ar":"عدد ثلاث فوائد لدمج الأمان في DevOps."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"CI/CD Pipeline Threats & Risks","ar":"تهديدات ومخاطر خطوط CI/CD"},"tasks":[{"id":"w31d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about common CI/CD threats: code injection, credential leaks, dependency attacks.","ar":"تعرف على تهديدات CI/CD الشائعة: حقن الكود، تسريب بيانات الاعتماد، هجمات الاعتماديات."}},{"id":"w31d2t2","type":"Practical","duration":60,"description":{"en":"Analyze a real-world CI/CD breach and summarize the root cause.","ar":"حلل حادثة اختراق واقعية في CI/CD ولخص السبب الجذري."}}],"resources":[{"type":"article","title":"Top 10 CI/CD Security Risks","url":"https://owasp.org/www-project-top-10-ci-cd-security-risks/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two CI/CD risks and a mitigation for each.","ar":"عدد خطرين في CI/CD وحل لكل منهما."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Securing the CI/CD Pipeline","ar":"تأمين خط أنابيب CI/CD"},"tasks":[{"id":"w31d3t1","type":"Blue Team","duration":60,"description":{"en":"Study best practices for securing CI/CD: secrets management, code signing, access control.","ar":"ادرس أفضل ممارسات تأمين CI/CD: إدارة الأسرار، توقيع الكود، التحكم في الوصول."}},{"id":"w31d3t2","type":"Practical","duration":60,"description":{"en":"Implement a secrets management solution (e.g., HashiCorp Vault, GitHub Secrets) in a test pipeline.","ar":"طبق حل لإدارة الأسرار (مثل HashiCorp Vault أو GitHub Secrets) في خط أنابيب تجريبي."}}],"resources":[{"type":"guide","title":"Securing CI/CD Pipelines","url":"https://www.snyk.io/learn/ci-cd-security/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe how secrets management prevents attacks.","ar":"اشرح كيف تمنع إدارة الأسرار الهجمات."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Automated Security Testing in DevOps","ar":"الاختبار الأمني الآلي في DevOps"},"tasks":[{"id":"w31d4t1","type":"Blue Team","duration":60,"description":{"en":"Learn about static and dynamic analysis tools (SAST/DAST) and their integration into CI/CD.","ar":"تعلم عن أدوات التحليل الساكن والديناميكي (SAST/DAST) وكيفية دمجها في CI/CD."}},{"id":"w31d4t2","type":"Practical","duration":60,"description":{"en":"Integrate a SAST or DAST tool (e.g., SonarQube, OWASP ZAP) into a sample pipeline.","ar":"ادمج أداة SAST أو DAST (مثل SonarQube أو OWASP ZAP) في خط أنابيب تجريبي."}}],"resources":[{"type":"guide","title":"OWASP SAST & DAST Guide","url":"https://owasp.org/www-community/Source_Code_Analysis_Tools"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two advantages of automated security testing.","ar":"عدد ميزتين للاختبار الأمني الآلي."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"DevSecOps Culture & Collaboration","ar":"ثقافة DevSecOps والتعاون بين الفرق"},"tasks":[{"id":"w31d5t1","type":"Blue Team","duration":60,"description":{"en":"Study how to build a security-first culture in DevOps teams and foster collaboration.","ar":"ادرس كيفية بناء ثقافة تضع الأمان أولًا في فرق DevOps وتعزيز التعاون."}},{"id":"w31d5t2","type":"Practical","duration":60,"description":{"en":"Draft a set of security guidelines for developers and operations.","ar":"اكتب مجموعة من إرشادات الأمان للمطورين وفرق العمليات."}}],"resources":[{"type":"article","title":"Building a DevSecOps Culture","url":"https://www.snyk.io/blog/devsecops-culture/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three elements of a strong DevSecOps culture.","ar":"عدد ثلاث عناصر لثقافة DevSecOps قوية."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & DevSecOps Mini Project","ar":"مراجعة ومشروع DevSecOps مصغر"},"tasks":[{"id":"w31d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all DevSecOps concepts and practices learned this week.","ar":"راجع جميع مفاهيم وممارسات DevSecOps التي تعلمتها هذا الأسبوع."}},{"id":"w31d6t2","type":"Practical","duration":60,"description":{"en":"Build a mini CI/CD pipeline with security checks integrated.","ar":"ابنِ خط أنابيب CI/CD مصغر مع دمج نقاط الفحص الأمني."}}],"resources":[{"type":"guide","title":"DevSecOps Pipeline Example","url":"https://www.redhat.com/en/topics/devops/what-is-devsecops"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your mini project and lessons learned.","ar":"لخص مشروعك والدروس المستفادة."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":32,"phase":2,"title":{"en":"API Security","ar":"أمن واجهات برمجة التطبيقات"},"objective":{"en":"Understand the fundamentals of API security, common vulnerabilities, and best practices for securing RESTful and web APIs.","ar":"فهم أساسيات أمن واجهات برمجة التطبيقات، الثغرات الشائعة، وأفضل الممارسات لتأمين واجهات REST وواجهات الويب."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"API Security Fundamentals","ar":"أساسيات أمن واجهات برمجة التطبيقات"},"tasks":[{"id":"w32d1t1","type":"Blue Team","duration":60,"description":{"en":"Study API types (REST, SOAP, GraphQL) and the importance of API security.","ar":"ادرس أنواع الـ API (REST, SOAP, GraphQL) وأهمية أمن واجهات البرمجة."}},{"id":"w32d1t2","type":"Practical","duration":60,"description":{"en":"List APIs you use daily and think about possible risks if they are not secured.","ar":"عدد واجهات برمجة التطبيقات التي تستخدمها يوميًا وفكر في المخاطر إذا لم تكن مؤمنة."}}],"resources":[{"type":"guide","title":"What is API Security?","url":"https://www.redhat.com/en/topics/api/what-is-api-security"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize why API security is critical for modern applications.","ar":"لخص لماذا يعتبر أمن الـ API بالغ الأهمية للتطبيقات الحديثة."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"OWASP API Top 10 Vulnerabilities","ar":"ثغرات OWASP API Top 10"},"tasks":[{"id":"w32d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about the OWASP API Security Top 10 vulnerabilities.","ar":"تعرف على أشهر ثغرات OWASP API Security Top 10."}},{"id":"w32d2t2","type":"Practical","duration":60,"description":{"en":"Map each vulnerability to a real-world API breach example.","ar":"اربط كل ثغرة بمثال اختراق واقعي لـ API."}}],"resources":[{"type":"guide","title":"OWASP API Security Top 10","url":"https://owasp.org/www-project-api-security/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three API vulnerabilities and their impact.","ar":"عدد ثلاث ثغرات في الـ API وتأثيرها."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Authentication & Authorization in APIs","ar":"المصادقة والتفويض في واجهات البرمجة"},"tasks":[{"id":"w32d3t1","type":"Blue Team","duration":60,"description":{"en":"Study secure authentication (API keys, OAuth, JWT) and proper authorization controls.","ar":"ادرس المصادقة الآمنة (API keys, OAuth, JWT) وضوابط التفويض الصحيحة."}},{"id":"w32d3t2","type":"Practical","duration":60,"description":{"en":"Test an API endpoint with and without proper authentication/authorization.","ar":"اختبر نقطة نهاية API مع وبدون مصادقة/تفويض صحيح."}}],"resources":[{"type":"guide","title":"API Authentication Best Practices","url":"https://auth0.com/learn/api-security/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe a risk of weak authentication in APIs.","ar":"صف خطورة ضعف المصادقة في الـ API."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"API Security Testing Tools","ar":"أدوات اختبار أمان الـ API"},"tasks":[{"id":"w32d4t1","type":"Blue Team","duration":60,"description":{"en":"Explore tools for API security testing (Postman, Burp Suite, OWASP ZAP, APIsec).","ar":"استكشف أدوات اختبار أمان الـ API مثل Postman و Burp Suite و OWASP ZAP و APIsec."}},{"id":"w32d4t2","type":"Practical","duration":60,"description":{"en":"Perform basic security tests on a sample API using one of the tools.","ar":"قم بإجراء اختبارات أمان أساسية على API تجريبي باستخدام إحدى الأدوات."}}],"resources":[{"type":"tool","title":"Postman","url":"https://www.postman.com/"},{"type":"tool","title":"OWASP ZAP","url":"https://www.zaproxy.org/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two useful features from the API testing tool you used.","ar":"عدد ميزتين مفيدتين من أداة اختبار الـ API التي استخدمتها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Best Practices for API Security","ar":"أفضل الممارسات لأمن الـ API"},"tasks":[{"id":"w32d5t1","type":"Blue Team","duration":60,"description":{"en":"Study best practices: rate limiting, input validation, error handling, logging, and API gateway security.","ar":"ادرس أفضل الممارسات مثل الحد من الطلبات، التحقق من صحة المدخلات، معالجة الأخطاء، التسجيل، وأمان بوابات الـ API."}},{"id":"w32d5t2","type":"Practical","duration":60,"description":{"en":"Draft a checklist of API security controls for developers.","ar":"أنشئ قائمة تدقيق بضوابط أمان الـ API للمطورين."}}],"resources":[{"type":"guide","title":"API Security Best Practices","url":"https://cheatsheetseries.owasp.org/cheatsheets/REST_Security_Cheat_Sheet.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List five items from your API security checklist.","ar":"عدد خمسة عناصر من قائمة تدقيق أمان الـ API التي أعددتها."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Mini API Security Project","ar":"مراجعة ومشروع مصغر لأمن الـ API"},"tasks":[{"id":"w32d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all API security concepts and best practices learned this week.","ar":"راجع جميع مفاهيم وأفضل ممارسات أمن الـ API التي تعلمتها هذا الأسبوع."}},{"id":"w32d6t2","type":"Practical","duration":60,"description":{"en":"Build or secure a sample API endpoint using best practices.","ar":"ابنِ أو قم بتأمين نقطة نهاية API تجريبية باستخدام أفضل الممارسات."}}],"resources":[{"type":"guide","title":"OWASP API Security Project","url":"https://owasp.org/www-project-api-security/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your mini project and what you learned.","ar":"لخص مشروعك المصغر وما تعلمته."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":33,"phase":2,"title":{"en":"Infrastructure Pentesting & Social Engineering","ar":"اختبار اختراق البنية التحتية والهندسة الاجتماعية"},"objective":{"en":"Gain hands-on experience in both infrastructure penetration testing (networks, servers) and social engineering (psychology, techniques, defenses), and understand how technical and human vulnerabilities intersect.","ar":"اكتساب خبرة عملية في اختبار اختراق البنية التحتية (شبكات، خوادم) والهندسة الاجتماعية (سيكولوجيا، تقنيات، دفاعات)، وفهم تقاطع الثغرات التقنية والبشرية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Methodologies: Pentest & Social Engineering","ar":"المنهجيات: اختبار الاختراق والهندسة الاجتماعية"},"tasks":[{"id":"w33d1t1","type":"Red Team","duration":60,"description":{"en":"Study phases of infrastructure pentesting (recon, scanning, exploitation, reporting) and basics of social engineering (psychology, famous attacks).","ar":"ادرس مراحل اختبار اختراق البنية التحتية (استطلاع، فحص، استغلال، تقرير) وأساسيات الهندسة الاجتماعية (سيكولوجيا، هجمات شهيرة)."}},{"id":"w33d1t2","type":"Practical","duration":60,"description":{"en":"Outline a test plan for a sample network and list two social engineering attacks.","ar":"ضع خطة اختبار لشبكة تجريبية وعدد هجومين من الهندسة الاجتماعية."}}]},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Network Scanning & Social Engineering Techniques","ar":"الفحص الشبكي وتقنيات الهندسة الاجتماعية"},"tasks":[{"id":"w33d2t1","type":"Red Team","duration":60,"description":{"en":"Perform Nmap scan and enumerate services. Study phishing, pretexting, and baiting.","ar":"نفذ فحص Nmap وعدد الخدمات. ادرس التصيد، التظاهر، والإغراء."}},{"id":"w33d2t2","type":"Practical","duration":60,"description":{"en":"Write a phishing scenario and document three Nmap options used.","ar":"اكتب سيناريو تصيد ووثق ثلاث خيارات استخدمتها في Nmap."}}]},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Vulnerability Exploitation & Phishing Simulation","ar":"استغلال الثغرات ومحاكاة التصيد"},"tasks":[{"id":"w33d3t1","type":"Red Team","duration":60,"description":{"en":"Run a vulnerability scan (OpenVAS/Nessus) and attempt exploitation (Metasploit). Simulate a phishing email and analyze red flags.","ar":"نفذ فحص ثغرات (OpenVAS/Nessus) وحاول الاستغلال (Metasploit). حاكي رسالة تصيد وحلل العلامات التحذيرية."}},{"id":"w33d3t2","type":"Practical","duration":60,"description":{"en":"Document exploited vulnerability and three phishing red flags.","ar":"وثق الثغرة التي استغليتها وثلاث علامات تحذيرية في التصيد."}}]},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Privilege Escalation & Physical Social Engineering","ar":"تصعيد الصلاحيات والهندسة الاجتماعية الفيزيائية"},"tasks":[{"id":"w33d4t1","type":"Red Team","duration":60,"description":{"en":"Simulate privilege escalation on a vulnerable VM. Study tailgating and badge cloning.","ar":"حاكي تصعيد صلاحيات على جهاز افتراضي ضعيف. ادرس التسلل واستنساخ البطاقات."}},{"id":"w33d4t2","type":"Practical","duration":60,"description":{"en":"Write a policy point to prevent tailgating and describe escalation technique.","ar":"اكتب بند سياسة لمنع التسلل وصف تقنية التصعيد."}}]},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Reporting & Defenses","ar":"التقرير والدفاعات"},"tasks":[{"id":"w33d5t1","type":"Blue Team","duration":60,"description":{"en":"Draft a pentest finding (vulnerability, impact, remediation). Study user awareness and technical controls for social engineering.","ar":"اكتب نموذج توصيف لثغرة (الوصف، الأثر، التوصية). ادرس الوعي الأمني والضوابط التقنية ضد الهندسة الاجتماعية."}},{"id":"w33d5t2","type":"Practical","duration":60,"description":{"en":"Design a security awareness poster or email.","ar":"صمم ملصق أو رسالة توعية أمنية."}}]},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Checklist","ar":"مراجعة وقائمة تدقيق"},"tasks":[{"id":"w33d6t1","type":"Review","duration":60,"description":{"en":"Review all concepts and build a combined checklist for infra pentest and social engineering.","ar":"راجع جميع المفاهيم وأنشئ قائمة تدقيق موحدة لاختبار البنية التحتية والهندسة الاجتماعية."}},{"id":"w33d6t2","type":"Practical","duration":60,"description":{"en":"List five key items from your checklist.","ar":"عدد خمسة عناصر أساسية من قائمة التدقيق."}}]},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":34,"phase":2,"title":{"en":"Web Application Penetration Testing - Part 1 (Reconnaissance & Enumeration)","ar":"اختبار اختراق تطبيقات الويب - الجزء الأول (الاستطلاع والتعداد)"},"objective":{"en":"Master the reconnaissance and enumeration phases of web application penetration testing using practical tools and methodologies.","ar":"إتقان مرحلتي الاستطلاع والتعداد في اختبار اختراق تطبيقات الويب باستخدام أدوات ومنهجيات عملية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Web App Reconnaissance Fundamentals","ar":"أساسيات الاستطلاع لتطبيقات الويب"},"tasks":[{"id":"w34d1t1","type":"Red Team","duration":60,"description":{"en":"Study the goals and techniques of reconnaissance: OSINT, target identification, subdomain discovery.","ar":"ادرس أهداف وتقنيات الاستطلاع: جمع المعلومات المفتوحة، تحديد الهدف، اكتشاف النطاقات الفرعية."}},{"id":"w34d1t2","type":"Practical","duration":60,"description":{"en":"Perform OSINT and subdomain enumeration on a test domain using tools like amass or sublist3r.","ar":"نفذ جمع معلومات واكتشاف نطاقات فرعية على نطاق تجريبي باستخدام أدوات مثل amass أو sublist3r."}}],"resources":[{"type":"guide","title":"OWASP Reconnaissance Guide","url":"https://owasp.org/www-community/Reconnaissance"},{"type":"tool","title":"amass","url":"https://github.com/owasp-amass/amass"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three types of information you discovered during reconnaissance.","ar":"عدد ثلاث معلومات اكتشفتها أثناء الاستطلاع."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Web Application Enumeration","ar":"تعداد تطبيقات الويب"},"tasks":[{"id":"w34d2t1","type":"Red Team","duration":60,"description":{"en":"Learn about directory and file enumeration, technology fingerprinting, and user enumeration.","ar":"تعلم عن تعداد الأدلة والملفات، تحديد تقنيات التطبيق، وتعداد المستخدمين."}},{"id":"w34d2t2","type":"Practical","duration":60,"description":{"en":"Use tools like dirsearch or gobuster to enumerate directories and files on a test web app.","ar":"استخدم أدوات مثل dirsearch أو gobuster لتعداد الأدلة والملفات على تطبيق ويب تجريبي."}}],"resources":[{"type":"tool","title":"dirsearch","url":"https://github.com/maurosoria/dirsearch"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize two findings from your enumeration exercise.","ar":"لخص نتيجتين من تمرين التعداد."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Technology Fingerprinting & Mapping","ar":"تحديد تقنيات التطبيق ورسم خارطة الخدمة"},"tasks":[{"id":"w34d3t1","type":"Red Team","duration":60,"description":{"en":"Study fingerprinting techniques: identifying web servers, frameworks, and third-party services.","ar":"ادرس تقنيات التعرف على خوادم الويب، الأطر البرمجية، والخدمات الخارجية."}},{"id":"w34d3t2","type":"Practical","duration":60,"description":{"en":"Use tools like WhatWeb or Wappalyzer to fingerprint a test web application.","ar":"استخدم أدوات مثل WhatWeb أو Wappalyzer لتحديد تقنيات تطبيق ويب تجريبي."}}],"resources":[{"type":"tool","title":"WhatWeb","url":"https://github.com/urbanadventurer/WhatWeb"},{"type":"tool","title":"Wappalyzer","url":"https://www.wappalyzer.com/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document the technologies you discovered and their versions.","ar":"وثق التقنيات والإصدارات التي اكتشفتها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"User & Credential Enumeration","ar":"تعداد المستخدمين والمعلومات الحساسة"},"tasks":[{"id":"w34d4t1","type":"Red Team","duration":60,"description":{"en":"Study common techniques for user enumeration (login forms, error messages, public endpoints).","ar":"ادرس تقنيات تعداد المستخدمين الشائعة (نماذج الدخول، رسائل الخطأ، نقاط النهاية العامة)."}},{"id":"w34d4t2","type":"Practical","duration":60,"description":{"en":"Attempt user enumeration on a test app and document your findings.","ar":"جرب تعداد المستخدمين على تطبيق تجريبي ووثق النتائج."}}],"resources":[{"type":"guide","title":"OWASP User Enumeration Guide","url":"https://owasp.org/www-community/attacks/Username_enumeration"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two risks of user enumeration.","ar":"عدد خطرين من مخاطر تعداد المستخدمين."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Review & Recon/Enum Checklist","ar":"مراجعة وقائمة تدقيق الاستطلاع والتعداد"},"tasks":[{"id":"w34d5t1","type":"Red Team","duration":60,"description":{"en":"Review all reconnaissance and enumeration techniques learned this week.","ar":"راجع جميع تقنيات الاستطلاع والتعداد التي تعلمتها هذا الأسبوع."}},{"id":"w34d5t2","type":"Practical","duration":60,"description":{"en":"Build your own checklist for web application reconnaissance and enumeration.","ar":"أنشئ قائمة تدقيق خاصة بك لمرحلة الاستطلاع والتعداد لتطبيقات الويب."}}],"resources":[{"type":"guide","title":"Web App Recon & Enum Checklist","url":"https://owasp.org/www-project-web-security-testing-guide/stable/4-Web_Application_Security_Testing_Cheat_Sheet.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List five items from your checklist.","ar":"عدد خمسة عناصر من قائمة التدقيق التي أعددتها."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Mini Practical: Full Recon & Enum Walkthrough","ar":"تطبيق عملي مصغر: جولة كاملة في الاستطلاع والتعداد"},"tasks":[{"id":"w34d6t1","type":"Red Team","duration":120,"description":{"en":"Apply all steps from the week on a new test web application and document your full process.","ar":"طبق جميع الخطوات التي تعلمتها هذا الأسبوع على تطبيق ويب تجريبي جديد ووثق العملية بالكامل."}}],"resources":[{"type":"lab","title":"OWASP Juice Shop","url":"https://owasp.org/www-project-juice-shop/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Reflect on what step was most challenging and why.","ar":"اكتب عن أكثر خطوة وجدت صعوبة فيها ولماذا."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":35,"phase":2,"title":{"en":"Web Application Penetration Testing – Part 2 (Exploitation)","ar":"اختبار اختراق تطبيقات الويب - الجزء الثاني (الاستغلال)"},"objective":{"en":"Master the exploitation phase of web application penetration testing, focusing on exploiting common vulnerabilities and writing effective reports.","ar":"إتقان مرحلة الاستغلال في اختبار اختراق تطبيقات الويب، مع التركيز على استغلال الثغرات الشائعة وكتابة تقارير فعالة."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"SQL Injection (SQLi) Exploitation","ar":"استغلال ثغرات حقن قواعد البيانات (SQLi)"},"tasks":[{"id":"w35d1t1","type":"Red Team","duration":60,"description":{"en":"Study types of SQL injection (error-based, blind, union-based) and exploitation techniques.","ar":"ادرس أنواع حقن SQL (القائم على الأخطاء، الأعمى، union-based) وتقنيات الاستغلال."}},{"id":"w35d1t2","type":"Practical","duration":60,"description":{"en":"Exploit a SQLi vulnerability in a safe lab (e.g., DVWA or Juice Shop) and extract data.","ar":"استغل ثغرة SQLi في بيئة مختبرية آمنة (مثل DVWA أو Juice Shop) واستخرج بيانات."}}],"resources":[{"type":"lab","title":"DVWA SQL Injection Lab","url":"http://www.dvwa.co.uk/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document your exploitation steps and what data you retrieved.","ar":"وثق خطوات الاستغلال والبيانات التي استخرجتها."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Cross-Site Scripting (XSS) Exploitation","ar":"استغلال ثغرات البرمجة عبر المواقع (XSS)"},"tasks":[{"id":"w35d2t1","type":"Red Team","duration":60,"description":{"en":"Learn about reflected, stored, and DOM-based XSS and exploitation payloads.","ar":"تعلم عن أنواع XSS (المنعكس، المخزن، DOM-based) وحمولات الاستغلال."}},{"id":"w35d2t2","type":"Practical","duration":60,"description":{"en":"Exploit an XSS vulnerability in a lab and demonstrate session theft or alert pop-up.","ar":"استغل ثغرة XSS في بيئة مختبرية وأظهر سرقة جلسة أو نافذة تنبيه."}}],"resources":[{"type":"lab","title":"OWASP Juice Shop XSS Lab","url":"https://owasp.org/www-project-juice-shop/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe your XSS payload and its effect.","ar":"صف حمولة XSS التي استخدمتها وتأثيرها."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"CSRF and Business Logic Exploitation","ar":"استغلال CSRF وثغرات منطق الأعمال"},"tasks":[{"id":"w35d3t1","type":"Red Team","duration":60,"description":{"en":"Study Cross-Site Request Forgery (CSRF) and web application business logic flaws.","ar":"ادرس هجمات تزوير الطلبات عبر المواقع (CSRF) وثغرات منطق الأعمال في تطبيقات الويب."}},{"id":"w35d3t2","type":"Practical","duration":60,"description":{"en":"Exploit a CSRF or logic flaw in a test app and document the impact.","ar":"استغل ثغرة CSRF أو منطق أعمال في تطبيق تجريبي ووثق التأثير."}}],"resources":[{"type":"guide","title":"OWASP CSRF Guide","url":"https://owasp.org/www-community/attacks/csrf"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the business impact of your exploit.","ar":"لخص الأثر التجاري أو العملي للاستغلال الذي قمت به."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Exploiting Other Web Vulnerabilities","ar":"استغلال ثغرات ويب متنوعة"},"tasks":[{"id":"w35d4t1","type":"Red Team","duration":60,"description":{"en":"Explore and exploit vulnerabilities such as IDOR, SSRF, file upload, and insecure deserialization.","ar":"استكشف واستغل ثغرات مثل IDOR، SSRF، رفع الملفات، التسلسل غير الآمن."}},{"id":"w35d4t2","type":"Practical","duration":60,"description":{"en":"Choose one vulnerability and exploit it in a safe lab environment.","ar":"اختر ثغرة واحدة واستغلها في بيئة مختبرية آمنة."}}],"resources":[{"type":"guide","title":"OWASP Top 10 Web Vulnerabilities","url":"https://owasp.org/www-project-top-ten/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document the exploitation process and lessons learned.","ar":"وثق خطوات الاستغلال والدروس المستفادة."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Secure Reporting & Responsible Disclosure","ar":"كتابة التقارير والإفصاح المسؤول"},"tasks":[{"id":"w35d5t1","type":"Red Team","duration":60,"description":{"en":"Learn how to write clear, actionable, and responsible vulnerability reports.","ar":"تعلم كيفية كتابة تقارير ثغرات واضحة وقابلة للتنفيذ ومسؤولة."}},{"id":"w35d5t2","type":"Practical","duration":60,"description":{"en":"Draft a sample vulnerability report for one of your exploits this week.","ar":"اكتب نموذج تقرير ثغرة لإحدى الاستغلالات التي نفذتها هذا الأسبوع."}}],"resources":[{"type":"guide","title":"How to Write a Good Vulnerability Report","url":"https://www.hackerone.com/knowledge-center/how-write-good-vulnerability-report"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the most important elements of a good report.","ar":"لخص أهم عناصر التقرير الجيد."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Web Exploitation Checklist","ar":"مراجعة وقائمة تدقيق استغلال الويب"},"tasks":[{"id":"w35d6t1","type":"Red Team","duration":60,"description":{"en":"Review all exploitation techniques and lessons learned this week.","ar":"راجع جميع تقنيات الاستغلال والدروس المستفادة لهذا الأسبوع."}},{"id":"w35d6t2","type":"Practical","duration":60,"description":{"en":"Build your own checklist for web exploitation and reporting.","ar":"أنشئ قائمة تدقيق خاصة بك لاستغلال الويب وكتابة التقارير."}}],"resources":[{"type":"guide","title":"Web Application Exploitation Checklist","url":"https://owasp.org/www-project-web-security-testing-guide/stable/4-Web_Application_Security_Testing_Cheat_Sheet.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List five items from your checklist.","ar":"عدد خمسة عناصر من قائمة التدقيق الخاصة بك."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":36,"phase":2,"title":{"en":"Bug Bounty Strategies & Reporting","ar":"استراتيجيات مكافآت الثغرات وإعداد التقارير"},"objective":{"en":"Learn how to approach bug bounty programs, develop effective hunting strategies, and write professional vulnerability reports.","ar":"تعلم كيفية التعامل مع برامج مكافآت الثغرات، تطوير استراتيجيات فعالة للصيد، وكتابة تقارير ثغرات احترافية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Introduction to Bug Bounty Programs","ar":"مقدمة في برامج مكافآت الثغرات"},"tasks":[{"id":"w36d1t1","type":"Red Team","duration":60,"description":{"en":"Study the basics of bug bounty programs, how they work, and the main platforms (HackerOne, Bugcrowd, Synack).","ar":"ادرس أساسيات برامج مكافآت الثغرات، كيفية عملها، وأشهر المنصات (HackerOne, Bugcrowd, Synack)."}},{"id":"w36d1t2","type":"Practical","duration":60,"description":{"en":"Register on a bug bounty platform and explore available public programs.","ar":"سجل في إحدى منصات مكافآت الثغرات واستكشف البرامج العامة المتاحة."}}],"resources":[{"type":"guide","title":"Getting Started with Bug Bounties","url":"https://www.hackerone.com/ethical-hacker/getting-started"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three differences between bug bounty and traditional pentesting.","ar":"عدد ثلاث فروقات بين مكافآت الثغرات واختبار الاختراق التقليدي."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Bug Bounty Recon & Scope Analysis","ar":"الاستطلاع وتحديد النطاق في مكافآت الثغرات"},"tasks":[{"id":"w36d2t1","type":"Red Team","duration":60,"description":{"en":"Learn about advanced reconnaissance techniques and how to analyze program scope and rules.","ar":"تعلم تقنيات الاستطلاع المتقدمة وكيفية تحليل نطاق البرنامج وقواعده."}},{"id":"w36d2t2","type":"Practical","duration":60,"description":{"en":"Choose a public program and map its scope, targets, and out-of-scope assets.","ar":"اختر برنامجًا عامًا وحدد نطاقه وأهدافه والأصول المستثناة."}}],"resources":[{"type":"guide","title":"Bug Bounty Recon Guide","url":"https://www.hacker101.com/lesson/recon"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize two unique recon techniques for bug bounty.","ar":"لخص تقنيتين مميزتين للاستطلاع في مكافآت الثغرات."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Bug Bounty Hunting Strategies","ar":"استراتيجيات صيد الثغرات"},"tasks":[{"id":"w36d3t1","type":"Red Team","duration":60,"description":{"en":"Study strategies for finding low-hanging fruit, chaining vulnerabilities, and maximizing impact.","ar":"ادرس استراتيجيات اكتشاف الثغرات السهلة، ربط الثغرات، وتعظيم الأثر."}},{"id":"w36d3t2","type":"Practical","duration":60,"description":{"en":"Apply one hunting strategy on a test target and document your findings.","ar":"طبق إحدى استراتيجيات الصيد على هدف تجريبي ووثق النتائج."}}],"resources":[{"type":"guide","title":"Bug Bounty Hunting Tips","url":"https://portswigger.net/research/bug-bounty-tips"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe the most effective strategy you tried and why.","ar":"صف أنجح استراتيجية جربتها ولماذا."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Writing Effective Vulnerability Reports","ar":"كتابة تقارير الثغرات الفعالة"},"tasks":[{"id":"w36d4t1","type":"Red Team","duration":60,"description":{"en":"Learn how to write clear, actionable, and professional vulnerability reports for bug bounty programs.","ar":"تعلم كيفية كتابة تقارير ثغرات واضحة وقابلة للتنفيذ واحترافية لبرامج مكافآت الثغرات."}},{"id":"w36d4t2","type":"Practical","duration":60,"description":{"en":"Draft a vulnerability report for a simulated finding, including impact and remediation.","ar":"اكتب تقرير ثغرة لمحاكاة اكتشاف، مع توضيح الأثر والتوصية بالمعالجة."}}],"resources":[{"type":"guide","title":"How to Write a Good Vulnerability Report","url":"https://www.hackerone.com/knowledge-center/how-write-good-vulnerability-report"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three key elements of a strong vulnerability report.","ar":"عدد ثلاث عناصر أساسية في تقرير الثغرة الفعال."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Responsible Disclosure & Communication","ar":"الإفصاح المسؤول والتواصل مع الفرق"},"tasks":[{"id":"w36d5t1","type":"Red Team","duration":60,"description":{"en":"Study responsible disclosure policies and best practices for communicating with security teams.","ar":"ادرس سياسات الإفصاح المسؤول وأفضل الممارسات للتواصل مع فرق الأمان."}},{"id":"w36d5t2","type":"Practical","duration":60,"description":{"en":"Simulate a disclosure process: draft an email to a security team about a critical finding.","ar":"حاكي عملية الإفصاح: اكتب بريدًا إلكترونيًا لفريق أمني حول ثغرة حرجة."}}],"resources":[{"type":"guide","title":"Responsible Disclosure Guidelines","url":"https://www.cisa.gov/news-events/news/vulnerability-disclosure-policy-template"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the main points of responsible disclosure.","ar":"لخص أهم نقاط الإفصاح المسؤول."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Bug Bounty Checklist","ar":"مراجعة وقائمة تدقيق مكافآت الثغرات"},"tasks":[{"id":"w36d6t1","type":"Red Team","duration":60,"description":{"en":"Review all bug bounty strategies, reporting, and disclosure concepts learned this week.","ar":"راجع جميع استراتيجيات مكافآت الثغرات، إعداد التقارير، ومفاهيم الإفصاح التي تعلمتها هذا الأسبوع."}},{"id":"w36d6t2","type":"Practical","duration":60,"description":{"en":"Build your own bug bounty hunting and reporting checklist.","ar":"أنشئ قائمة تدقيق خاصة بك لصيد الثغرات وكتابة التقارير."}}],"resources":[{"type":"guide","title":"Bug Bounty Checklist","url":"https://github.com/EdOverflow/bugbounty-cheatsheet"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List five items from your checklist.","ar":"عدد خمسة عناصر من قائمة التدقيق الخاصة بك."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":37,"phase":2,"title":{"en":"Advanced Red Team Techniques","ar":"تقنيات الفريق الأحمر المتقدمة"},"objective":{"en":"Develop advanced skills in red teaming, including evasion, persistence, lateral movement, and advanced attack simulation.","ar":"تطوير مهارات متقدمة في عمليات الفريق الأحمر، تشمل التخفي، الحفاظ على الوصول، التحرك الأفقي، ومحاكاة الهجمات المتقدمة."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Evasion Techniques & Bypassing Defenses","ar":"تقنيات التخفي وتجاوز الدفاعات"},"tasks":[{"id":"w37d1t1","type":"Red Team","duration":60,"description":{"en":"Study methods for evading antivirus, EDR, and network defenses (obfuscation, living-off-the-land, payload encoding).","ar":"ادرس طرق تجاوز برامج الحماية (Antivirus, EDR) والدفاعات الشبكية مثل التمويه، استغلال أدوات النظام، وترميز الحمولة."}},{"id":"w37d1t2","type":"Practical","duration":60,"description":{"en":"Test a basic evasion technique in a safe lab environment using a known tool (e.g., msfvenom, Veil).","ar":"جرب تقنية تخفي بسيطة في بيئة مختبرية آمنة باستخدام أداة مثل msfvenom أو Veil."}}],"resources":[{"type":"tool","title":"Veil Framework","url":"https://github.com/Veil-Framework/Veil"},{"type":"guide","title":"Red Team Evasion Techniques","url":"https://www.mandiant.com/resources/blog/red-team-evasion-techniques"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe which evasion technique worked and why.","ar":"صف أي تقنية تخفي نجحت ولماذا."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Persistence & Privilege Escalation","ar":"الحفاظ على الوصول وتصعيد الصلاحيات"},"tasks":[{"id":"w37d2t1","type":"Red Team","duration":60,"description":{"en":"Learn persistence techniques (scheduled tasks, registry, services) and privilege escalation methods (Windows/Linux).","ar":"تعلم تقنيات الحفاظ على الوصول (المهام المجدولة، الريجستري، الخدمات) وطرق تصعيد الصلاحيات على ويندوز ولينكس."}},{"id":"w37d2t2","type":"Practical","duration":60,"description":{"en":"Simulate a persistence mechanism and attempt privilege escalation in a test VM.","ar":"طبق آلية للحفاظ على الوصول وجرب تصعيد الصلاحيات في جهاز افتراضي تجريبي."}}],"resources":[{"type":"guide","title":"Privilege Escalation Cheatsheet","url":"https://book.hacktricks.xyz/windows-hardening/windows-local-privilege-escalation"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document the persistence method and escalation path you used.","ar":"وثق طريقة الحفاظ على الوصول ومسار تصعيد الصلاحيات الذي استخدمته."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Lateral Movement & Credential Access","ar":"التحرك الأفقي والوصول إلى بيانات الاعتماد"},"tasks":[{"id":"w37d3t1","type":"Red Team","duration":60,"description":{"en":"Study lateral movement techniques (Pass-the-Hash, Pass-the-Ticket, remote desktop, SMB relay) and credential dumping.","ar":"ادرس تقنيات التحرك الأفقي مثل Pass-the-Hash وPass-the-Ticket وSMB relay، وكذلك استخراج بيانات الاعتماد."}},{"id":"w37d3t2","type":"Practical","duration":60,"description":{"en":"Simulate lateral movement between two VMs and extract credentials using a tool like Mimikatz.","ar":"حاكي التحرك الأفقي بين جهازين افتراضيين واستخرج بيانات الاعتماد باستخدام أداة مثل Mimikatz."}}],"resources":[{"type":"tool","title":"Mimikatz","url":"https://github.com/gentilkiwi/mimikatz"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Explain how lateral movement was achieved in your lab.","ar":"اشرح كيف تم التحرك الأفقي في المختبر."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Command & Control (C2) and Exfiltration","ar":"قنوات التحكم والسيطرة واستخراج البيانات"},"tasks":[{"id":"w37d4t1","type":"Red Team","duration":60,"description":{"en":"Learn about C2 frameworks (Cobalt Strike, Empire), common channels (HTTP, DNS), and data exfiltration techniques.","ar":"تعرف على أطر التحكم والسيطرة مثل Cobalt Strike وEmpire وقنوات التحكم الشائعة (HTTP, DNS) وتقنيات استخراج البيانات."}},{"id":"w37d4t2","type":"Practical","duration":60,"description":{"en":"Set up a simple C2 channel in a lab and simulate data exfiltration.","ar":"أنشئ قناة تحكم بسيطة في بيئة مختبرية وحاكي استخراج بيانات."}}],"resources":[{"type":"tool","title":"Cobalt Strike","url":"https://www.cobaltstrike.com/"},{"type":"guide","title":"Data Exfiltration Techniques","url":"https://attack.mitre.org/techniques/T1041/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe your C2 setup and exfiltration method.","ar":"صف إعداد قناة التحكم وطريقة استخراج البيانات التي استخدمتها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Red Team Attack Simulation (Full Chain)","ar":"محاكاة هجوم الفريق الأحمر (سلسلة كاملة)"},"tasks":[{"id":"w37d5t1","type":"Red Team","duration":120,"description":{"en":"Conduct a full-chain attack simulation in a lab: initial access, persistence, lateral movement, and exfiltration.","ar":"نفذ محاكاة هجوم كاملة في المختبر: وصول أولي، الحفاظ على الوصول، التحرك الأفقي، واستخراج البيانات."}}],"resources":[{"type":"lab","title":"TryHackMe Red Team Labs","url":"https://tryhackme.com/module/red-team-fundamentals"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Reflect on which phase was most challenging and why.","ar":"اكتب عن أصعب مرحلة في السلسلة ولماذا."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Advanced Red Team Checklist","ar":"مراجعة وقائمة تدقيق الفريق الأحمر المتقدم"},"tasks":[{"id":"w37d6t1","type":"Red Team","duration":60,"description":{"en":"Review all advanced red team techniques and lessons learned this week.","ar":"راجع جميع تقنيات الفريق الأحمر المتقدمة والدروس المستفادة لهذا الأسبوع."}},{"id":"w37d6t2","type":"Practical","duration":60,"description":{"en":"Build your own advanced red team engagement checklist.","ar":"أنشئ قائمة تدقيق خاصة بك لعمليات الفريق الأحمر المتقدمة."}}],"resources":[{"type":"guide","title":"Advanced Red Team Checklist","url":"https://github.com/0x4D31/red-team-engagement-checklist"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List five advanced items from your checklist.","ar":"عدد خمسة عناصر متقدمة من قائمة التدقيق الخاصة بك."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":38,"phase":3,"title":{"en":"Purple Teaming: Attack Simulation & Threat Emulation","ar":"محاكاة الهجوم وبناء التهديدات (الفريق الأرجواني)"},"objective":{"en":"Understand purple teaming concepts, conduct collaborative attack simulations, and practice threat emulation for improved detection and response.","ar":"فهم مفاهيم الفريق الأرجواني، تنفيذ محاكاة هجمات تعاونية، وتطبيق تقنيات بناء التهديدات لتحسين الاكتشاف والاستجابة."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Purple Teaming Fundamentals","ar":"أساسيات الفريق الأرجواني"},"tasks":[{"id":"w38d1t1","type":"Purple Team","duration":60,"description":{"en":"Study the goals, roles, and benefits of purple teaming. Understand how red and blue teams collaborate.","ar":"ادرس أهداف وأدوار وفوائد الفريق الأرجواني. افهم كيف يتعاون الفريق الأحمر والأزرق."}},{"id":"w38d1t2","type":"Practical","duration":60,"description":{"en":"Map out a simple purple team exercise scenario (attack + detection + response).","ar":"صمم سيناريو مبسط لتمرين فريق أرجواني (هجوم + اكتشاف + استجابة)."}}],"resources":[{"type":"guide","title":"What is Purple Teaming?","url":"https://www.sans.org/blog/what-is-purple-teaming/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the main difference between a purple team and a red/blue team.","ar":"لخص الفرق الرئيسي بين الفريق الأرجواني والفريقين الأحمر والأزرق."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Threat Emulation & MITRE ATT&CK","ar":"محاكاة التهديدات ومصفوفة MITRE ATT&CK"},"tasks":[{"id":"w38d2t1","type":"Purple Team","duration":60,"description":{"en":"Learn about threat emulation, using MITRE ATT&CK to model adversary behavior.","ar":"تعرف على محاكاة التهديدات واستخدام مصفوفة MITRE ATT&CK لنمذجة سلوك الخصوم."}},{"id":"w38d2t2","type":"Practical","duration":60,"description":{"en":"Select a real-world threat group from MITRE ATT&CK and map their techniques.","ar":"اختر مجموعة تهديد حقيقية من مصفوفة MITRE ATT&CK وحدد تقنياتها."}}],"resources":[{"type":"guide","title":"MITRE ATT&CK Framework","url":"https://attack.mitre.org/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three techniques used by your chosen threat group.","ar":"عدد ثلاث تقنيات تستخدمها مجموعة التهديد التي اخترتها."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Detection Engineering","ar":"هندسة الاكتشاف"},"tasks":[{"id":"w38d3t1","type":"Blue Team","duration":60,"description":{"en":"Study detection engineering: writing detection rules (SIEM, EDR), tuning alerts, and reducing false positives.","ar":"ادرس هندسة الاكتشاف: كتابة قواعد الاكتشاف (SIEM, EDR)، وضبط التنبيهات وتقليل الإيجابيات الكاذبة."}},{"id":"w38d3t2","type":"Practical","duration":60,"description":{"en":"Write a simple detection rule for one ATT&CK technique in a SIEM or log tool.","ar":"اكتب قاعدة اكتشاف بسيطة لإحدى تقنيات ATT&CK في أداة SIEM أو سجل أحداث."}}],"resources":[{"type":"guide","title":"Detection Engineering Basics","url":"https://detectionengineering.net/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe the logic of your detection rule.","ar":"اشرح منطق قاعدة الاكتشاف التي كتبتها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Purple Team Lab: Attack Simulation & Detection","ar":"مختبر الفريق الأرجواني: محاكاة الهجوم والاكتشاف"},"tasks":[{"id":"w38d4t1","type":"Purple Team","duration":120,"description":{"en":"Conduct a mini purple team exercise: simulate an attack (red), detect it (blue), and document the process.","ar":"نفذ تمرين فريق أرجواني مصغر: حاكي هجوم (أحمر)، واكتشفه (أزرق)، ووثق العملية."}}],"resources":[{"type":"lab","title":"Atomic Red Team (attack simulation)","url":"https://github.com/redcanaryco/atomic-red-team"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Reflect on what worked well and what could be improved in your exercise.","ar":"اكتب عن ما نجح وما يمكن تحسينه في التمرين."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Reporting & Lessons Learned","ar":"كتابة التقرير والدروس المستفادة"},"tasks":[{"id":"w38d5t1","type":"Purple Team","duration":60,"description":{"en":"Learn how to document purple team exercises, communicate findings, and recommend improvements.","ar":"تعلم كيفية توثيق تمارين الفريق الأرجواني، وتوصيل النتائج، واقتراح التحسينات."}},{"id":"w38d5t2","type":"Practical","duration":60,"description":{"en":"Draft a sample purple team report summarizing your attack simulation, detection, and recommendations.","ar":"اكتب نموذج تقرير فريق أرجواني يلخص محاكاة الهجوم، الاكتشاف، والتوصيات."}}],"resources":[{"type":"guide","title":"Purple Team Exercise Reporting","url":"https://www.crowdstrike.com/cybersecurity-101/purple-teaming/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three key lessons learned from your purple team exercise.","ar":"عدد ثلاث دروس مستفادة من تمرين الفريق الأرجواني."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & Purple Teaming Checklist","ar":"مراجعة وقائمة تدقيق الفريق الأرجواني"},"tasks":[{"id":"w38d6t1","type":"Purple Team","duration":60,"description":{"en":"Review all purple teaming concepts, tools, and lessons learned this week.","ar":"راجع جميع مفاهيم وأدوات ودروس الفريق الأرجواني التي تعلمتها هذا الأسبوع."}},{"id":"w38d6t2","type":"Practical","duration":60,"description":{"en":"Build your own purple team exercise checklist.","ar":"أنشئ قائمة تدقيق خاصة بك لتمارين الفريق الأرجواني."}}],"resources":[{"type":"guide","title":"Purple Teaming Checklist","url":"https://www.sans.org/white-papers/40195/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List five items from your checklist.","ar":"عدد خمسة عناصر من قائمة التدقيق الخاصة بك."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":39,"phase":3,"title":{"en":"ICS & SCADA Security","ar":"أمن أنظمة التحكم الصناعي (ICS & SCADA)"},"objective":{"en":"Understand the fundamentals of securing Industrial Control Systems (ICS) and SCADA environments, common threats, and best practices for protecting critical infrastructure.","ar":"فهم أساسيات تأمين أنظمة التحكم الصناعي وبيئات SCADA، التهديدات الشائعة، وأفضل الممارسات لحماية البنية التحتية الحيوية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"ICS/SCADA Fundamentals","ar":"مفاهيم أساسية في ICS و SCADA"},"tasks":[{"id":"w39d1t1","type":"Blue Team","duration":60,"description":{"en":"Study the architecture and components of ICS/SCADA systems, including PLCs, RTUs, HMIs, and common protocols (Modbus, DNP3, OPC).","ar":"ادرس بنية ومكونات أنظمة ICS/SCADA، مثل PLCs وRTUs وHMIs والبروتوكولات الشائعة (Modbus, DNP3, OPC)."}},{"id":"w39d1t2","type":"Practical","duration":60,"description":{"en":"Draw a simple ICS/SCADA network diagram and label key components.","ar":"ارسم مخطط شبكة بسيط لـ ICS/SCADA وحدد المكونات الرئيسية."}}],"resources":[{"type":"guide","title":"ICS/SCADA Overview","url":"https://www.cisa.gov/resources-tools/resources/ics-training-resources"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three differences between IT and OT environments.","ar":"عدد ثلاث فروقات بين بيئات تكنولوجيا المعلومات (IT) والتشغيل (OT)."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"ICS/SCADA Threats & Incidents","ar":"تهديدات وحوادث ICS/SCADA"},"tasks":[{"id":"w39d2t1","type":"Blue Team","duration":60,"description":{"en":"Learn about major ICS/SCADA threats (Stuxnet, ransomware, insider threats, remote access).","ar":"تعرف على أبرز تهديدات ICS/SCADA مثل Stuxnet، البرمجيات الخبيثة، التهديدات الداخلية، والوصول عن بعد."}},{"id":"w39d2t2","type":"Practical","duration":60,"description":{"en":"Analyze a real-world ICS/SCADA incident and summarize the root cause.","ar":"حلل حادثة واقعية في ICS/SCADA ولخص السبب الجذري."}}],"resources":[{"type":"article","title":"Top ICS/SCADA Security Threats","url":"https://www.dragos.com/resource/ics-cybersecurity-threats/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe one ICS/SCADA attack and its impact.","ar":"صف هجومًا واحدًا على ICS/SCADA وتأثيره."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"ICS/SCADA Security Controls & Best Practices","ar":"ضوابط الأمان وأفضل الممارسات في ICS/SCADA"},"tasks":[{"id":"w39d3t1","type":"Blue Team","duration":60,"description":{"en":"Study key security controls: network segmentation, access control, patch management, and monitoring.","ar":"ادرس ضوابط الأمان الأساسية: تقسيم الشبكة، التحكم في الوصول، إدارة التحديثات، والمراقبة."}},{"id":"w39d3t2","type":"Practical","duration":60,"description":{"en":"Draft a security policy for a small ICS/SCADA environment.","ar":"اكتب مسودة سياسة أمان لبيئة ICS/SCADA صغيرة."}}],"resources":[{"type":"guide","title":"ICS Security Best Practices","url":"https://www.sans.org/white-papers/ics-security-best-practices/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three unique security challenges in ICS/SCADA.","ar":"عدد ثلاث تحديات أمنية خاصة بأنظمة ICS/SCADA."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"ICS/SCADA Security Tools & Monitoring","ar":"أدوات المراقبة وأمن ICS/SCADA"},"tasks":[{"id":"w39d4t1","type":"Blue Team","duration":60,"description":{"en":"Explore ICS/SCADA security tools (Snort, Security Onion, Dragos, Nozomi) and monitoring strategies.","ar":"استكشف أدوات أمن ICS/SCADA مثل Snort وSecurity Onion وDragos وNozomi واستراتيجيات المراقبة."}},{"id":"w39d4t2","type":"Practical","duration":60,"description":{"en":"Simulate network monitoring for ICS/SCADA traffic in a lab environment.","ar":"حاكي مراقبة الشبكة لحركة مرور ICS/SCADA في بيئة مختبرية."}}],"resources":[{"type":"guide","title":"ICS Security Monitoring Guide","url":"https://www.cisa.gov/resources-tools/resources/ics-monitoring"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize two monitoring challenges in ICS/SCADA.","ar":"لخص تحديين في مراقبة أنظمة ICS/SCADA."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Incident Response in ICS/SCADA","ar":"الاستجابة للحوادث في ICS/SCADA"},"tasks":[{"id":"w39d5t1","type":"Blue Team","duration":60,"description":{"en":"Study incident response planning and unique considerations for ICS/SCADA environments.","ar":"ادرس تخطيط الاستجابة للحوادث والاعتبارات الخاصة ببيئات ICS/SCADA."}},{"id":"w39d5t2","type":"Practical","duration":60,"description":{"en":"Draft an incident response playbook for an ICS/SCADA cyber incident.","ar":"اكتب دليل استجابة لحادث سيبراني في بيئة ICS/SCADA."}}],"resources":[{"type":"guide","title":"ICS Incident Response Guide","url":"https://www.sans.org/white-papers/ics-incident-response/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three steps unique to ICS/SCADA incident response.","ar":"عدد ثلاث خطوات فريدة في استجابة الحوادث في ICS/SCADA."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Review & ICS/SCADA Security Checklist","ar":"مراجعة وقائمة تدقيق أمن ICS/SCADA"},"tasks":[{"id":"w39d6t1","type":"Blue Team","duration":60,"description":{"en":"Review all ICS/SCADA security concepts, threats, and best practices learned this week.","ar":"راجع جميع مفاهيم وتهديدات وأفضل ممارسات أمن ICS/SCADA التي تعلمتها هذا الأسبوع."}},{"id":"w39d6t2","type":"Practical","duration":60,"description":{"en":"Build your own ICS/SCADA security checklist.","ar":"أنشئ قائمة تدقيق خاصة بك لأمن ICS/SCADA."}}],"resources":[{"type":"guide","title":"ICS Security Checklist","url":"https://ics-cert.us-cert.gov/sites/default/files/recommended_practices/NCCIC_ICS-CERT_Recommended_Practices_Security_Checklist_S508C.pdf"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List five items from your checklist.","ar":"عدد خمسة عناصر من قائمة التدقيق الخاصة بك."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":40,"phase":3,"title":{"en":"Practical Project 1 – Building a SIEM Use Case","ar":"مشروع عملي 1 - بناء حالة استخدام SIEM"},"objective":{"en":"Apply your knowledge by designing and implementing a real-world SIEM use case, including log collection, detection logic, and alerting.","ar":"تطبيق المعرفة عبر تصميم وتنفيذ حالة استخدام حقيقية في SIEM، تشمل جمع السجلات، منطق الاكتشاف، والتنبيهات."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"SIEM Use Case Planning","ar":"تخطيط حالة استخدام SIEM"},"tasks":[{"id":"w40d1t1","type":"Project","duration":60,"description":{"en":"Define the objective of your SIEM use case (e.g., detect brute force attacks, suspicious logins, or malware activity).","ar":"حدد هدف حالة الاستخدام في SIEM (مثل اكتشاف هجمات القوة الغاشمة، تسجيلات الدخول المشبوهة، أو نشاط البرمجيات الخبيثة)."}},{"id":"w40d1t2","type":"Project","duration":60,"description":{"en":"Design the data sources and log types needed for your use case.","ar":"صمّم مصادر البيانات وأنواع السجلات المطلوبة لحالة الاستخدام."}}],"resources":[{"type":"guide","title":"How to Build SIEM Use Cases","url":"https://www.splunk.com/en_us/blog/security/how-to-build-siem-use-cases.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your use case goal and required data sources.","ar":"لخص هدف حالة الاستخدام ومصادر البيانات المطلوبة."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Log Collection & Normalization","ar":"جمع السجلات وتوحيدها"},"tasks":[{"id":"w40d2t1","type":"Project","duration":60,"description":{"en":"Set up log collection from systems (e.g., Windows Event Logs, Linux syslog, firewall logs) into your SIEM platform.","ar":"قم بإعداد جمع السجلات من الأنظمة (مثل سجلات ويندوز، syslog في لينكس، سجلات الجدار الناري) إلى منصة SIEM."}},{"id":"w40d2t2","type":"Project","duration":60,"description":{"en":"Normalize and parse the collected logs for consistent analysis.","ar":"وحّد وحلّل السجلات المجمعة لتسهيل التحليل."}}],"resources":[{"type":"guide","title":"SIEM Log Collection Best Practices","url":"https://www.elastic.co/guide/en/security/current/log-collection.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the log sources you configured and any normalization steps.","ar":"عدد مصادر السجلات التي أعددتها وخطوات التوحيد التي قمت بها."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Detection Logic & Rule Creation","ar":"منطق الاكتشاف وإنشاء القواعد"},"tasks":[{"id":"w40d3t1","type":"Project","duration":60,"description":{"en":"Develop detection rules or correlation logic for your use case (e.g., failed login attempts, unusual traffic patterns).","ar":"طوّر قواعد اكتشاف أو منطق ربط لحالة الاستخدام (مثل محاولات الدخول الفاشلة أو أنماط الحركة غير المعتادة)."}},{"id":"w40d3t2","type":"Project","duration":60,"description":{"en":"Test your detection rules with simulated or real events.","ar":"اختبر قواعد الاكتشاف باستخدام أحداث حقيقية أو محاكاة."}}],"resources":[{"type":"guide","title":"Writing SIEM Detection Rules","url":"https://www.splunk.com/en_us/blog/security/writing-effective-detection-rules.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe the logic of one detection rule and how you tested it.","ar":"اشرح منطق قاعدة اكتشاف واحدة وكيف اختبرتها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Alerting & Response Workflow","ar":"إعداد التنبيهات وسير الاستجابة"},"tasks":[{"id":"w40d4t1","type":"Project","duration":60,"description":{"en":"Configure alerts for your detection rules and define an incident response workflow.","ar":"اضبط التنبيهات لقواعد الاكتشاف وحدد سير عمل الاستجابة للحوادث."}},{"id":"w40d4t2","type":"Project","duration":60,"description":{"en":"Simulate an alert and document the response steps.","ar":"حاكي تنبيهًا ووثق خطوات الاستجابة."}}],"resources":[{"type":"guide","title":"SIEM Alerting and Incident Response","url":"https://www.crowdstrike.com/cybersecurity-101/siem/siem-alerts/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe your alert workflow and response steps.","ar":"اشرح سير عمل التنبيهات وخطوات الاستجابة."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Documentation & Reporting","ar":"التوثيق وكتابة التقرير"},"tasks":[{"id":"w40d5t1","type":"Project","duration":120,"description":{"en":"Document your SIEM use case: objective, data sources, detection logic, alerts, and lessons learned. Prepare a professional report.","ar":"وثق حالة استخدام SIEM: الهدف، مصادر البيانات، منطق الاكتشاف، التنبيهات، والدروس المستفادة. جهز تقريرًا احترافيًا."}}],"resources":[{"type":"guide","title":"How to Document SIEM Use Cases","url":"https://www.splunk.com/en_us/blog/security/how-to-document-use-cases.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the key findings and improvements from your project.","ar":"لخص أهم النتائج والتحسينات من مشروعك."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Peer Review & Presentation","ar":"مراجعة الأقران والعرض"},"tasks":[{"id":"w40d6t1","type":"Project","duration":60,"description":{"en":"Present your SIEM use case and findings to peers or mentors for feedback.","ar":"اعرض حالة استخدام SIEM ونتائجك على الزملاء أو المشرفين للحصول على تغذية راجعة."}},{"id":"w40d6t2","type":"Project","duration":60,"description":{"en":"Review another student's project and provide constructive feedback.","ar":"راجع مشروع زميل وقدم ملاحظات بناءة."}}],"resources":[{"type":"guide","title":"How to Present Cybersecurity Projects","url":"https://www.csoonline.com/article/3563623/how-to-present-cybersecurity-findings-to-the-board.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Reflect on the feedback you received and how you will improve.","ar":"اكتب عن التغذية الراجعة التي حصلت عليها وكيف ستطور مشروعك."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":41,"phase":3,"title":{"en":"Practical Project 2 – Developing a Security Automation Tool","ar":"مشروع عملي 2 - تطوير أداة أتمتة أمنية"},"objective":{"en":"Design and implement a Python-based security automation tool that solves a real-world security problem (e.g., log analysis, vulnerability scanning, alerting, or reporting).","ar":"تصميم وتنفيذ أداة أتمتة أمنية باستخدام بايثون لحل مشكلة أمنية واقعية (مثل تحليل السجلات، فحص الثغرات، التنبيه، أو إعداد التقارير)."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Project Planning & Tool Selection","ar":"تخطيط المشروع واختيار الأداة"},"tasks":[{"id":"w41d1t1","type":"Project","duration":60,"description":{"en":"Define the security problem your automation tool will address. Research similar tools and decide on your project's scope.","ar":"حدد المشكلة الأمنية التي ستعالجها أداة الأتمتة. ابحث عن أدوات مشابهة وحدد نطاق مشروعك."}},{"id":"w41d1t2","type":"Project","duration":60,"description":{"en":"Sketch the tool’s workflow and main features. Choose the programming language and required libraries (preferably Python).","ar":"ارسم سير عمل الأداة والميزات الرئيسية. اختر لغة البرمجة والمكتبات المطلوبة (يفضل بايثون)."}}],"resources":[{"type":"guide","title":"Security Automation Project Ideas","url":"https://github.com/OWASP/OWASP-Testing-Guide-v5/wiki/Security-Automation-Tools"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the problem your tool will solve and why it matters.","ar":"لخص المشكلة التي ستحلها أداتك ولماذا هي مهمة."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Environment Setup & Prototyping","ar":"إعداد البيئة وبناء النموذج الأولي"},"tasks":[{"id":"w41d2t1","type":"Project","duration":60,"description":{"en":"Set up your Python development environment. Install necessary libraries (e.g., requests, pandas, logging, argparse).","ar":"جهز بيئة تطوير بايثون. ثبت المكتبات المطلوبة (مثل requests، pandas، logging، argparse)."}},{"id":"w41d2t2","type":"Project","duration":60,"description":{"en":"Build a basic prototype that demonstrates the core functionality (e.g., parsing a log file, making an API request).","ar":"ابنِ نموذجًا أوليًا بسيطًا يوضح الوظيفة الأساسية (مثل تحليل ملف سجلات أو تنفيذ طلب API)."}}],"resources":[{"type":"guide","title":"Python Security Automation Examples","url":"https://realpython.com/python-automation-scripts/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe one challenge you faced in prototyping.","ar":"صف تحديًا واجهته أثناء بناء النموذج الأولي."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Core Development & Feature Implementation","ar":"تطوير الوظائف الأساسية"},"tasks":[{"id":"w41d3t1","type":"Project","duration":120,"description":{"en":"Develop the main features of your tool (e.g., log parsing, vulnerability scanning, alert generation, or report creation).","ar":"طور الوظائف الأساسية للأداة (مثل تحليل السجلات، فحص الثغرات، توليد التنبيهات، أو إعداد التقارير)."}}],"resources":[{"type":"guide","title":"Building Python CLI Tools","url":"https://realpython.com/python-command-line-arguments/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the main features you implemented and their purpose.","ar":"عدد الميزات الأساسية التي نفذتها والغرض منها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Testing, Debugging & Documentation","ar":"الاختبار، تصحيح الأخطاء، والتوثيق"},"tasks":[{"id":"w41d4t1","type":"Project","duration":60,"description":{"en":"Test your tool with different data sets or scenarios. Debug any issues and improve error handling.","ar":"اختبر أداتك على بيانات أو سيناريوهات مختلفة. صحح الأخطاء وحسن معالجة الاستثناءات."}},{"id":"w41d4t2","type":"Project","duration":60,"description":{"en":"Write clear documentation (README) explaining how to use and configure your tool.","ar":"اكتب توثيقًا واضحًا (README) يشرح كيفية استخدام الأداة وإعدادها."}}],"resources":[{"type":"guide","title":"Writing Good README Files","url":"https://www.makeareadme.com/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize how you tested your tool and one improvement you made.","ar":"لخص كيف اختبرت أداتك وتحسينًا واحدًا أضفته."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Peer Review & Enhancement","ar":"مراجعة الأقران والتحسين"},"tasks":[{"id":"w41d5t1","type":"Project","duration":60,"description":{"en":"Share your code with a peer or mentor for review and feedback.","ar":"شارك الكود مع زميل أو مشرف للحصول على مراجعة وتغذية راجعة."}},{"id":"w41d5t2","type":"Project","duration":60,"description":{"en":"Incorporate feedback and add at least one enhancement or extra feature.","ar":"طبق الملاحظات وأضف تحسينًا أو ميزة إضافية واحدة على الأقل."}}],"resources":[{"type":"guide","title":"How to Give and Receive Code Reviews","url":"https://realpython.com/python-code-reviews/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe the feedback you received and how you applied it.","ar":"صف الملاحظات التي تلقيتها وكيف طبقتها."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Project Presentation & Reflection","ar":"عرض المشروع والتأمل"},"tasks":[{"id":"w41d6t1","type":"Project","duration":60,"description":{"en":"Present your tool, its features, and use cases to your group or mentor.","ar":"اعرض أداتك وميزاتها وحالات الاستخدام أمام المجموعة أو المشرف."}},{"id":"w41d6t2","type":"Project","duration":60,"description":{"en":"Write a reflection on what you learned and how this project improved your automation skills.","ar":"اكتب تأملًا حول ما تعلمته وكيف طورت هذه التجربة مهاراتك في الأتمتة."}}],"resources":[{"type":"guide","title":"How to Present a Technical Project","url":"https://www.freecodecamp.org/news/how-to-give-a-great-technical-presentation/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your main takeaways and next steps for automation learning.","ar":"لخص أهم ما استفدته وخطواتك القادمة في تعلم الأتمتة."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":42,"phase":3,"title":{"en":"Final Project – Week 1 (Planning & Preparation)","ar":"المشروع النهائي – الأسبوع 1 (التخطيط والإعداد)"},"objective":{"en":"Begin your capstone project by defining its scope, objectives, requirements, and preparing your technical and documentation environment.","ar":"بدء مشروع التخرج عبر تحديد النطاق والأهداف والمتطلبات، وتجهيز البيئة التقنية والتوثيقية."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Project Idea Selection & Scope Definition","ar":"اختيار فكرة المشروع وتحديد النطاق"},"tasks":[{"id":"w42d1t1","type":"Project","duration":60,"description":{"en":"Brainstorm and select your final project topic (e.g., building a mini SOC, advanced malware analysis, automated threat hunting, etc.).","ar":"اعصف ذهنياً واختر فكرة مشروعك النهائي (مثل بناء مركز عمليات أمن مصغر، تحليل برمجيات خبيثة متقدم، صيد تهديدات آلي...)."}},{"id":"w42d1t2","type":"Project","duration":60,"description":{"en":"Define the project scope, main objectives, and expected outcomes.","ar":"حدد نطاق المشروع، الأهداف الرئيسية، والمخرجات المتوقعة."}}],"resources":[{"type":"guide","title":"How to Choose a Cybersecurity Capstone Project","url":"https://www.csoonline.com/article/3532536/cybersecurity-capstone-project-ideas.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your project idea and why you chose it.","ar":"لخص فكرة مشروعك ولماذا اخترتها."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Requirements Gathering & Research","ar":"جمع المتطلبات والبحث"},"tasks":[{"id":"w42d2t1","type":"Project","duration":60,"description":{"en":"Identify technical, functional, and documentation requirements for your project.","ar":"حدد المتطلبات التقنية والوظيفية والتوثيقية لمشروعك."}},{"id":"w42d2t2","type":"Project","duration":60,"description":{"en":"Research similar projects, tools, or frameworks to inform your design.","ar":"ابحث عن مشاريع أو أدوات أو أطر عمل مشابهة لدعم تصميمك."}}],"resources":[{"type":"guide","title":"Cybersecurity Project Documentation Template","url":"https://github.com/OWASP/owasp-summit-2017/blob/master/Documentation/Cybersecurity-Project-Template.md"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List three key requirements for your project.","ar":"عدد ثلاث متطلبات أساسية لمشروعك."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Project Planning & Timeline","ar":"تخطيط المشروع والجدول الزمني"},"tasks":[{"id":"w42d3t1","type":"Project","duration":60,"description":{"en":"Break down your project into phases and tasks. Create a timeline or Gantt chart.","ar":"قسّم مشروعك إلى مراحل ومهام. أنشئ جدولاً زمنياً أو مخطط Gantt."}},{"id":"w42d3t2","type":"Project","duration":60,"description":{"en":"Assign milestones and deliverables for each phase.","ar":"حدد نقاط الإنجاز والمخرجات لكل مرحلة."}}],"resources":[{"type":"tool","title":"Gantt Chart Maker","url":"https://www.smartsheet.com/free-gantt-chart-templates"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe your project phases and key milestones.","ar":"اشرح مراحل مشروعك وأهم نقاط الإنجاز."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Environment Preparation & Tool Setup","ar":"تجهيز البيئة وتثبيت الأدوات"},"tasks":[{"id":"w42d4t1","type":"Project","duration":120,"description":{"en":"Set up your technical environment (VMs, cloud, lab, or code repository). Install and configure necessary tools and platforms.","ar":"جهز البيئة التقنية (أجهزة افتراضية، سحابة، مختبر، أو مستودع كود). ثبت الأدوات والمنصات المطلوبة."}}],"resources":[{"type":"guide","title":"Setting Up a Cybersecurity Lab","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the main tools and platforms you prepared.","ar":"عدد الأدوات والمنصات الرئيسية التي أعددتها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Documentation Structure & Kickoff","ar":"هيكلة التوثيق وبداية التنفيذ"},"tasks":[{"id":"w42d5t1","type":"Project","duration":60,"description":{"en":"Create the main documentation structure (README, requirements, design, progress logs).","ar":"أنشئ هيكل التوثيق الرئيسي (README، المتطلبات، التصميم، سجل التقدم)."}},{"id":"w42d5t2","type":"Project","duration":60,"description":{"en":"Start the initial implementation or proof of concept for your project.","ar":"ابدأ التنفيذ الأولي أو إثبات المفهوم لمشروعك."}}],"resources":[{"type":"guide","title":"How to Document a Security Project","url":"https://opensource.com/article/19/7/documentation"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize your documentation plan and first implementation steps.","ar":"لخص خطة التوثيق وخطوات التنفيذ الأولية."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Peer Feedback & Adjustments","ar":"مراجعة الأقران وتعديل الخطة"},"tasks":[{"id":"w42d6t1","type":"Project","duration":60,"description":{"en":"Share your project plan and initial progress with a peer or mentor for feedback.","ar":"شارك خطة مشروعك وتقدمك الأولي مع زميل أو مشرف للحصول على ملاحظات."}},{"id":"w42d6t2","type":"Project","duration":60,"description":{"en":"Incorporate feedback and finalize your plan for the next phase.","ar":"طبق الملاحظات وعدّل خطتك استعدادًا للمرحلة القادمة."}}],"resources":[{"type":"guide","title":"How to Get Useful Project Feedback","url":"https://www.atlassian.com/team-playbook/plays/feedback"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe the feedback you received and any changes you made.","ar":"صف الملاحظات التي تلقيتها وأي تعديلات قمت بها."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":43,"phase":3,"title":{"en":"Final Project – Week 2 (Implementation)","ar":"المشروع النهائي – الأسبوع 2 (التنفيذ)"},"objective":{"en":"Begin the technical implementation of your capstone project, focusing on core development, iterative testing, and documenting progress.","ar":"بدء التنفيذ التقني لمشروع التخرج، مع التركيز على تطوير الوظائف الأساسية، الاختبار المرحلي، وتوثيق التقدم."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Core Development – Part 1","ar":"تطوير الوظائف الأساسية – الجزء الأول"},"tasks":[{"id":"w43d1t1","type":"Project","duration":120,"description":{"en":"Start implementing the main modules or features of your project as planned. Focus on building the core logic.","ar":"ابدأ بتنفيذ الوحدات أو الميزات الرئيسية للمشروع كما خططت، وركز على بناء المنطق الأساسي."}}],"resources":[{"type":"guide","title":"Project Implementation Best Practices","url":"https://opensource.com/article/18/6/manage-software-projects"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe what you implemented today and any obstacles you faced.","ar":"صف ما أنجزته اليوم وأي عقبات واجهتها."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Core Development – Part 2","ar":"تطوير الوظائف الأساسية – الجزء الثاني"},"tasks":[{"id":"w43d2t1","type":"Project","duration":120,"description":{"en":"Continue building out the core features. Integrate modules and ensure components work together.","ar":"واصل تطوير الميزات الأساسية. ادمج الوحدات وتأكد من تكامل المكونات."}}],"resources":[{"type":"guide","title":"How to Structure a Security Project","url":"https://www.freecodecamp.org/news/how-to-structure-a-software-project/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize integration steps and any issues resolved.","ar":"لخص خطوات الدمج وأي مشاكل تم حلها."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Testing & Debugging","ar":"الاختبار وتصحيح الأخطاء"},"tasks":[{"id":"w43d3t1","type":"Project","duration":120,"description":{"en":"Test your project’s functionality with different scenarios and datasets. Debug and refine your code.","ar":"اختبر وظائف مشروعك على سيناريوهات وبيانات مختلفة. صحح الأخطاء وحسن جودة الكود."}}],"resources":[{"type":"guide","title":"Testing and Debugging Security Projects","url":"https://realpython.com/python-testing/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document a bug you found and how you fixed it.","ar":"وثق خطأ برمجيًا اكتشفته وكيف أصلحته."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Documentation & User Guide","ar":"التوثيق ودليل الاستخدام"},"tasks":[{"id":"w43d4t1","type":"Project","duration":120,"description":{"en":"Write or update the user documentation, including installation, configuration, and usage instructions.","ar":"اكتب أو حدث توثيق المستخدم، بما يشمل تعليمات التثبيت، الإعداد، والاستخدام."}}],"resources":[{"type":"guide","title":"How to Write a Good User Guide","url":"https://www.makeuseof.com/tag/write-good-user-manual/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the main sections of your user guide.","ar":"عدد الأقسام الرئيسية في دليل الاستخدام الخاص بك."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Peer Review & Feedback","ar":"مراجعة الأقران والتغذية الراجعة"},"tasks":[{"id":"w43d5t1","type":"Project","duration":120,"description":{"en":"Share your progress with a peer or mentor. Gather feedback on both code and documentation.","ar":"شارك تقدمك مع زميل أو مشرف. احصل على ملاحظات حول الكود والتوثيق."}}],"resources":[{"type":"guide","title":"How to Get Useful Project Feedback","url":"https://www.atlassian.com/team-playbook/plays/feedback"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the most valuable feedback you received.","ar":"لخص أهم ملاحظة أو تغذية راجعة حصلت عليها."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Enhancements & Polish","ar":"التحسينات واللمسات النهائية"},"tasks":[{"id":"w43d6t1","type":"Project","duration":120,"description":{"en":"Incorporate feedback, add enhancements, fix any remaining issues, and polish your project for delivery.","ar":"طبق الملاحظات، أضف التحسينات، أصلح المشاكل المتبقية، وضع اللمسات النهائية على مشروعك استعدادًا للتسليم."}}],"resources":[{"type":"guide","title":"How to Finalize a Software Project","url":"https://www.coursera.org/articles/software-development-project"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe the main enhancement or fix you made today.","ar":"صف أهم تحسين أو إصلاح قمت به اليوم."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Preparation","ar":"راحة واستعداد"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":44,"phase":3,"title":{"en":"Final Project – Week 3 (Testing & Delivery)","ar":"المشروع النهائي – الأسبوع 3 (الاختبار والتسليم)"},"objective":{"en":"Complete the capstone project by conducting thorough testing, finalizing documentation, and preparing for project delivery and presentation.","ar":"إكمال مشروع التخرج عبر إجراء اختبارات شاملة، إنهاء التوثيق، والاستعداد للتسليم والعرض النهائي."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Comprehensive Testing & Validation","ar":"الاختبار الشامل والتحقق"},"tasks":[{"id":"w44d1t1","type":"Project","duration":120,"description":{"en":"Perform end-to-end testing of all project features and scenarios. Validate functionality, security, and performance.","ar":"نفذ اختبارًا شاملاً لجميع ميزات وسيناريوهات المشروع. تحقق من الوظائف والأمان والأداء."}}],"resources":[{"type":"guide","title":"How to Test a Security Project","url":"https://realpython.com/python-testing/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the most critical bugs or issues discovered during testing.","ar":"عدد أهم الأخطاء أو المشاكل التي اكتشفتها أثناء الاختبار."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Final Documentation & Packaging","ar":"التوثيق النهائي وتجهيز الحزمة"},"tasks":[{"id":"w44d2t1","type":"Project","duration":120,"description":{"en":"Finalize all user and technical documentation. Prepare the project for delivery (code, docs, guides, demo data).","ar":"أنهِ جميع التوثيقات الفنية ودليل المستخدم. جهز المشروع للتسليم (الكود، التوثيق، الأدلة، بيانات العرض التجريبي)."}}],"resources":[{"type":"guide","title":"How to Package and Deliver a Project","url":"https://opensource.com/article/19/7/documentation"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the structure of your final project package.","ar":"لخص هيكل الحزمة النهائية لمشروعك."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Project Presentation Preparation","ar":"التحضير لعرض المشروع النهائي"},"tasks":[{"id":"w44d3t1","type":"Project","duration":120,"description":{"en":"Prepare your presentation slides and demo. Rehearse explaining your project, its value, and lessons learned.","ar":"جهز شرائح العرض والديمو. تدرب على شرح مشروعك، قيمته، والدروس المستفادة."}}],"resources":[{"type":"guide","title":"How to Present a Technical Project","url":"https://www.freecodecamp.org/news/how-to-give-a-great-technical-presentation/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write a short script for your project demo or elevator pitch.","ar":"اكتب نصًا قصيرًا لعرض مشروعك أو ملخص Elevator Pitch."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Peer Review & Mock Presentation","ar":"مراجعة الأقران وتجربة العرض"},"tasks":[{"id":"w44d4t1","type":"Project","duration":120,"description":{"en":"Deliver a mock presentation to peers or mentor. Gather feedback on clarity, technical depth, and delivery.","ar":"قدم عرضًا تجريبيًا أمام الزملاء أو المشرف. احصل على ملاحظات حول الوضوح والعمق التقني وأسلوب العرض."}}],"resources":[{"type":"guide","title":"How to Get Useful Presentation Feedback","url":"https://www.coursera.org/articles/presentation-feedback"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two suggestions you received and how you will address them.","ar":"عدد اقتراحين تلقيتهما وكيف ستتعامل معهما."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Final Delivery & Reflection","ar":"التسليم النهائي والتأمل"},"tasks":[{"id":"w44d5t1","type":"Project","duration":120,"description":{"en":"Submit your final project package and deliver your presentation. Reflect on your journey and key achievements.","ar":"سلم الحزمة النهائية وقدم العرض النهائي. تأمل رحلتك وأهم إنجازاتك."}}],"resources":[{"type":"guide","title":"How to Reflect on a Capstone Project","url":"https://www.coursera.org/articles/capstone-project"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write your personal reflection: what are you most proud of? What’s next?","ar":"اكتب تأملك الشخصي: ما أكثر ما تفخر به؟ وما هي خطوتك القادمة؟"}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Celebration & Future Planning","ar":"الاحتفال والتخطيط للمستقبل"},"tasks":[{"id":"w44d6t1","type":"Project","duration":120,"description":{"en":"Celebrate your achievement! Review your portfolio, update your CV/LinkedIn, and set new career goals.","ar":"احتفل بإنجازك! راجع ملف أعمالك، حدث سيرتك الذاتية/لينكدإن، وضع أهدافًا مهنية جديدة."}}],"resources":[{"type":"guide","title":"How to Build a Cybersecurity Portfolio","url":"https://www.sans.org/cyber-security-courses/cybersecurity-career-pathways/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List your next three professional development goals.","ar":"عدد ثلاثة أهداف تطوير مهني قادمة."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Reflection","ar":"راحة وتأمل"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":45,"phase":3,"title":{"en":"Final Project – Week 4 (Presentation, Evaluation & Career Planning)","ar":"المشروع النهائي – الأسبوع 4 (العرض، التقييم، وتخطيط المسار المهني)"},"objective":{"en":"Deliver your final project presentation, receive evaluation and feedback, reflect on your journey, and build a career action plan.","ar":"تقديم عرض المشروع النهائي، تلقي التقييم والتغذية الراجعة، التأمل في الرحلة، ووضع خطة عمل مهنية للمستقبل."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Final Project Presentation","ar":"عرض المشروع النهائي"},"tasks":[{"id":"w45d1t1","type":"Project","duration":120,"description":{"en":"Deliver your final project presentation to your cohort, mentors, or an evaluation panel. Demonstrate the solution, key features, and lessons learned.","ar":"قدّم عرض المشروع النهائي أمام الدفعة أو المشرفين أو لجنة التقييم. استعرض الحل، الميزات الرئيسية، والدروس المستفادة."}}],"resources":[{"type":"guide","title":"How to Present a Security Project","url":"https://www.freecodecamp.org/news/how-to-give-a-great-technical-presentation/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Reflect on your presentation: what went well? What would you improve next time?","ar":"تأمل في عرضك: ما الذي سار بشكل جيد؟ وما الذي ستطوره في المرة القادمة؟"}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Evaluation & Feedback","ar":"التقييم والتغذية الراجعة"},"tasks":[{"id":"w45d2t1","type":"Project","duration":120,"description":{"en":"Receive structured feedback from peers, mentors, or evaluators on your project and presentation. Document strengths and areas for growth.","ar":"استلم تغذية راجعة منظمة من الزملاء أو المشرفين أو لجنة التقييم حول مشروعك وعرضك. وثق نقاط القوة ومجالات التحسين."}}],"resources":[{"type":"guide","title":"How to Receive and Use Feedback","url":"https://www.atlassian.com/team-playbook/plays/feedback"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two strengths and two improvement points from your feedback.","ar":"عدد نقطتي قوة ونقطتي تطوير من التغذية الراجعة."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Personal Reflection & Portfolio Update","ar":"تأمل شخصي وتحديث الملف المهني"},"tasks":[{"id":"w45d3t1","type":"Project","duration":120,"description":{"en":"Reflect on your learning journey, challenges overcome, and skills gained. Update your portfolio, CV, and LinkedIn with your final project.","ar":"تأمل في رحلة التعلم والتحديات والمهارات المكتسبة. حدّث ملفك المهني وسيرتك الذاتية ولينكدإن بمشروعك النهائي."}}],"resources":[{"type":"guide","title":"How to Build a Cybersecurity Portfolio","url":"https://www.sans.org/cyber-security-courses/cybersecurity-career-pathways/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write a paragraph about the skill or achievement you are most proud of.","ar":"اكتب فقرة عن المهارة أو الإنجاز الذي تفخر به أكثر شيء."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Career Planning & Next Steps","ar":"تخطيط المسار المهني والخطوات القادمة"},"tasks":[{"id":"w45d4t1","type":"Project","duration":120,"description":{"en":"Research cybersecurity career paths and certifications. Set short- and long-term goals. Identify 2-3 job roles or certifications to pursue next.","ar":"ابحث عن مسارات وشهادات الأمن السيبراني. ضع أهدافًا قصيرة وطويلة المدى. حدد 2-3 وظائف أو شهادات ترغب في متابعتها."}}],"resources":[{"type":"guide","title":"Cybersecurity Career Roadmap","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List your top three next steps for career growth.","ar":"عدد أهم ثلاث خطوات قادمة لنموك المهني."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Celebration & Networking","ar":"الاحتفال وبناء العلاقات المهنية"},"tasks":[{"id":"w45d5t1","type":"Project","duration":120,"description":{"en":"Celebrate your achievement! Connect with peers, mentors, and professionals in the field. Join at least one cybersecurity community or event.","ar":"احتفل بإنجازك! تواصل مع الزملاء والمشرفين والمحترفين في المجال. انضم إلى مجتمع أو فعالية أمن سيبراني واحدة على الأقل."}}],"resources":[{"type":"guide","title":"Networking for Cybersecurity Careers","url":"https://www.csoonline.com/article/3542626/how-to-network-in-cybersecurity.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write about one new connection or community you joined.","ar":"اكتب عن علاقة أو مجتمع جديد انضممت إليه."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Rest & Open Reflection","ar":"راحة وتأمل مفتوح"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"Open Reflection","ar":"تأمل مفتوح"},"points":[{"en":"Write freely about your journey, growth, and aspirations.","ar":"اكتب بحرية عن رحلتك ونموك وطموحاتك."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest and Transition","ar":"راحة وانتقال"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"","ar":""},"points":[]}}]},{"week":46,"phase":3,"title":{"en":"Professional Transition & Career Launch","ar":"الانتقال المهني وبداية المسار الاحترافي"},"objective":{"en":"Consolidate your learning, build your professional brand, and actively launch your cybersecurity career through applications, interviews, and networking.","ar":"ترسيخ ما تعلمته، بناء هويتك المهنية، والانطلاق فعليًا في سوق العمل السيبراني عبر التقديم، المقابلات، وبناء العلاقات."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Portfolio & CV Mastery","ar":"إتقان البورتفوليو والسيرة الذاتية"},"tasks":[{"id":"w46d1t1","type":"Career","duration":60,"description":{"en":"Review and polish your cybersecurity portfolio (GitHub, GitLab, personal website). Highlight key projects and skills.","ar":"راجع وطور بورتفوليو الأمن السيبراني الخاص بك (GitHub, GitLab, موقع شخصي). أبرز المشاريع والمهارات الأساسية."}},{"id":"w46d1t2","type":"Career","duration":60,"description":{"en":"Update your CV and LinkedIn profile to reflect your new skills, certifications, and projects.","ar":"حدث سيرتك الذاتية وملفك على LinkedIn ليعكس المهارات والشهادات والمشاريع الجديدة."}}],"resources":[{"type":"guide","title":"Building a Cybersecurity Portfolio","url":"https://www.sans.org/cyber-security-courses/cybersecurity-career-pathways/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List your top three portfolio projects and what makes each unique.","ar":"عدد أهم ثلاثة مشاريع في بورتفوليوك وما يميز كل واحد."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Job Search & Application Strategy","ar":"استراتيجية البحث والتقديم على الوظائف"},"tasks":[{"id":"w46d2t1","type":"Career","duration":60,"description":{"en":"Identify 5-10 entry-level cybersecurity jobs or internships that match your interests.","ar":"حدد 5-10 وظائف أو فرص تدريب مبتدئة في الأمن السيبراني تناسب اهتماماتك."}},{"id":"w46d2t2","type":"Career","duration":60,"description":{"en":"Customize your CV and cover letter for at least two job applications and submit them.","ar":"خصص سيرتك الذاتية وخطاب التقديم لوظيفتين على الأقل وقدم عليها."}}],"resources":[{"type":"guide","title":"How to Apply for Cybersecurity Jobs","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Reflect on what you learned about the job market and your ideal role.","ar":"اكتب ما تعلمته عن سوق العمل والدور المثالي بالنسبة لك."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Interview Preparation & Practice","ar":"التحضير والتدرب على المقابلات"},"tasks":[{"id":"w46d3t1","type":"Career","duration":60,"description":{"en":"Review common cybersecurity interview questions (technical and behavioral).","ar":"راجع أسئلة المقابلات الشائعة في الأمن السيبراني (تقنية وسلوكية)."}},{"id":"w46d3t2","type":"Career","duration":60,"description":{"en":"Conduct a mock interview with a peer or mentor and get feedback.","ar":"قم بإجراء مقابلة تجريبية مع زميل أو مشرف واحصل على ملاحظات."}}],"resources":[{"type":"guide","title":"Cybersecurity Interview Questions","url":"https://www.springboard.com/blog/cybersecurity/cybersecurity-interview-questions/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write down two questions you found most challenging and how you would answer them next time.","ar":"اكتب سؤالين وجدت صعوبة في الإجابة عليهما وكيف ستجيب عنهما في المرة القادمة."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Certifications & Continuing Education","ar":"الشهادات والتعلم المستمر"},"tasks":[{"id":"w46d4t1","type":"Career","duration":60,"description":{"en":"Research 2-3 relevant cybersecurity certifications (e.g., Security+, CEH, OSCP, CISSP) and plan your next learning step.","ar":"ابحث عن 2-3 شهادات سيبرانية مناسبة (مثل Security+, CEH, OSCP, CISSP) وضع خطة للتعلم القادم."}},{"id":"w46d4t2","type":"Career","duration":60,"description":{"en":"Enroll in a certification course or select a learning platform (e.g., TryHackMe, Hack The Box) for ongoing practice.","ar":"سجل في دورة شهادة أو اختر منصة تعلم عملي (مثل TryHackMe أو Hack The Box) لمواصلة التدريب."}}],"resources":[{"type":"guide","title":"Cybersecurity Certification Roadmap","url":"https://pauljerimy.com/security-certification-roadmap/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List your next learning goal and why you chose it.","ar":"عدد هدفك التعليمي القادم ولماذا اخترته."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Professional Networking & Community Engagement","ar":"بناء العلاقات المهنية والانخراط المجتمعي"},"tasks":[{"id":"w46d5t1","type":"Career","duration":60,"description":{"en":"Join at least one cybersecurity community, forum, or local event. Introduce yourself and share your journey.","ar":"انضم إلى مجتمع أو منتدى أو فعالية سيبرانية واحدة على الأقل. قدم نفسك وشارك رحلتك."}},{"id":"w46d5t2","type":"Career","duration":60,"description":{"en":"Connect with three professionals on LinkedIn and start a conversation.","ar":"تواصل مع ثلاثة محترفين في لينكدإن وابدأ محادثة مهنية."}}],"resources":[{"type":"guide","title":"How to Network in Cybersecurity","url":"https://www.csoonline.com/article/3542626/how-to-network-in-cybersecurity.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write about a new connection or insight you gained.","ar":"اكتب عن علاقة جديدة أو فكرة اكتسبتها."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Weekly Review & Future Planning","ar":"مراجعة الأسبوع والتخطيط للمستقبل"},"tasks":[{"id":"w46d6t1","type":"Career","duration":120,"description":{"en":"Reflect on your transition from learner to professional. Set 3-5 specific, measurable goals for the next 3 months.","ar":"تأمل في انتقالك من متعلم إلى محترف. ضع 3-5 أهداف محددة وقابلة للقياس للأشهر الثلاثة القادمة."}}],"resources":[{"type":"guide","title":"How to Set Cybersecurity Career Goals","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List your top three goals for the next quarter.","ar":"عدد أهم ثلاثة أهداف للربع القادم."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest & Celebration","ar":"راحة واحتفال"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"Celebration & Reflection","ar":"احتفال وتأمل"},"points":[{"en":"Celebrate your journey and write a message to your future self.","ar":"احتفل برحلتك واكتب رسالة لنفسك في المستقبل."}]}}]},{"week":47,"phase":3,"title":{"en":"Continuous Professional Development & Industry Engagement","ar":"التطوير المهني المستمر والانخراط في مجتمع الأمن السيبراني"},"objective":{"en":"Establish a routine for ongoing learning, professional growth, and active participation in the cybersecurity community.","ar":"وضع روتين للتعلم المستمر، تطوير الذات، والانخراط الفعال في مجتمع الأمن السيبراني."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Monthly Skills Audit & Goal Setting","ar":"مراجعة المهارات الشهرية وتحديد الأهداف"},"tasks":[{"id":"w47d1t1","type":"Career","duration":60,"description":{"en":"Review your skills matrix and update it with new competencies gained. Identify gaps and set learning goals for the coming month.","ar":"راجع مصفوفة المهارات الخاصة بك وحدّثها بالمهارات الجديدة. حدد الفجوات وضع أهداف تعلم للشهر القادم."}},{"id":"w47d1t2","type":"Career","duration":60,"description":{"en":"Reflect on your progress and write a short action plan for one area of improvement.","ar":"تأمل في تقدمك واكتب خطة عمل قصيرة لتطوير جانب واحد."}}],"resources":[{"type":"guide","title":"How to Audit Your Cybersecurity Skills","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two skills you want to master next month.","ar":"عدد مهارتين ترغب في إتقانهما الشهر المقبل."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Industry News & Threat Intelligence","ar":"متابعة أخبار المجال واستخبارات التهديدات"},"tasks":[{"id":"w47d2t1","type":"Career","duration":60,"description":{"en":"Subscribe to 2-3 trusted cybersecurity news sources or threat intelligence feeds.","ar":"اشترك في 2-3 مصادر موثوقة لأخبار الأمن السيبراني أو قنوات استخبارات التهديدات."}},{"id":"w47d2t2","type":"Career","duration":60,"description":{"en":"Reflect on your progress and write a short action plan for one area of improvement.","ar":"تأمل في تقدمك واكتب خطة عمل قصيرة لتطوير جانب واحد."}}],"resources":[{"type":"guide","title":"How to Audit Your Cybersecurity Skills","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List two skills you want to master next month.","ar":"عدد مهارتين ترغب في إتقانهما الشهر المقبل."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Industry News & Threat Intelligence","ar":"متابعة أخبار المجال واستخبارات التهديدات"},"tasks":[{"id":"w47d2t1","type":"Career","duration":60,"description":{"en":"Subscribe to 2-3 trusted cybersecurity news sources or threat intelligence feeds.","ar":"اشترك في 2-3 مصادر موثوقة لأخبار الأمن السيبراني أو قنوات استخبارات التهديدات."}},{"id":"w47d2t2","type":"Career","duration":60,"description":{"en":"Summarize one recent cyber incident or vulnerability and its impact.","ar":"لخص حادثة أو ثغرة سيبرانية حديثة وتأثيرها."}}],"resources":[{"type":"news","title":"Krebs on Security","url":"https://krebsonsecurity.com/"},{"type":"news","title":"The Hacker News","url":"https://thehackernews.com/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write a summary of the most relevant news you read today.","ar":"اكتب ملخصًا لأهم خبر قرأته اليوم."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Community Engagement & Knowledge Sharing","ar":"الانخراط المجتمعي ومشاركة المعرفة"},"tasks":[{"id":"w47d3t1","type":"Career","duration":60,"description":{"en":"Participate in a cybersecurity forum, Slack/Discord group, or LinkedIn discussion. Share a resource or insight.","ar":"شارك في منتدى أو مجموعة سيبرانية أو نقاش على لينكدإن. شارك مورداً أو فكرة."}},{"id":"w47d3t2","type":"Career","duration":60,"description":{"en":"Comment on or help answer a question from another community member.","ar":"علّق أو ساعد في الإجابة على سؤال لأحد أعضاء المجتمع."}}],"resources":[{"type":"community","title":"Reddit r/cybersecurity","url":"https://www.reddit.com/r/cybersecurity/"},{"type":"community","title":"TryHackMe Discord","url":"https://discord.gg/tryhackme"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe a discussion you participated in and what you learned.","ar":"صف نقاشًا شاركت فيه وما الذي تعلمته منه."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"CTF & Practical Skills Practice","ar":"تحديات CTF وتدريب المهارات العملية"},"tasks":[{"id":"w47d4t1","type":"Career","duration":120,"description":{"en":"Participate in a Capture The Flag (CTF) event or solve a set of practical labs (e.g., TryHackMe, Hack The Box).","ar":"شارك في تحدي CTF أو حل مجموعة من المختبرات العملية (مثل TryHackMe أو Hack The Box)."}}],"resources":[{"type":"platform","title":"Hack The Box","url":"https://www.hackthebox.com/"},{"type":"platform","title":"TryHackMe","url":"https://tryhackme.com/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document a challenge you solved and the key technique you used.","ar":"وثق تحديًا حللته وأهم تقنية استخدمتها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Mentorship & Giving Back","ar":"الإرشاد ورد الجميل للمجتمع"},"tasks":[{"id":"w47d5t1","type":"Career","duration":60,"description":{"en":"Offer mentorship or guidance to a beginner (answer questions, review a project, or share advice).","ar":"قدم الإرشاد أو النصيحة لمبتدئ (أجب عن سؤال، راجع مشروعًا، أو شارك نصيحة)."}},{"id":"w47d5t2","type":"Career","duration":60,"description":{"en":"Write a blog post, LinkedIn article, or Twitter/X thread sharing a lesson or tip from your journey.","ar":"اكتب تدوينة أو مقالاً على لينكدإن أو سلسلة تغريدات تشارك فيها درسًا أو نصيحة من تجربتك."}}],"resources":[{"type":"guide","title":"How to Mentor in Cybersecurity","url":"https://www.sans.org/blog/cybersecurity-mentoring/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Reflect on how giving back helps you grow.","ar":"تأمل كيف يساعدك العطاء على النمو."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Personal Brand & Visibility","ar":"بناء العلامة الشخصية والظهور المهني"},"tasks":[{"id":"w47d6t1","type":"Career","duration":60,"description":{"en":"Update your LinkedIn, GitHub, or personal website with recent achievements, blogs, or CTF write-ups.","ar":"حدث حسابك على LinkedIn أو GitHub أو موقعك الشخصي بآخر الإنجازات أو التدوينات أو حلول CTF."}},{"id":"w47d6t2","type":"Career","duration":60,"description":{"en":"Set a monthly goal for content creation or public engagement (e.g., one blog, one talk, or one video).","ar":"حدد هدفًا شهريًا لإنتاج المحتوى أو المشاركة العامة (مثل: تدوينة، محاضرة، أو فيديو)."}}],"resources":[{"type":"guide","title":"Building Your Cybersecurity Personal Brand","url":"https://www.csoonline.com/article/3542626/how-to-network-in-cybersecurity.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List your next three steps to increase your professional visibility.","ar":"عدد ثلاث خطوات قادمة لزيادة ظهورك المهني."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest & Mindfulness","ar":"راحة وذهن صافٍ"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"Mindful Reflection","ar":"تأمل ذهني"},"points":[{"en":"Take time to rest and reflect on your professional journey.","ar":"خصص وقتًا للراحة والتأمل في رحلتك المهنية."}]}}]},{"week":48,"phase":3,"title":{"en":"Professional Growth & Specialization Exploration","ar":"النمو المهني واستكشاف التخصصات المتقدمة"},"objective":{"en":"Deepen your expertise by exploring advanced cybersecurity domains, evaluating specialization paths, and setting a personal growth roadmap.","ar":"تعميق خبرتك عبر استكشاف مجالات الأمن السيبراني المتقدمة، تقييم مسارات التخصص، ووضع خارطة طريق لتطويرك الذاتي."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Advanced Domains Overview","ar":"نظرة عامة على التخصصات المتقدمة"},"tasks":[{"id":"w48d1t1","type":"Career","duration":60,"description":{"en":"Research and summarize at least three advanced cybersecurity domains (e.g., Threat Intelligence, Cloud Security, Digital Forensics, Malware Analysis, OT/ICS Security).","ar":"ابحث ولخص ثلاثة مجالات متقدمة في الأمن السيبراني (مثل استخبارات التهديدات، أمن السحابة، التحليل الجنائي الرقمي، تحليل البرمجيات الخبيثة، أمن أنظمة التحكم الصناعي)."}},{"id":"w48d1t2","type":"Career","duration":60,"description":{"en":"Identify which domain(s) align best with your skills and interests.","ar":"حدد أي من هذه المجالات يتناسب أكثر مع مهاراتك واهتماماتك."}}],"resources":[{"type":"guide","title":"Cybersecurity Specializations Overview","url":"https://www.coursera.org/articles/cybersecurity-careers-specializations"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the three domains you researched and your top choice.","ar":"عدد المجالات الثلاثة التي بحثت عنها وما هو اختيارك الأول."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Deep Dive: Chosen Specialization","ar":"التعمق في التخصص المختار"},"tasks":[{"id":"w48d2t1","type":"Career","duration":120,"description":{"en":"Explore learning paths, certifications, and leading experts in your chosen specialization. Find at least two online courses or resources.","ar":"استكشف مسارات التعلم والشهادات والخبراء في تخصصك المختار. ابحث عن دورتين أو مصدرين موثوقين على الأقل."}}],"resources":[{"type":"guide","title":"Specialization Roadmap Example","url":"https://pauljerimy.com/security-certification-roadmap/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the most exciting thing you learned about this field.","ar":"لخص أكثر ما أثار اهتمامك في هذا التخصص."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Skill Gap Analysis & Action Plan","ar":"تحليل فجوة المهارات وخطة العمل"},"tasks":[{"id":"w48d3t1","type":"Career","duration":60,"description":{"en":"Compare your current skills to requirements in your chosen specialization. List the top 3-5 skills or tools to acquire.","ar":"قارن مهاراتك الحالية بمتطلبات التخصص المختار. عدد أهم 3-5 مهارات أو أدوات يجب اكتسابها."}},{"id":"w48d3t2","type":"Career","duration":60,"description":{"en":"Draft a 3-month learning and practice plan to bridge these gaps.","ar":"ضع خطة تعلم وتدريب لمدة 3 أشهر لسد هذه الفجوات."}}],"resources":[{"type":"guide","title":"How to Build a Cybersecurity Learning Plan","url":"https://www.csoonline.com/article/3532536/cybersecurity-capstone-project-ideas.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write your top three learning priorities for the next quarter.","ar":"اكتب أهم ثلاث أولويات تعليمية للربع القادم."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Mentorship & Networking in Your Field","ar":"الإرشاد وبناء العلاقات في تخصصك"},"tasks":[{"id":"w48d4t1","type":"Career","duration":60,"description":{"en":"Identify and connect with at least two professionals or mentors in your specialization (LinkedIn, Twitter, local groups).","ar":"حدد وتواصل مع محترفين أو مرشدين في تخصصك (لينكدإن، تويتر، مجموعات محلية)."}},{"id":"w48d4t2","type":"Career","duration":60,"description":{"en":"Join a relevant community or forum and introduce yourself.","ar":"انضم إلى مجتمع أو منتدى متعلق بالتخصص وقدم نفسك."}}],"resources":[{"type":"community","title":"Cybersecurity Mentoring Resources","url":"https://www.sans.org/blog/cybersecurity-mentoring/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe one valuable connection or advice you received.","ar":"صف نصيحة أو علاقة مهنية قيمة حصلت عليها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Mini Project or Challenge","ar":"مشروع مصغر أو تحدي تخصصي"},"tasks":[{"id":"w48d5t1","type":"Career","duration":120,"description":{"en":"Select and complete a mini-project or hands-on challenge in your chosen field (e.g., analyze a malware sample, deploy a cloud security tool, write a threat report).","ar":"اختر ونفذ مشروعًا مصغرًا أو تحديًا عمليًا في تخصصك المختار (مثلاً: تحليل عينة برمجية خبيثة، نشر أداة أمن سحابي، كتابة تقرير تهديدات)."}}],"resources":[{"type":"lab","title":"Practical Labs by Specialization","url":"https://tryhackme.com/paths"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize what you built or solved and the most important lesson.","ar":"لخص ما أنجزته وأهم درس تعلمته."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Reflection & Next Steps","ar":"تأمل وخطوات قادمة"},"tasks":[{"id":"w48d6t1","type":"Career","duration":120,"description":{"en":"Reflect on your specialization week. Update your professional development plan and set a milestone for the next month.","ar":"تأمل في أسبوع التخصص. حدث خطة تطويرك المهني وحدد هدفًا رئيسيًا للشهر القادم."}}],"resources":[{"type":"guide","title":"How to Set Professional Milestones","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write your main milestone and how you plan to achieve it.","ar":"اكتب هدفك الرئيسي القادم وكيف ستعمل على تحقيقه."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest & Personal Growth","ar":"راحة ونمو شخصي"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"Personal Reflection","ar":"تأمل شخصي"},"points":[{"en":"Take time to rest and reflect on your professional journey and aspirations.","ar":"خصص وقتًا للراحة والتأمل في رحلتك المهنية وطموحاتك."}]}}]},{"week":49,"phase":3,"title":{"en":"Specialization Development & Advanced Certification Prep","ar":"تطوير التخصص والتحضير لشهادة متقدمة"},"objective":{"en":"Focus on deepening expertise in your chosen cybersecurity specialization and begin structured preparation for an advanced industry certification.","ar":"التركيز على تعميق الخبرة في التخصص السيبراني المختار، والبدء في التحضير المنهجي لشهادة مهنية متقدمة."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Certification Pathway Research","ar":"بحث مسار الشهادة المتقدمة"},"tasks":[{"id":"w49d1t1","type":"Career","duration":60,"description":{"en":"Research the top certifications for your specialization (e.g., OSCP, CISSP, GREM, AWS Security). Compare prerequisites, content, and exam formats.","ar":"ابحث عن أهم الشهادات في تخصصك (مثل OSCP، CISSP، GREM، AWS Security). قارن بين المتطلبات والمحتوى ونمط الاختبار."}},{"id":"w49d1t2","type":"Career","duration":60,"description":{"en":"Choose your target certification and outline a study plan.","ar":"اختر الشهادة المستهدفة وضع خطة دراسة أولية."}}],"resources":[{"type":"guide","title":"Security Certification Roadmap","url":"https://pauljerimy.com/security-certification-roadmap/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the certifications you compared and your reasons for your final choice.","ar":"عدد الشهادات التي قارنت بينها وسبب اختيارك النهائي."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Resource Collection & Study Plan","ar":"جمع المصادر وخطة الدراسة"},"tasks":[{"id":"w49d2t1","type":"Career","duration":60,"description":{"en":"Gather official study guides, recommended books, online courses, and practice labs for your chosen certification.","ar":"اجمع الأدلة الرسمية والكتب الموصى بها والدورات والمختبرات العملية لشهادتك المختارة."}},{"id":"w49d2t2","type":"Career","duration":60,"description":{"en":"Break down your study plan into weekly objectives and milestones.","ar":"قسّم خطة الدراسة إلى أهداف ومراحل أسبوعية."}}],"resources":[{"type":"guide","title":"How to Prepare for Cybersecurity Certifications","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Document your main study resources and first week’s milestone.","ar":"وثق المصادر الأساسية وأول هدف أسبوعي في خطة الدراسة."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"Specialization Skill Practice","ar":"تدريب عملي في التخصص"},"tasks":[{"id":"w49d3t1","type":"Career","duration":120,"description":{"en":"Complete a hands-on lab, challenge, or project directly related to your specialization (e.g., exploit development, incident response, cloud security configuration).","ar":"نفذ مختبرًا عمليًا أو تحديًا أو مشروعًا مرتبطًا مباشرة بتخصصك (مثل تطوير الاستغلالات، الاستجابة للحوادث، إعدادات أمن السحابة)."}}],"resources":[{"type":"lab","title":"Specialization Labs & Practice","url":"https://tryhackme.com/paths"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Summarize the skills you practiced and any challenges faced.","ar":"لخص المهارات التي تدربت عليها وأي تحديات واجهتها."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Practice Exam or Knowledge Assessment","ar":"اختبار تجريبي أو تقييم معرفي"},"tasks":[{"id":"w49d4t1","type":"Career","duration":120,"description":{"en":"Take a practice exam or assessment for your chosen certification. Analyze your results and identify weak areas.","ar":"أجرِ اختبارًا تجريبيًا أو تقييمًا معرفيًا لشهادتك المستهدفة. حلل النتائج وحدد نقاط الضعف."}}],"resources":[{"type":"practice","title":"Official Practice Exams","url":"https://www.cybrary.it/catalog/certifications/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List your weakest topics and how you plan to improve them.","ar":"عدد أضعف المواضيع لديك وخطتك لتحسينها."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Community & Peer Study","ar":"مجتمع الدراسة والمراجعة الجماعية"},"tasks":[{"id":"w49d5t1","type":"Career","duration":120,"description":{"en":"Join or organize a study group or online forum dedicated to your certification. Share resources and discuss complex topics.","ar":"انضم أو نظم مجموعة دراسة أو منتدى إلكتروني مخصص لشهادتك. شارك المصادر وناقش المواضيع المعقدة."}}],"resources":[{"type":"community","title":"Certification Study Groups","url":"https://www.reddit.com/r/cybersecurity/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe one insight or tip you gained from group study.","ar":"صف فائدة أو نصيحة جديدة حصلت عليها من مجموعة الدراسة."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Progress Review & Adjustment","ar":"مراجعة التقدم وتعديل الخطة"},"tasks":[{"id":"w49d6t1","type":"Career","duration":120,"description":{"en":"Review your progress this week, update your study plan, and set new objectives for the next phase of certification prep.","ar":"راجع تقدمك هذا الأسبوع، وحدّث خطة الدراسة، وضع أهدافًا جديدة للمرحلة القادمة من التحضير للشهادة."}}],"resources":[{"type":"guide","title":"How to Track Certification Progress","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write your main achievement this week and next week’s top priority.","ar":"اكتب أهم إنجاز لك هذا الأسبوع وأولوية الأسبوع القادم."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest & Motivation","ar":"راحة وتحفيز"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"Personal Motivation","ar":"تحفيز شخصي"},"points":[{"en":"Reflect on your journey and write a motivational note to yourself.","ar":"تأمل في رحلتك واكتب رسالة تحفيزية لنفسك."}]}}]},{"week":50,"phase":3,"title":{"en":"Capstone Reflection & Long-Term Career Planning","ar":"التأمل الختامي والتخطيط المهني طويل المدى"},"objective":{"en":"Conclude your 50-week cybersecurity journey with a comprehensive self-assessment, portfolio review, and creation of a 12-month professional development roadmap.","ar":"اختتم رحلتك في الأمن السيبراني بتقييم ذاتي شامل، مراجعة البورتفوليو، ووضع خارطة طريق لتطويرك المهني خلال 12 شهرًا قادمة."},"days":[{"key":"sat","day":{"en":"Saturday","ar":"السبت"},"topic":{"en":"Comprehensive Self-Assessment","ar":"تقييم ذاتي شامل"},"tasks":[{"id":"w50d1t1","type":"Career","duration":120,"description":{"en":"Review your entire learning journey. Complete a detailed self-assessment of technical, practical, and soft skills acquired.","ar":"راجع رحلتك التعليمية بالكامل. أكمل تقييماً ذاتياً مفصلاً للمهارات التقنية والعملية والشخصية التي اكتسبتها."}}],"resources":[{"type":"guide","title":"Cybersecurity Skills Self-Assessment","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write a summary of your greatest strengths and areas for future growth.","ar":"اكتب ملخصًا لأبرز نقاط قوتك ومجالات التطوير المستقبلية."}]}},{"key":"sun","day":{"en":"Sunday","ar":"الأحد"},"topic":{"en":"Portfolio & Project Review","ar":"مراجعة البورتفوليو والمشاريع"},"tasks":[{"id":"w50d2t1","type":"Career","duration":120,"description":{"en":"Review and update your portfolio with all major projects, labs, and achievements from the 50-week plan.","ar":"راجع وحدث بورتفوليوك بجميع المشاريع والمختبرات والإنجازات من خطة الـ 50 أسبوعًا."}}],"resources":[{"type":"guide","title":"How to Build a Cybersecurity Portfolio","url":"https://www.sans.org/cyber-security-courses/cybersecurity-career-pathways/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"List the top three projects you are most proud of and why.","ar":"عدد أهم ثلاثة مشاريع تفخر بها ولماذا."}]}},{"key":"mon","day":{"en":"Monday","ar":"الإثنين"},"topic":{"en":"12-Month Career Roadmap","ar":"خارطة طريق مهنية لمدة 12 شهرًا"},"tasks":[{"id":"w50d3t1","type":"Career","duration":120,"description":{"en":"Draft a 12-month professional development roadmap: target roles, certifications, projects, and networking goals.","ar":"ضع خارطة طريق مهنية لمدة 12 شهرًا: أدوار مستهدفة، شهادات، مشاريع، وأهداف علاقات مهنية."}}],"resources":[{"type":"guide","title":"How to Build a Career Roadmap","url":"https://www.cyberseek.org/pathway.html"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write your top three career goals for the next year.","ar":"اكتب أهم ثلاثة أهداف مهنية للعام القادم."}]}},{"key":"tue","day":{"en":"Tuesday","ar":"الثلاثاء"},"topic":{"en":"Mentorship & Community Contribution Plan","ar":"خطة الإرشاد والمساهمة المجتمعية"},"tasks":[{"id":"w50d4t1","type":"Career","duration":120,"description":{"en":"Plan how you will give back: mentoring, content creation, or volunteering in cybersecurity communities.","ar":"خطط لكيفية رد الجميل: الإرشاد، إنتاج المحتوى، أو التطوع في مجتمعات الأمن السيبراني."}}],"resources":[{"type":"guide","title":"How to Mentor and Give Back","url":"https://www.sans.org/blog/cybersecurity-mentoring/"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Describe one way you will contribute to the cybersecurity community.","ar":"صف طريقة واحدة ستساهم بها في مجتمع الأمن السيبراني."}]}},{"key":"wed","day":{"en":"Wednesday","ar":"الأربعاء"},"topic":{"en":"Celebration & Personal Reflection","ar":"احتفال وتأمل شخصي"},"tasks":[{"id":"w50d5t1","type":"Career","duration":120,"description":{"en":"Celebrate your 50-week achievement! Reflect on your transformation, write a letter to your future self, and share your story with peers.","ar":"احتفل بإنجازك في 50 أسبوعًا! تأمل في تحولك، واكتب رسالة لنفسك المستقبلية، وشارك قصتك مع الزملاء."}}],"resources":[{"type":"guide","title":"Reflecting on Your Cybersecurity Journey","url":"https://www.coursera.org/articles/capstone-project"}],"notes_prompt":{"title":{"en":"Evening Journaling Task","ar":"مهمة التدوين المسائية"},"points":[{"en":"Write your letter to your future self and save it.","ar":"اكتب رسالتك لنفسك المستقبلية واحتفظ بها."}]}},{"key":"thu","day":{"en":"Thursday","ar":"الخميس"},"topic":{"en":"Rest & Open Reflection","ar":"راحة وتأمل مفتوح"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"Open Reflection","ar":"تأمل مفتوح"},"points":[{"en":"Write freely about your journey, growth, and future aspirations.","ar":"اكتب بحرية عن رحلتك ونموك وطموحاتك القادمة."}]}},{"key":"fri","day":{"en":"Friday","ar":"الجمعة"},"topic":{"en":"Rest & New Beginnings","ar":"راحة وبداية جديدة"},"tasks":[],"resources":[],"notes_prompt":{"title":{"en":"Congratulations!","ar":"مبروك!"},"points":[{"en":"Congratulate yourself on completing the 50-week plan and set your intention for the next chapter.","ar":"هنئ نفسك على إنهاء خطة الـ 50 أسبوعًا وحدد نيتك للمرحلة القادمة."}]}}]}]`),dd=Array.isArray(My[0])?My.flat():My;function Mx(){const t={};return dd.forEach(e=>{t[e.phase]||(t[e.phase]={id:e.phase,name:e.title.ar.split(":")[0]||`المرحلة ${e.phase}`})}),Object.values(t)}function IP(t){return dd.filter(e=>e.phase===t)}function jP(){return dd}function zP(){return dd.flatMap(t=>t.days||[])}function VP(){return dd.flatMap(t=>(t.days||[]).flatMap(e=>e.tasks||[]))}function Rx({phase:t,selected:e,onDetails:n}){const{t:r,i18n:i}=Ta(),{lang:a}=$l();return ne.jsxs("div",{className:`rounded-lg border p-4 bg-white dark:bg-zinc-900 shadow hover:shadow-lg transition cursor-pointer ${e?"ring-2 ring-cyan-400":""}`,tabIndex:0,children:[ne.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ne.jsx("span",{className:"text-lg font-bold text-cyan-600",children:t.name?.[a]||t.name||t.title?.[a]||t.title?.ar||t.title?.en}),ne.jsxs("span",{className:"text-xs bg-cyan-100 text-cyan-700 rounded px-2 py-0.5",children:[r("phase","مرحلة")," ",t.id]})]}),ne.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200 mb-2",children:t.description?.[a]||t.description||""}),ne.jsx("button",{className:"text-xs text-cyan-700 hover:underline",onClick:l=>{l.stopPropagation(),n?.(t)},children:r("details","تفاصيل")})]})}function UP(){const{t,i18n:e}=Ta(),{lang:n}=$l(),r=Mx(),i=jP(),a=zP(),l=VP();return ne.jsxs("div",{className:"max-w-4xl mx-auto py-8",dir:e.language==="ar"?"rtl":"ltr",children:[ne.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:t("dashboardTitle","لوحة القيادة")}),ne.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[ne.jsx(If,{label:t("phases","المراحل"),value:r.length,color:"bg-cyan-500"}),ne.jsx(If,{label:t("weeks","الأسابيع"),value:i.length,color:"bg-violet-500"}),ne.jsx(If,{label:t("days","الأيام"),value:a.length,color:"bg-amber-500"}),ne.jsx(If,{label:t("tasks","المهام"),value:l.length,color:"bg-emerald-500"})]}),ne.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("planPhases","مراحل خطة الأمن السيبراني")}),ne.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:r.map(c=>ne.jsx(Rx,{phase:{...c,name:c.name}},c.id))})]})}function If({label:t,value:e,color:n}){return ne.jsxs("div",{className:`rounded-xl p-4 text-center text-white shadow ${n}`,children:[ne.jsx("div",{className:"text-2xl font-bold mb-1",children:e}),ne.jsx("div",{className:"text-sm font-medium",children:t})]})}function HP(){return ne.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[ne.jsx("h1",{className:"text-4xl font-bold text-red-600 mb-4",children:"404"}),ne.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-2",children:"الصفحة غير موجودة"}),ne.jsx("a",{href:"/",className:"text-cyan-700 hover:underline",children:"العودة للصفحة الرئيسية"})]})}function FP({week:t,selected:e,onDetails:n}){const{t:r,i18n:i}=Ta(),{lang:a}=$l();return ne.jsxs("div",{className:`rounded-lg border p-4 bg-white dark:bg-zinc-900 shadow hover:shadow-lg transition cursor-pointer ${e?"ring-2 ring-violet-400":""}`,tabIndex:0,children:[ne.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ne.jsx("span",{className:"text-lg font-bold text-violet-600",children:t.title?.[a]||t.title?.ar||t.title?.en}),ne.jsxs("span",{className:"text-xs bg-violet-100 text-violet-700 rounded px-2 py-0.5",children:[r("week","أسبوع")," ",t.week]})]}),ne.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200 mb-2",children:t.objective?.[a]||t.objective?.ar||t.objective?.en}),ne.jsxs("div",{className:"flex items-center justify-between mt-2",children:[ne.jsxs("span",{className:"text-xs text-gray-500",children:[r("daysCount","عدد الأيام"),": ",t.days?.length||0]}),ne.jsx("button",{onClick:l=>{l.stopPropagation(),n?.(t)},className:"text-xs text-violet-700 hover:underline",children:r("details","تفاصيل")})]})]})}function KP({tasks:t,lang:e,onToggle:n,onEdit:r,onDelete:i}){const{t:a}=Ta();return ne.jsxs("div",{className:"mb-2",children:[ne.jsx("div",{className:"font-semibold text-xs text-gray-500 mb-1",children:a("tasks","المهام:")}),ne.jsx("ul",{className:"space-y-1",children:t.map(l=>ne.jsxs("li",{className:"flex items-center gap-2",children:[ne.jsx("input",{type:"checkbox",className:"accent-emerald-500",disabled:!0}),ne.jsx("span",{className:"text-sm",children:l.description?.[e]||l.description?.ar||l.description?.en})]},l.id))})]})}function qP({resources:t,lang:e}){const{t:n}=Ta();return t.length?ne.jsxs("div",{className:"mb-2",children:[ne.jsx("div",{className:"font-semibold text-xs text-gray-500 mb-1",children:n("resources","الموارد:")}),ne.jsx("ul",{className:"space-y-1",children:t.map((r,i)=>ne.jsxs("li",{className:"flex items-center gap-2",children:[ne.jsx("span",{className:"text-xs bg-gray-200 dark:bg-zinc-800 rounded px-2 py-0.5",children:r.type}),ne.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-700 hover:underline",children:r.title?.[e]||r.title||r.name?.[e]||r.name})]},i))})]}):null}function WP({day:t,selected:e,onJournal:n}){const{t:r,i18n:i}=Ta(),{lang:a}=$l();return ne.jsxs("div",{className:`rounded-lg border p-4 bg-white dark:bg-zinc-900 shadow mb-4 ${e?"ring-2 ring-amber-400":""}`,tabIndex:0,children:[ne.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ne.jsx("span",{className:"text-lg font-bold text-amber-600",children:t.day?.[a]||t.day?.ar||t.day?.en}),ne.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 rounded px-2 py-0.5",children:t.topic?.[a]||t.topic?.ar||t.topic?.en})]}),ne.jsx(KP,{tasks:t.tasks||[],lang:a}),ne.jsx(qP,{resources:t.resources||[],lang:a}),ne.jsx("button",{onClick:l=>{l.stopPropagation(),n?.(t)},className:"mt-2 text-xs text-amber-700 hover:underline",children:r("journalToday","تدوين اليوم")})]})}const Mv=I.createContext({});function Rv(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dv=typeof window<"u",Dx=Dv?I.useLayoutEffect:I.useEffect,fh=I.createContext(null);function Pv(t,e){t.indexOf(e)===-1&&t.push(e)}function Ov(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ps=(t,e,n)=>n>e?e:n<t?t:n;let Nv=()=>{};const hs={},Px=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ox(t){return typeof t=="object"&&t!==null}const Nx=t=>/^0[^.\s]+$/u.test(t);function Lv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ir=t=>t,JP=(t,e)=>n=>e(t(n)),fd=(...t)=>t.reduce(JP),Hc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class _v{constructor(){this.subscriptions=[]}add(e){return Pv(this.subscriptions,e),()=>Ov(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yi=t=>t*1e3,gi=t=>t/1e3;function Lx(t,e){return e?t*(1e3/e):0}const _x=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$P=1e-7,GP=12;function YP(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=_x(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>$P&&++c<GP);return l}function pd(t,e,n,r){if(t===e&&n===r)return Ir;const i=a=>YP(a,0,1,t,n);return a=>a===0||a===1?a:_x(i(a),e,r)}const Bx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ix=t=>e=>1-t(1-e),jx=pd(.33,1.53,.69,.99),Bv=Ix(jx),zx=Bx(Bv),Vx=t=>(t*=2)<1?.5*Bv(t):.5*(2-Math.pow(2,-10*(t-1))),Iv=t=>1-Math.sin(Math.acos(t)),Ux=Ix(Iv),Hx=Bx(Iv),XP=pd(.42,0,1,1),QP=pd(0,0,.58,1),Fx=pd(.42,0,.58,1),ZP=t=>Array.isArray(t)&&typeof t[0]!="number",Kx=t=>Array.isArray(t)&&typeof t[0]=="number",eO={linear:Ir,easeIn:XP,easeInOut:Fx,easeOut:QP,circIn:Iv,circInOut:Hx,circOut:Ux,backIn:Bv,backInOut:zx,backOut:jx,anticipate:Vx},tO=t=>typeof t=="string",mk=t=>{if(Kx(t)){Nv(t.length===4);const[e,n,r,i]=t;return pd(e,n,r,i)}else if(tO(t))return eO[t];return t},jf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nO(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(h){l.has(h)&&(p.schedule(h),t()),h(c)}const p={schedule:(h,g=!1,b=!1)=>{const T=b&&i?n:r;return g&&l.add(h),T.has(h)||T.add(h),h},cancel:h=>{r.delete(h),l.delete(h)},process:h=>{if(c=h,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,p.process(h))}};return p}const rO=40;function qx(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=jf.reduce(($,ae)=>($[ae]=nO(a),$),{}),{setup:c,read:d,resolveKeyframes:p,preUpdate:h,update:g,preRender:b,render:k,postRender:T}=l,A=()=>{const $=hs.useManualTiming?i.timestamp:performance.now();n=!1,hs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min($-i.timestamp,rO),1)),i.timestamp=$,i.isProcessing=!0,c.process(i),d.process(i),p.process(i),h.process(i),g.process(i),b.process(i),k.process(i),T.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(A))},D=()=>{n=!0,r=!0,i.isProcessing||t(A)};return{schedule:jf.reduce(($,ae)=>{const Y=l[ae];return $[ae]=(ue,pe=!1,de=!1)=>(n||D(),Y.schedule(ue,pe,de)),$},{}),cancel:$=>{for(let ae=0;ae<jf.length;ae++)l[jf[ae]].cancel($)},state:i,steps:l}}const{schedule:Lt,cancel:wa,state:An,steps:Ry}=qx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ir,!0);let tp;function iO(){tp=void 0}const nr={now:()=>(tp===void 0&&nr.set(An.isProcessing||hs.useManualTiming?An.timestamp:performance.now()),tp),set:t=>{tp=t,queueMicrotask(iO)}},Wx=t=>e=>typeof e=="string"&&e.startsWith(t),jv=Wx("--"),sO=Wx("var(--"),zv=t=>sO(t)?aO.test(t.split("/*")[0].trim()):!1,aO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fc={...Gl,transform:t=>ps(0,1,t)},zf={...Gl,default:1},xc=t=>Math.round(t*1e5)/1e5,Vv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oO(t){return t==null}const lO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Uv=(t,e)=>n=>!!(typeof n=="string"&&lO.test(n)&&n.startsWith(t)||e&&!oO(n)&&Object.prototype.hasOwnProperty.call(n,e)),Jx=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(Vv);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},uO=t=>ps(0,255,t),Dy={...Gl,transform:t=>Math.round(uO(t))},ro={test:Uv("rgb","red"),parse:Jx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dy.transform(t)+", "+Dy.transform(e)+", "+Dy.transform(n)+", "+xc(Fc.transform(r))+")"};function cO(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ag={test:Uv("#"),parse:cO,transform:ro.transform},hd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ia=hd("deg"),vi=hd("%"),We=hd("px"),dO=hd("vh"),fO=hd("vw"),yk={...vi,parse:t=>vi.parse(t)/100,transform:t=>vi.transform(t*100)},Rl={test:Uv("hsl","hue"),parse:Jx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+vi.transform(xc(e))+", "+vi.transform(xc(n))+", "+xc(Fc.transform(r))+")"},rn={test:t=>ro.test(t)||Ag.test(t)||Rl.test(t),parse:t=>ro.test(t)?ro.parse(t):Rl.test(t)?Rl.parse(t):Ag.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ro.transform(t):Rl.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},pO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hO(t){return isNaN(t)&&typeof t=="string"&&(t.match(Vv)?.length||0)+(t.match(pO)?.length||0)>0}const $x="number",Gx="color",mO="var",yO="var(",gk="${}",gO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(gO,d=>(rn.test(d)?(r.color.push(a),i.push(Gx),n.push(rn.parse(d))):d.startsWith(yO)?(r.var.push(a),i.push(mO),n.push(d)):(r.number.push(a),i.push($x),n.push(parseFloat(d))),++a,gk)).split(gk);return{values:n,split:c,indexes:r,types:i}}function Yx(t){return Kc(t).values}function Xx(t){const{split:e,types:n}=Kc(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===$x?a+=xc(i[l]):c===Gx?a+=rn.transform(i[l]):a+=i[l]}return a}}const vO=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function wO(t){const e=Yx(t);return Xx(t)(e.map(vO))}const ba={test:hO,parse:Yx,createTransformer:Xx,getAnimatableNone:wO};function Py(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=Py(d,c,t+1/3),a=Py(d,c,t),l=Py(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function mp(t,e){return n=>n>0?e:t}const jt=(t,e,n)=>t+(e-t)*n,Oy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},SO=[Ag,ro,Rl],kO=t=>SO.find(e=>e.test(t));function vk(t){const e=kO(t);if(!e)return!1;let n=e.parse(t);return e===Rl&&(n=bO(n)),n}const wk=(t,e)=>{const n=vk(t),r=vk(e);if(!n||!r)return mp(t,e);const i={...n};return a=>(i.red=Oy(n.red,r.red,a),i.green=Oy(n.green,r.green,a),i.blue=Oy(n.blue,r.blue,a),i.alpha=jt(n.alpha,r.alpha,a),ro.transform(i))},Mg=new Set(["none","hidden"]);function TO(t,e){return Mg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function xO(t,e){return n=>jt(t,e,n)}function Hv(t){return typeof t=="number"?xO:typeof t=="string"?zv(t)?mp:rn.test(t)?wk:AO:Array.isArray(t)?Qx:typeof t=="object"?rn.test(t)?wk:EO:mp}function Qx(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>Hv(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function EO(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Hv(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function CO(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],c=t.values[l]??0;n[i]=c,r[a]++}return n}const AO=(t,e)=>{const n=ba.createTransformer(e),r=Kc(t),i=Kc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Mg.has(t)&&!i.values.length||Mg.has(e)&&!r.values.length?TO(t,e):fd(Qx(CO(r,i),i.values),n):mp(t,e)};function Zx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?jt(t,e,n):Hv(t)(t,e)}const MO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Lt.update(e,n),stop:()=>wa(e),now:()=>An.isProcessing?An.timestamp:nr.now()}},eE=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},yp=2e4;function Fv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<yp;)e+=n,r=t.next(e);return e>=yp?1/0:e}function RO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Fv(r),yp);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:gi(i)}}const DO=5;function tE(t,e,n){const r=Math.max(e-DO,0);return Lx(n-t(r),e-r)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ny=.001;function PO({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:n=Ft.velocity,mass:r=Ft.mass}){let i,a,l=1-e;l=ps(Ft.minDamping,Ft.maxDamping,l),t=ps(Ft.minDuration,Ft.maxDuration,gi(t)),l<1?(i=p=>{const h=p*l,g=h*t,b=h-n,k=Rg(p,l),T=Math.exp(-g);return Ny-b/k*T},a=p=>{const g=p*l*t,b=g*n+n,k=Math.pow(l,2)*Math.pow(p,2)*t,T=Math.exp(-g),A=Rg(Math.pow(p,2),l);return(-i(p)+Ny>0?-1:1)*((b-k)*T)/A}):(i=p=>{const h=Math.exp(-p*t),g=(p-n)*t+1;return-Ny+h*g},a=p=>{const h=Math.exp(-p*t),g=(n-p)*(t*t);return h*g});const c=5/t,d=NO(i,a,c);if(t=yi(t),isNaN(d))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const OO=12;function NO(t,e,n){let r=n;for(let i=1;i<OO;i++)r=r-t(r)/e(r);return r}function Rg(t,e){return t*Math.sqrt(1-e*e)}const LO=["duration","bounce"],_O=["stiffness","damping","mass"];function bk(t,e){return e.some(n=>t[n]!==void 0)}function BO(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!bk(t,_O)&&bk(t,LO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ps(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ft.mass,stiffness:i,damping:a}}else{const n=PO(t);e={...e,...n,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function gp(t=Ft.visualDuration,e=Ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:h,duration:g,velocity:b,isResolvedFromDuration:k}=BO({...n,velocity:-gi(n.velocity||0)}),T=b||0,A=p/(2*Math.sqrt(d*h)),D=l-a,P=gi(Math.sqrt(d/h)),z=Math.abs(D)<5;r||(r=z?Ft.restSpeed.granular:Ft.restSpeed.default),i||(i=z?Ft.restDelta.granular:Ft.restDelta.default);let $;if(A<1){const Y=Rg(P,A);$=ue=>{const pe=Math.exp(-A*P*ue);return l-pe*((T+A*P*D)/Y*Math.sin(Y*ue)+D*Math.cos(Y*ue))}}else if(A===1)$=Y=>l-Math.exp(-P*Y)*(D+(T+P*D)*Y);else{const Y=P*Math.sqrt(A*A-1);$=ue=>{const pe=Math.exp(-A*P*ue),de=Math.min(Y*ue,300);return l-pe*((T+A*P*D)*Math.sinh(de)+Y*D*Math.cosh(de))/Y}}const ae={calculatedDuration:k&&g||null,next:Y=>{const ue=$(Y);if(k)c.done=Y>=g;else{let pe=Y===0?T:0;A<1&&(pe=Y===0?yi(T):tE($,Y,ue));const de=Math.abs(pe)<=r,Ae=Math.abs(l-ue)<=i;c.done=de&&Ae}return c.value=c.done?l:ue,c},toString:()=>{const Y=Math.min(Fv(ae),yp),ue=eE(pe=>ae.next(Y*pe).value,Y,30);return Y+"ms "+ue},toTransition:()=>{}};return ae}gp.applyToOptions=t=>{const e=RO(t,100,gp);return t.ease=e.ease,t.duration=yi(e.duration),t.type="keyframes",t};function Dg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:h}){const g=t[0],b={done:!1,value:g},k=de=>c!==void 0&&de<c||d!==void 0&&de>d,T=de=>c===void 0?d:d===void 0||Math.abs(c-de)<Math.abs(d-de)?c:d;let A=n*e;const D=g+A,P=l===void 0?D:l(D);P!==D&&(A=P-g);const z=de=>-A*Math.exp(-de/r),$=de=>P+z(de),ae=de=>{const Ae=z(de),Ne=$(de);b.done=Math.abs(Ae)<=p,b.value=b.done?P:Ne};let Y,ue;const pe=de=>{k(b.value)&&(Y=de,ue=gp({keyframes:[b.value,T(b.value)],velocity:tE($,de,b.value),damping:i,stiffness:a,restDelta:p,restSpeed:h}))};return pe(0),{calculatedDuration:null,next:de=>{let Ae=!1;return!ue&&Y===void 0&&(Ae=!0,ae(de),pe(de)),Y!==void 0&&de>=Y?ue.next(de-Y):(!Ae&&ae(de),b)}}}function IO(t,e,n){const r=[],i=n||hs.mix||Zx,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Ir:e;c=fd(d,c)}r.push(c)}return r}function jO(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Nv(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=IO(e,r,i),d=c.length,p=h=>{if(l&&h<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(h<t[g+1]);g++);const b=Hc(t[g],t[g+1],h);return c[g](b)};return n?h=>p(ps(t[0],t[a-1],h)):p}function zO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Hc(0,e,r);t.push(jt(n,1,i))}}function VO(t){const e=[0];return zO(e,t.length-1),e}function UO(t,e){return t.map(n=>n*e)}function HO(t,e){return t.map(()=>e||Fx).splice(0,t.length-1)}function Ec({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ZP(r)?r.map(mk):mk(r),a={done:!1,value:e[0]},l=UO(n&&n.length===e.length?n:VO(e),t),c=jO(l,e,{ease:Array.isArray(i)?i:HO(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const FO=t=>t!==null;function Kv(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(FO),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const KO={decay:Dg,inertia:Dg,tween:Ec,keyframes:Ec,spring:gp};function nE(t){typeof t.type=="string"&&(t.type=KO[t.type])}class qv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const qO=t=>t/100;class Wv extends qv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==nr.now()&&this.tick(nr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nE(e);const{type:n=Ec,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const d=n||Ec;d!==Ec&&typeof c[0]!="number"&&(this.mixKeyframes=fd(qO,Zx(c[0],c[1])),c=[0,100]);const p=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Fv(p));const{calculatedDuration:h}=p;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:h,repeat:g,repeatType:b,repeatDelay:k,type:T,onUpdate:A,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const P=this.currentTime-p*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?P<0:P>i;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let $=this.currentTime,ae=r;if(g){const de=Math.min(this.currentTime,i)/c;let Ae=Math.floor(de),Ne=de%1;!Ne&&de>=1&&(Ne=1),Ne===1&&Ae--,Ae=Math.min(Ae,g+1),!!(Ae%2)&&(b==="reverse"?(Ne=1-Ne,k&&(Ne-=k/c)):b==="mirror"&&(ae=l)),$=ps(0,1,Ne)*c}const Y=z?{done:!1,value:h[0]}:ae.next($);a&&(Y.value=a(Y.value));let{done:ue}=Y;!z&&d!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const pe=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return pe&&T!==Dg&&(Y.value=Kv(h,this.options,D,this.speed)),A&&A(Y.value),pe&&this.finish(),Y}then(e,n){return this.finished.then(e,n)}get duration(){return gi(this.calculatedDuration)}get time(){return gi(this.currentTime)}set time(e){e=yi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(nr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=MO,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function WO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const io=t=>t*180/Math.PI,Pg=t=>{const e=io(Math.atan2(t[1],t[0]));return Og(e)},JO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Pg,rotateZ:Pg,skewX:t=>io(Math.atan(t[1])),skewY:t=>io(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Og=t=>(t=t%360,t<0&&(t+=360),t),Sk=Pg,kk=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Tk=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$O={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kk,scaleY:Tk,scale:t=>(kk(t)+Tk(t))/2,rotateX:t=>Og(io(Math.atan2(t[6],t[5]))),rotateY:t=>Og(io(Math.atan2(-t[2],t[0]))),rotateZ:Sk,rotate:Sk,skewX:t=>io(Math.atan(t[4])),skewY:t=>io(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ng(t){return t.includes("scale")?1:0}function Lg(t,e){if(!t||t==="none")return Ng(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=$O,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JO,i=c}if(!i)return Ng(e);const a=r[e],l=i[1].split(",").map(YO);return typeof a=="function"?a(l):l[a]}const GO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Lg(n,e)};function YO(t){return parseFloat(t.trim())}const Yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xl=new Set(Yl),xk=t=>t===Gl||t===We,XO=new Set(["x","y","z"]),QO=Yl.filter(t=>!XO.has(t));function ZO(t){const e=[];return QO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const co={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Lg(e,"x"),y:(t,{transform:e})=>Lg(e,"y")};co.translateX=co.x;co.translateY=co.y;const fo=new Set;let _g=!1,Bg=!1,Ig=!1;function rE(){if(Bg){const t=Array.from(fo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=ZO(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bg=!1,_g=!1,fo.forEach(t=>t.complete(Ig)),fo.clear()}function iE(){fo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bg=!0)})}function eN(){Ig=!0,iE(),rE(),Ig=!1}class Jv{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(fo.add(this),_g||(_g=!0,Lt.read(iE),Lt.resolveKeyframes(rE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}WO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fo.delete(this)}cancel(){this.state==="scheduled"&&(fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tN=t=>t.startsWith("--");function nN(t,e,n){tN(e)?t.style.setProperty(e,n):t.style[e]=n}const rN=Lv(()=>window.ScrollTimeline!==void 0),iN={};function sN(t,e){const n=Lv(t);return()=>iN[e]??n()}const sE=sN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ek={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vc([0,.65,.55,1]),circOut:vc([.55,0,1,.45]),backIn:vc([.31,.01,.66,-.59]),backOut:vc([.33,1.53,.69,.99])};function aE(t,e){if(t)return typeof t=="function"?sE()?eE(t,e):"ease-out":Kx(t)?vc(t):Array.isArray(t)?t.map(n=>aE(n,e)||Ek.easeOut):Ek[t]}function aN(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:d}={},p=void 0){const h={[e]:n};d&&(h.offset=d);const g=aE(c,i);Array.isArray(g)&&(h.easing=g);const b={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(h,b)}function oE(t){return typeof t=="function"&&"applyToOptions"in t}function oN({type:t,...e}){return oE(t)&&sE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class lN extends qv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Nv(typeof e.type!="string");const p=oN(e);this.animation=aN(n,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=Kv(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):nN(n,r,h),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gi(Number(e))}get time(){return gi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=yi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&rN()?(this.animation.timeline=e,Ir):n(this)}}const lE={anticipate:Vx,backInOut:zx,circInOut:Hx};function uN(t){return t in lE}function cN(t){typeof t.ease=="string"&&uN(t.ease)&&(t.ease=lE[t.ease])}const Ck=10;class dN extends lN{constructor(e){cN(e),nE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Wv({...l,autoplay:!1}),d=yi(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-Ck).value,c.sample(d).value,Ck),c.stop()}}const Ak=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ba.test(t)||t==="0")&&!t.startsWith("url("));function fN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function pN(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Ak(i,e),c=Ak(a,e);return!l||!c?!1:fN(t)||(n==="spring"||oE(n))&&r}const hN=new Set(["opacity","clipPath","filter","transform"]),mN=Lv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yN(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return mN()&&n&&hN.has(n)&&(n!=="transform"||!p)&&!d&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const gN=40;class vN extends qv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:d,motionValue:p,element:h,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=nr.now();const b={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:d,motionValue:p,element:h,...g},k=h?.KeyframeResolver||Jv;this.keyframeResolver=new k(c,(T,A,D)=>this.onKeyframesResolved(T,A,b,!D),d,p,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:d,isHandoff:p,onUpdate:h}=r;this.resolvedAt=nr.now(),pN(e,a,l,c)||((hs.instantAnimations||!d)&&h?.(Kv(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>gN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},k=!p&&yN(b)?new dN({...b,element:b.motionValue.owner.current}):new Wv(b);k.finished.then(()=>this.notifyFinished()).catch(Ir),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bN(t){const e=wN.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function uE(t,e,n=1){const[r,i]=bN(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return Px(l)?parseFloat(l):l}return zv(i)?uE(i,e,n+1):i}function $v(t,e){return t?.[e]??t?.default??t}const cE=new Set(["width","height","top","left","right","bottom",...Yl]),SN={test:t=>t==="auto",parse:t=>t},dE=t=>e=>e.test(t),fE=[Gl,We,vi,ia,fO,dO,SN],Mk=t=>fE.find(dE(t));function kN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Nx(t):!0}const TN=new Set(["brightness","contrast","saturate","opacity"]);function xN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Vv)||[];if(!r)return t;const i=n.replace(r,"");let a=TN.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const EN=/\b([a-z-]*)\(.*?\)/gu,jg={...ba,getAnimatableNone:t=>{const e=t.match(EN);return e?e.map(xN).join(" "):t}},Rk={...Gl,transform:Math.round},CN={rotate:ia,rotateX:ia,rotateY:ia,rotateZ:ia,scale:zf,scaleX:zf,scaleY:zf,scaleZ:zf,skew:ia,skewX:ia,skewY:ia,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:Fc,originX:yk,originY:yk,originZ:We},Gv={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...CN,zIndex:Rk,fillOpacity:Fc,strokeOpacity:Fc,numOctaves:Rk},AN={...Gv,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:jg,WebkitFilter:jg},pE=t=>AN[t];function hE(t,e){let n=pE(t);return n!==jg&&(n=ba),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MN=new Set(["auto","none","0"]);function RN(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!MN.has(a)&&Kc(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=hE(n,i)}class DN extends Jv{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),zv(p))){const h=uE(p,n.current);h!==void 0&&(e[d]=h),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!cE.has(r)||e.length!==2)return;const[i,a]=e,l=Mk(i),c=Mk(a);if(l!==c)if(xk(l)&&xk(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else co[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||kN(e[i]))&&r.push(i);r.length&&RN(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=co[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=co[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function PN(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const mE=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function yE(t){return Ox(t)&&"offsetHeight"in t}const Dk=30,ON=t=>!isNaN(parseFloat(t));class NN{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=nr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=nr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ON(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _v);const r=this.events[e].add(n);return e==="change"?()=>{r(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Dk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Dk);return Lx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Il(t,e){return new NN(t,e)}const{schedule:Yv}=qx(queueMicrotask,!1),qr={x:!1,y:!1};function gE(){return qr.x||qr.y}function LN(t){return t==="x"||t==="y"?qr[t]?null:(qr[t]=!0,()=>{qr[t]=!1}):qr.x||qr.y?null:(qr.x=qr.y=!0,()=>{qr.x=qr.y=!1})}function vE(t,e){const n=PN(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Pk(t){return!(t.pointerType==="touch"||gE())}function _N(t,e,n={}){const[r,i,a]=vE(t,n),l=c=>{if(!Pk(c))return;const{target:d}=c,p=e(d,c);if(typeof p!="function"||!d)return;const h=g=>{Pk(g)&&(p(g),d.removeEventListener("pointerleave",h))};d.addEventListener("pointerleave",h,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const wE=(t,e)=>e?t===e?!0:wE(t,e.parentElement):!1,Xv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IN(t){return BN.has(t.tagName)||t.tabIndex!==-1}const np=new WeakSet;function Ok(t){return e=>{e.key==="Enter"&&t(e)}}function Ly(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jN=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Ok(()=>{if(np.has(n))return;Ly(n,"down");const i=Ok(()=>{Ly(n,"up")}),a=()=>Ly(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Nk(t){return Xv(t)&&!gE()}function zN(t,e,n={}){const[r,i,a]=vE(t,n),l=c=>{const d=c.currentTarget;if(!Nk(c))return;np.add(d);const p=e(d,c),h=(k,T)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),np.has(d)&&np.delete(d),Nk(k)&&typeof p=="function"&&p(k,{success:T})},g=k=>{h(k,d===window||d===document||n.useGlobalTarget||wE(d,k.target))},b=k=>{h(k,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",b,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),yE(c)&&(c.addEventListener("focus",p=>jN(p,i)),!IN(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function bE(t){return Ox(t)&&"ownerSVGElement"in t}function VN(t){return bE(t)&&t.tagName==="svg"}const jn=t=>!!(t&&t.getVelocity),UN=[...fE,rn,ba],HN=t=>UN.find(dE(t)),Qv=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class FN extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=yE(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KN({children:t,isPresent:e,anchorX:n,root:r}){const i=I.useId(),a=I.useRef(null),l=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=I.useContext(Qv);return I.useInsertionEffect(()=>{const{width:d,height:p,top:h,left:g,right:b}=l.current;if(e||!a.current||!d||!p)return;const k=n==="left"?`left: ${g}`:`right: ${b}`;a.current.dataset.motionPopId=i;const T=document.createElement("style");c&&(T.nonce=c);const A=r??document.head;return A.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            ${k}px !important;
            top: ${h}px !important;
          }
        `),()=>{A.removeChild(T),A.contains(T)&&A.removeChild(T)}},[e]),ne.jsx(FN,{isPresent:e,childRef:a,sizeRef:l,children:I.cloneElement(t,{ref:a})})}const qN=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:c,root:d})=>{const p=Rv(WN),h=I.useId();let g=!0,b=I.useMemo(()=>(g=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:k=>{p.set(k,!0);for(const T of p.values())if(!T)return;r&&r()},register:k=>(p.set(k,!1),()=>p.delete(k))}),[n,p,r]);return a&&g&&(b={...b}),I.useMemo(()=>{p.forEach((k,T)=>p.set(T,!1))},[n]),I.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=ne.jsx(KN,{isPresent:n,anchorX:c,root:d,children:t})),ne.jsx(fh.Provider,{value:b,children:t})};function WN(){return new Map}function SE(t=!0){const e=I.useContext(fh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=I.useId();I.useEffect(()=>{if(t)return i(a)},[t]);const l=I.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Vf=t=>t.key||"";function Lk(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const _y=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[p,h]=SE(l),g=I.useMemo(()=>Lk(t),[t]),b=l&&!p?[]:g.map(Vf),k=I.useRef(!0),T=I.useRef(g),A=Rv(()=>new Map),[D,P]=I.useState(g),[z,$]=I.useState(g);Dx(()=>{k.current=!1,T.current=g;for(let ue=0;ue<z.length;ue++){const pe=Vf(z[ue]);b.includes(pe)?A.delete(pe):A.get(pe)!==!0&&A.set(pe,!1)}},[z,b.length,b.join("-")]);const ae=[];if(g!==D){let ue=[...g];for(let pe=0;pe<z.length;pe++){const de=z[pe],Ae=Vf(de);b.includes(Ae)||(ue.splice(pe,0,de),ae.push(de))}return a==="wait"&&ae.length&&(ue=ae),$(Lk(ue)),P(g),null}const{forceRender:Y}=I.useContext(Mv);return ne.jsx(ne.Fragment,{children:z.map(ue=>{const pe=Vf(ue),de=l&&!p?!1:g===z||b.includes(pe),Ae=()=>{if(A.has(pe))A.set(pe,!0);else return;let Ne=!0;A.forEach(dt=>{dt||(Ne=!1)}),Ne&&(Y?.(),$(T.current),l&&h?.(),r&&r())};return ne.jsx(qN,{isPresent:de,initial:!k.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:de?void 0:Ae,anchorX:c,children:ue},pe)})})},kE=I.createContext({strict:!1}),_k={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jl={};for(const t in _k)jl[t]={isEnabled:e=>_k[t].some(n=>!!e[n])};function JN(t){for(const e in t)jl[e]={...jl[e],...t[e]}}const $N=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$N.has(t)}let TE=t=>!vp(t);function GN(t){typeof t=="function"&&(TE=e=>e.startsWith("on")?!vp(e):t(e))}try{GN(require("@emotion/is-prop-valid").default)}catch{}function YN(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(TE(i)||n===!0&&vp(i)||!e&&!vp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const ph=I.createContext({});function hh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qc(t){return typeof t=="string"||Array.isArray(t)}const Zv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ew=["initial",...Zv];function mh(t){return hh(t.animate)||ew.some(e=>qc(t[e]))}function xE(t){return!!(mh(t)||t.variants)}function XN(t,e){if(mh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||qc(n)?n:void 0,animate:qc(r)?r:void 0}}return t.inherit!==!1?e:{}}function QN(t){const{initial:e,animate:n}=XN(t,I.useContext(ph));return I.useMemo(()=>({initial:e,animate:n}),[Bk(e),Bk(n)])}function Bk(t){return Array.isArray(t)?t.join(" "):t}const Wc={};function ZN(t){for(const e in t)Wc[e]=t[e],jv(e)&&(Wc[e].isCSSVariable=!0)}function EE(t,{layout:e,layoutId:n}){return Xl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wc[t]||t==="opacity")}const eL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tL=Yl.length;function nL(t,e,n){let r="",i=!0;for(let a=0;a<tL;a++){const l=Yl[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const p=mE(c,Gv[l]);if(!d){i=!1;const h=eL[l]||l;r+=`${h}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function tw(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const p=e[d];if(Xl.has(d)){l=!0;continue}else if(jv(d)){i[d]=p;continue}else{const h=mE(p,Gv[d]);d.startsWith("origin")?(c=!0,a[d]=h):r[d]=h}}if(e.transform||(l||n?r.transform=nL(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:h=0}=a;r.transformOrigin=`${d} ${p} ${h}`}}const nw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CE(t,e,n){for(const r in e)!jn(e[r])&&!EE(r,n)&&(t[r]=e[r])}function rL({transformTemplate:t},e){return I.useMemo(()=>{const n=nw();return tw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iL(t,e){const n=t.style||{},r={};return CE(r,n,t),Object.assign(r,rL(t,e)),r}function sL(t,e){const n={},r=iL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const aL={offset:"stroke-dashoffset",array:"stroke-dasharray"},oL={offset:"strokeDashoffset",array:"strokeDasharray"};function lL(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?aL:oL;t[a.offset]=We.transform(-r);const l=We.transform(e),c=We.transform(n);t[a.array]=`${l} ${c}`}function AE(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,p,h){if(tw(t,c,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:b}=t;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=h?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&lL(g,i,a,l,!1)}const ME=()=>({...nw(),attrs:{}}),RE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function uL(t,e,n,r){const i=I.useMemo(()=>{const a=ME();return AE(a,e,RE(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};CE(a,t.style,t),i.style={...a,...i.style}}return i}const cL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rw(t){return typeof t!="string"||t.includes("-")?!1:!!(cL.indexOf(t)>-1||/[A-Z]/u.test(t))}function dL(t,e,n,{latestValues:r},i,a=!1){const c=(rw(t)?uL:sL)(e,r,i,t),d=YN(e,typeof t=="string",a),p=t!==I.Fragment?{...d,...c,ref:n}:{},{children:h}=e,g=I.useMemo(()=>jn(h)?h.get():h,[h]);return I.createElement(t,{...p,children:g})}function Ik(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function iw(t,e,n,r){if(typeof e=="function"){const[i,a]=Ik(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Ik(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function rp(t){return jn(t)?t.get():t}function fL({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:pL(n,r,i,t),renderState:e()}}function pL(t,e,n,r){const i={},a=r(t,{});for(const b in a)i[b]=rp(a[b]);let{initial:l,animate:c}=t;const d=mh(t),p=xE(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let h=n?n.initial===!1:!1;h=h||l===!1;const g=h?c:l;if(g&&typeof g!="boolean"&&!hh(g)){const b=Array.isArray(g)?g:[g];for(let k=0;k<b.length;k++){const T=iw(t,b[k]);if(T){const{transitionEnd:A,transition:D,...P}=T;for(const z in P){let $=P[z];if(Array.isArray($)){const ae=h?$.length-1:0;$=$[ae]}$!==null&&(i[z]=$)}for(const z in A)i[z]=A[z]}}}return i}const DE=t=>(e,n)=>{const r=I.useContext(ph),i=I.useContext(fh),a=()=>fL(t,e,r,i);return n?a():Rv(a)};function sw(t,e,n){const{style:r}=t,i={};for(const a in r)(jn(r[a])||e.style&&jn(e.style[a])||EE(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const hL=DE({scrapeMotionValuesFromProps:sw,createRenderState:nw});function PE(t,e,n){const r=sw(t,e,n);for(const i in t)if(jn(t[i])||jn(e[i])){const a=Yl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const mL=DE({scrapeMotionValuesFromProps:PE,createRenderState:ME}),yL=Symbol.for("motionComponentSymbol");function Dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gL(t,e,n){return I.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Dl(n)&&(n.current=r))},[e])}const aw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vL="framerAppearId",OE="data-"+aw(vL),NE=I.createContext({});function wL(t,e,n,r,i){const{visualElement:a}=I.useContext(ph),l=I.useContext(kE),c=I.useContext(fh),d=I.useContext(Qv).reducedMotion,p=I.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=p.current,g=I.useContext(NE);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&bL(p.current,n,i,g);const b=I.useRef(!1);I.useInsertionEffect(()=>{h&&b.current&&h.update(n,c)});const k=n[OE],T=I.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return Dx(()=>{h&&(b.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),T.current&&h.animationState&&h.animationState.animateChanges())}),I.useEffect(()=>{h&&(!T.current&&h.animationState&&h.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),T.current=!1))}),h}function bL(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:LE(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&Dl(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:d,layoutRoot:p})}function LE(t){if(t)return t.options.allowProjection!==!1?t.projection:LE(t.parent)}function By(t,{forwardMotionProps:e=!1}={},n,r){n&&JN(n);const i=rw(t)?mL:hL;function a(c,d){let p;const h={...I.useContext(Qv),...c,layoutId:SL(c)},{isStatic:g}=h,b=QN(c),k=i(c,g);if(!g&&Dv){kL();const T=TL(h);p=T.MeasureLayout,b.visualElement=wL(t,k,h,r,T.ProjectionNode)}return ne.jsxs(ph.Provider,{value:b,children:[p&&b.visualElement?ne.jsx(p,{visualElement:b.visualElement,...h}):null,dL(t,c,gL(k,b.visualElement,d),k,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=I.forwardRef(a);return l[yL]=t,l}function SL({layoutId:t}){const e=I.useContext(Mv).id;return e&&t!==void 0?e+"-"+t:t}function kL(t,e){I.useContext(kE).strict}function TL(t){const{drag:e,layout:n}=jl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function xL(t,e){if(typeof Proxy>"u")return By;const n=new Map,r=(a,l)=>By(a,l,t,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,By(l,void 0,t,e)),n.get(l))})}function _E({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function EL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Iy(t){return t===void 0||t===1}function zg({scale:t,scaleX:e,scaleY:n}){return!Iy(t)||!Iy(e)||!Iy(n)}function to(t){return zg(t)||BE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BE(t){return jk(t.x)||jk(t.y)}function jk(t){return t&&t!=="0%"}function wp(t,e,n){const r=t-n,i=e*r;return n+i}function zk(t,e,n,r,i){return i!==void 0&&(t=wp(t,i,r)),wp(t,n,r)+e}function Vg(t,e=0,n=1,r,i){t.min=zk(t.min,e,n,r,i),t.max=zk(t.max,e,n,r,i)}function IE(t,{x:e,y:n}){Vg(t.x,e.translate,e.scale,e.originPoint),Vg(t.y,n.translate,n.scale,n.originPoint)}const Vk=.999999999999,Uk=1.0000000000001;function AL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ol(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,IE(t,l)),r&&to(a.latestValues)&&Ol(t,a.latestValues))}e.x<Uk&&e.x>Vk&&(e.x=1),e.y<Uk&&e.y>Vk&&(e.y=1)}function Pl(t,e){t.min=t.min+e,t.max=t.max+e}function Hk(t,e,n,r,i=.5){const a=jt(t.min,t.max,i);Vg(t,e,n,a,r)}function Ol(t,e){Hk(t.x,e.x,e.scaleX,e.scale,e.originX),Hk(t.y,e.y,e.scaleY,e.scale,e.originY)}function jE(t,e){return _E(CL(t.getBoundingClientRect(),e))}function ML(t,e,n){const r=jE(t,n),{scroll:i}=e;return i&&(Pl(r.x,i.offset.x),Pl(r.y,i.offset.y)),r}const Fk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nl=()=>({x:Fk(),y:Fk()}),Kk=()=>({min:0,max:0}),Xt=()=>({x:Kk(),y:Kk()}),Ug={current:null},zE={current:!1};function RL(){if(zE.current=!0,!!Dv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ug.current=t.matches;t.addEventListener("change",e),e()}else Ug.current=!1}const DL=new WeakMap;function PL(t,e,n){for(const r in e){const i=e[r],a=n[r];if(jn(i))t.addValue(r,i);else if(jn(a))t.addValue(r,Il(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Il(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const qk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OL{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=nr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Lt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=mh(n),this.isVariantNode=xE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in g){const k=g[b];d[b]!==void 0&&jn(k)&&k.set(d[b],!1)}}mount(e){this.current=e,DL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zE.current||RL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ug.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wa(this.notifyUpdate),wa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Xl.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jl){const n=jl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qk.length;r++){const i=qk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=PL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Il(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Px(r)||Nx(r))?r=parseFloat(r):!HN(r)&&ba.test(n)&&(r=hE(e,n)),this.setBaseTarget(e,jn(r)?r.get():r)),jn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=iw(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!jn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _v),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Yv.render(this.render)}}class VE extends OL{constructor(){super(...arguments),this.KeyframeResolver=DN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function UE(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function NL(t){return window.getComputedStyle(t)}class LL extends VE{constructor(){super(...arguments),this.type="html",this.renderInstance=UE}readValueFromInstance(e,n){if(Xl.has(n))return this.projection?.isProjecting?Ng(n):GO(e,n);{const r=NL(e),i=(jv(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jE(e,n)}build(e,n,r){tw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return sw(e,n,r)}}const HE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _L(t,e,n,r){UE(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(HE.has(i)?i:aw(i),e.attrs[i])}class BL extends VE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xl.has(n)){const r=pE(n);return r&&r.default||0}return n=HE.has(n)?n:aw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return PE(e,n,r)}build(e,n,r){AE(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){_L(e,n,r,i)}mount(e){this.isSVGTag=RE(e.tagName),super.mount(e)}}const IL=(t,e)=>rw(t)?new BL(e):new LL(e,{allowProjection:t!==I.Fragment});function Jc(t,e,n){const r=t.getProps();return iw(r,e,n!==void 0?n:r.custom,t)}const Hg=t=>Array.isArray(t);function jL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Il(n))}function zL(t){return Hg(t)?t[t.length-1]||0:t}function VL(t,e){const n=Jc(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=zL(a[l]);jL(t,l,c)}}function UL(t){return!!(jn(t)&&t.add)}function Fg(t,e){const n=t.getValue("willChange");if(UL(n))return n.add(e);if(!n&&hs.WillChange){const r=new hs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function FE(t){return t.props[OE]}const HL=t=>t!==null;function FL(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(HL),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const KL={type:"spring",stiffness:500,damping:25,restSpeed:10},qL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WL={type:"keyframes",duration:.8},JL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$L=(t,{keyframes:e})=>e.length>2?WL:Xl.has(t)?t.startsWith("scale")?qL(e[1]):KL:JL;function GL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...h}){return!!Object.keys(h).length}const ow=(t,e,n,r={},i,a)=>l=>{const c=$v(r,t)||{},d=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-yi(d);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:b=>{e.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};GL(c)||Object.assign(h,$L(t,h)),h.duration&&(h.duration=yi(h.duration)),h.repeatDelay&&(h.repeatDelay=yi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(g=!0)),(hs.instantAnimations||hs.skipAnimations)&&(g=!0,h.duration=0,h.delay=0),h.allowFlatten=!c.type&&!c.ease,g&&!a&&e.get()!==void 0){const b=FL(h.keyframes,c);if(b!==void 0){Lt.update(()=>{h.onUpdate(b),h.onComplete()});return}}return c.isSync?new Wv(h):new vN(h)};function YL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function KE(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const d=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const g=t.getValue(h,t.latestValues[h]??null),b=c[h];if(b===void 0||p&&YL(p,h))continue;const k={delay:n,...$v(a||{},h)},T=g.get();if(T!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===T&&!k.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const P=FE(t);if(P){const z=window.MotionHandoffAnimation(P,h,Lt);z!==null&&(k.startTime=z,A=!0)}}Fg(t,h),g.start(ow(h,g,b,t.shouldReduceMotion&&cE.has(h)?{type:!1}:k,t,A));const D=g.animation;D&&d.push(D)}return l&&Promise.all(d).then(()=>{Lt.update(()=>{l&&VL(t,l)})}),d}function Kg(t,e,n={}){const r=Jc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(KE(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:h,staggerDirection:g}=i;return XL(t,e,d,p,h,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,p]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function XL(t,e,n=0,r=0,i=0,a=1,l){const c=[],d=t.variantChildren.size,p=(d-1)*i,h=typeof r=="function",g=h?b=>r(b,d):a===1?(b=0)=>b*i:(b=0)=>p-b*i;return Array.from(t.variantChildren).sort(QL).forEach((b,k)=>{b.notify("AnimationStart",e),c.push(Kg(b,e,{...l,delay:n+(h?0:r)+g(k)}).then(()=>b.notify("AnimationComplete",e)))}),Promise.all(c)}function QL(t,e){return t.sortNodePosition(e)}function ZL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Kg(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Kg(t,e,n);else{const i=typeof e=="function"?Jc(t,e,n.custom):e;r=Promise.all(KE(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function qE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const e_=ew.length;function WE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?WE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<e_;n++){const r=ew[n],i=t.props[r];(qc(i)||i===!1)&&(e[r]=i)}return e}const t_=[...Zv].reverse(),n_=Zv.length;function r_(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ZL(t,n,r)))}function i_(t){let e=r_(t),n=Wk(),r=!0;const i=d=>(p,h)=>{const g=Jc(t,h,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:b,transitionEnd:k,...T}=g;p={...p,...T,...k}}return p};function a(d){e=d(t)}function l(d){const{props:p}=t,h=WE(t.parent)||{},g=[],b=new Set;let k={},T=1/0;for(let D=0;D<n_;D++){const P=t_[D],z=n[P],$=p[P]!==void 0?p[P]:h[P],ae=qc($),Y=P===d?z.isActive:null;Y===!1&&(T=D);let ue=$===h[P]&&$!==p[P]&&ae;if(ue&&r&&t.manuallyAnimateOnMount&&(ue=!1),z.protectedKeys={...k},!z.isActive&&Y===null||!$&&!z.prevProp||hh($)||typeof $=="boolean")continue;const pe=s_(z.prevProp,$);let de=pe||P===d&&z.isActive&&!ue&&ae||D>T&&ae,Ae=!1;const Ne=Array.isArray($)?$:[$];let dt=Ne.reduce(i(P),{});Y===!1&&(dt={});const{prevResolvedValues:ft={}}=z,pt={...ft,...dt},wt=me=>{de=!0,b.has(me)&&(Ae=!0,b.delete(me)),z.needsAnimating[me]=!0;const Me=t.getValue(me);Me&&(Me.liveStyle=!1)};for(const me in pt){const Me=dt[me],Ye=ft[me];if(k.hasOwnProperty(me))continue;let B=!1;Hg(Me)&&Hg(Ye)?B=!qE(Me,Ye):B=Me!==Ye,B?Me!=null?wt(me):b.add(me):Me!==void 0&&b.has(me)?wt(me):z.protectedKeys[me]=!0}z.prevProp=$,z.prevResolvedValues=dt,z.isActive&&(k={...k,...dt}),r&&t.blockInitialAnimation&&(de=!1),de&&(!(ue&&pe)||Ae)&&g.push(...Ne.map(me=>({animation:me,options:{type:P}})))}if(b.size){const D={};if(typeof p.initial!="boolean"){const P=Jc(t,Array.isArray(p.initial)?p.initial[0]:p.initial);P&&P.transition&&(D.transition=P.transition)}b.forEach(P=>{const z=t.getBaseTarget(P),$=t.getValue(P);$&&($.liveStyle=!0),D[P]=z??null}),g.push({animation:D})}let A=!!g.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(g):Promise.resolve()}function c(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,p)),n[d].isActive=p;const h=l(d);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Wk(),r=!0}}}function s_(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qE(e,t):!1}function Za(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wk(){return{animate:Za(!0),whileInView:Za(),whileHover:Za(),whileTap:Za(),whileDrag:Za(),whileFocus:Za(),exit:Za()}}class xa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class a_ extends xa{constructor(e){super(e),e.animationState||(e.animationState=i_(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let o_=0;class l_ extends xa{constructor(){super(...arguments),this.id=o_++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const u_={animation:{Feature:a_},exit:{Feature:l_}};function $c(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function md(t){return{point:{x:t.pageX,y:t.pageY}}}const c_=t=>e=>Xv(e)&&t(e,md(e));function Cc(t,e,n,r){return $c(t,e,c_(n),r)}const JE=1e-4,d_=1-JE,f_=1+JE,$E=.01,p_=0-$E,h_=0+$E;function Jn(t){return t.max-t.min}function m_(t,e,n){return Math.abs(t-e)<=n}function Jk(t,e,n,r=.5){t.origin=r,t.originPoint=jt(e.min,e.max,t.origin),t.scale=Jn(n)/Jn(e),t.translate=jt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=d_&&t.scale<=f_||isNaN(t.scale))&&(t.scale=1),(t.translate>=p_&&t.translate<=h_||isNaN(t.translate))&&(t.translate=0)}function Ac(t,e,n,r){Jk(t.x,e.x,n.x,r?r.originX:void 0),Jk(t.y,e.y,n.y,r?r.originY:void 0)}function $k(t,e,n){t.min=n.min+e.min,t.max=t.min+Jn(e)}function y_(t,e,n){$k(t.x,e.x,n.x),$k(t.y,e.y,n.y)}function Gk(t,e,n){t.min=e.min-n.min,t.max=t.min+Jn(e)}function Mc(t,e,n){Gk(t.x,e.x,n.x),Gk(t.y,e.y,n.y)}function Nr(t){return[t("x"),t("y")]}const GE=({current:t})=>t?t.ownerDocument.defaultView:null,Yk=(t,e)=>Math.abs(t-e);function g_(t,e){const n=Yk(t.x,e.x),r=Yk(t.y,e.y);return Math.sqrt(n**2+r**2)}class YE{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=zy(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,T=g_(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!T)return;const{point:A}=b,{timestamp:D}=An;this.history.push({...A,timestamp:D});const{onStart:P,onMove:z}=this.handlers;k||(P&&P(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,b)},this.handlePointerMove=(b,k)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=jy(k,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(b,k)=>{this.end();const{onEnd:T,onSessionEnd:A,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=zy(b.type==="pointercancel"?this.lastMoveEventInfo:jy(k,this.transformPagePoint),this.history);this.startEvent&&T&&T(b,P),A&&A(b,P)},!Xv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const c=md(e),d=jy(c,this.transformPagePoint),{point:p}=d,{timestamp:h}=An;this.history=[{...p,timestamp:h}];const{onSessionStart:g}=n;g&&g(e,zy(d,this.history)),this.removeListeners=fd(Cc(this.contextWindow,"pointermove",this.handlePointerMove),Cc(this.contextWindow,"pointerup",this.handlePointerUp),Cc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wa(this.updatePoint)}}function jy(t,e){return e?{point:e(t.point)}:t}function Xk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zy({point:t},e){return{point:t,delta:Xk(t,XE(e)),offset:Xk(t,v_(e)),velocity:w_(e,.1)}}function v_(t){return t[0]}function XE(t){return t[t.length-1]}function w_(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=XE(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>yi(e)));)n--;if(!r)return{x:0,y:0};const a=gi(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function b_(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?jt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?jt(n,t,r.max):Math.min(t,n)),t}function Qk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function S_(t,{top:e,left:n,bottom:r,right:i}){return{x:Qk(t.x,n,i),y:Qk(t.y,e,r)}}function Zk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function k_(t,e){return{x:Zk(t.x,e.x),y:Zk(t.y,e.y)}}function T_(t,e){let n=.5;const r=Jn(t),i=Jn(e);return i>r?n=Hc(e.min,e.max-r,t.min):r>i&&(n=Hc(t.min,t.max-i,e.min)),ps(0,1,n)}function x_(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qg=.35;function E_(t=qg){return t===!1?t=0:t===!0&&(t=qg),{x:e1(t,"left","right"),y:e1(t,"top","bottom")}}function e1(t,e,n){return{min:t1(t,e),max:t1(t,n)}}function t1(t,e){return typeof t=="number"?t:t[e]||0}const C_=new WeakMap;class A_{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(md(g).point)},l=(g,b)=>{const{drag:k,dragPropagation:T,onDragStart:A}=this.getProps();if(k&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LN(k),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(P=>{let z=this.getAxisMotionValue(P).get()||0;if(vi.test(z)){const{projection:$}=this.visualElement;if($&&$.layout){const ae=$.layout.layoutBox[P];ae&&(z=Jn(ae)*(parseFloat(z)/100))}}this.originPoint[P]=z}),A&&Lt.postRender(()=>A(g,b)),Fg(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},c=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:k,dragDirectionLock:T,onDirectionLock:A,onDrag:D}=this.getProps();if(!k&&!this.openDragLock)return;const{offset:P}=b;if(T&&this.currentDirection===null){this.currentDirection=M_(P),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,P),this.updateAxis("y",b.point,P),this.visualElement.render(),D&&D(g,b)},d=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Nr(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new YE(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:GE(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Lt.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Uf(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=b_(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Dl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=S_(r.layoutBox,e):this.constraints=!1,this.elastic=E_(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Nr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=x_(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=ML(r,i.root,this.visualElement.getTransformPagePoint());let l=k_(i.layout.layoutBox,a);if(n){const c=n(EL(l));this.hasMutatedConstraints=!!c,c&&(l=_E(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=Nr(h=>{if(!Uf(h,n,this.currentDirection))return;let g=d&&d[h]||{};l&&(g={min:0,max:0});const b=i?200:1e6,k=i?40:1e7,T={type:"inertia",velocity:r?e[h]:0,bounceStiffness:b,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(h,T)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Fg(this.visualElement,e),r.start(ow(e,r,0,n,this.visualElement,!1))}stopAnimation(){Nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nr(n=>{const{drag:r}=this.getProps();if(!Uf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-jt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Nr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=T_({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nr(l=>{if(!Uf(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(jt(d,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;C_.set(this.visualElement,this);const e=this.visualElement.current,n=Cc(e,"pointerdown",d=>{const{drag:p,dragListener:h=!0}=this.getProps();p&&h&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Dl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Lt.read(r);const l=$c(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Nr(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=d[h].translate,g.set(g.get()+d[h].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=qg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Uf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function M_(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class R_ extends xa{constructor(e){super(e),this.removeGroupControls=Ir,this.removeListeners=Ir,this.controls=new A_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const n1=t=>(e,n)=>{t&&Lt.postRender(()=>t(e,n))};class D_ extends xa{constructor(){super(...arguments),this.removePointerDownListener=Ir}onPointerDown(e){this.session=new YE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:n1(e),onStart:n1(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&Lt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Cc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ip={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function r1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(We.test(t))t=parseFloat(t);else return t;const n=r1(t,e.target.x),r=r1(t,e.target.y);return`${n}% ${r}%`}},P_={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ba.parse(t);if(i.length>5)return r;const a=ba.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const p=jt(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};let i1=!1;class O_ extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;ZN(N_),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),i1&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ip.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,i1=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Lt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QE(t){const[e,n]=SE(),r=I.useContext(Mv);return ne.jsx(O_,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(NE),isPresent:e,safeToRemove:n})}const N_={borderRadius:{...hc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hc,borderTopRightRadius:hc,borderBottomLeftRadius:hc,borderBottomRightRadius:hc,boxShadow:P_};function L_(t,e,n){const r=jn(t)?t:Il(t);return r.start(ow("",r,e,n)),r.animation}const __=(t,e)=>t.depth-e.depth;class B_{constructor(){this.children=[],this.isDirty=!1}add(e){Pv(this.children,e),this.isDirty=!0}remove(e){Ov(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(__),this.isDirty=!1,this.children.forEach(e)}}function I_(t,e){const n=nr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(wa(r),t(a-e))};return Lt.setup(r,!0),()=>wa(r)}const ZE=["TopLeft","TopRight","BottomLeft","BottomRight"],j_=ZE.length,s1=t=>typeof t=="string"?parseFloat(t):t,a1=t=>typeof t=="number"||We.test(t);function z_(t,e,n,r,i,a){i?(t.opacity=jt(0,n.opacity??1,V_(r)),t.opacityExit=jt(e.opacity??1,0,U_(r))):a&&(t.opacity=jt(e.opacity??1,n.opacity??1,r));for(let l=0;l<j_;l++){const c=`border${ZE[l]}Radius`;let d=o1(e,c),p=o1(n,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||a1(d)===a1(p)?(t[c]=Math.max(jt(s1(d),s1(p),r),0),(vi.test(p)||vi.test(d))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=jt(e.rotate||0,n.rotate||0,r))}function o1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const V_=eC(0,.5,Ux),U_=eC(.5,.95,Ir);function eC(t,e,n){return r=>r<t?0:r>e?1:n(Hc(t,e,r))}function l1(t,e){t.min=e.min,t.max=e.max}function Pr(t,e){l1(t.x,e.x),l1(t.y,e.y)}function u1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function c1(t,e,n,r,i){return t-=e,t=wp(t,1/n,r),i!==void 0&&(t=wp(t,1/i,r)),t}function H_(t,e=0,n=1,r=.5,i,a=t,l=t){if(vi.test(e)&&(e=parseFloat(e),e=jt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=jt(a.min,a.max,r);t===a&&(c-=e),t.min=c1(t.min,e,n,c,i),t.max=c1(t.max,e,n,c,i)}function d1(t,e,[n,r,i],a,l){H_(t,e[n],e[r],e[i],e.scale,a,l)}const F_=["x","scaleX","originX"],K_=["y","scaleY","originY"];function f1(t,e,n,r){d1(t.x,e,F_,n?n.x:void 0,r?r.x:void 0),d1(t.y,e,K_,n?n.y:void 0,r?r.y:void 0)}function p1(t){return t.translate===0&&t.scale===1}function tC(t){return p1(t.x)&&p1(t.y)}function h1(t,e){return t.min===e.min&&t.max===e.max}function q_(t,e){return h1(t.x,e.x)&&h1(t.y,e.y)}function m1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nC(t,e){return m1(t.x,e.x)&&m1(t.y,e.y)}function y1(t){return Jn(t.x)/Jn(t.y)}function g1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class W_{constructor(){this.members=[]}add(e){Pv(this.members,e),e.scheduleRender()}remove(e){if(Ov(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function J_(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:h,rotateX:g,rotateY:b,skewX:k,skewY:T}=n;p&&(r=`perspective(${p}px) ${r}`),h&&(r+=`rotate(${h}deg) `),g&&(r+=`rotateX(${g}deg) `),b&&(r+=`rotateY(${b}deg) `),k&&(r+=`skewX(${k}deg) `),T&&(r+=`skewY(${T}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Vy=["","X","Y","Z"],$_=1e3;let G_=0;function Uy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function rC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=FE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Lt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&rC(r)}function iC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=G_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Q_),this.nodes.forEach(nB),this.nodes.forEach(rB),this.nodes.forEach(Z_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new B_)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new _v),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=bE(l)&&!VN(l),this.instance=l;const{layoutId:c,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let h,g=0;const b=()=>this.root.updateBlockedByResize=!1;Lt.read(()=>{g=window.innerWidth}),t(l,()=>{const k=window.innerWidth;k!==g&&(g=k,this.root.updateBlockedByResize=!0,h&&h(),h=I_(b,250),ip.hasAnimatedSinceResize&&(ip.hasAnimatedSinceResize=!1,this.nodes.forEach(b1)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||lB,{onLayoutAnimationStart:A,onLayoutAnimationComplete:D}=p.getProps(),P=!this.targetLayout||!nC(this.targetLayout,k),z=!g&&b;if(this.options.layoutRoot||this.resumeFrom||z||g&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...$v(T,"layout"),onPlay:A,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(h,z)}else g||b1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iB),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(w1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tB),this.nodes.forEach(Y_),this.nodes.forEach(X_)):this.nodes.forEach(w1),this.clearAllSnapshots();const c=nr.now();An.delta=ps(0,1e3/60,c-An.timestamp),An.timestamp=c,An.isProcessing=!0,Ry.update.process(An),Ry.preRender.process(An),Ry.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eB),this.sharedNodes.forEach(sB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jn(this.snapshot.measuredBox.x)&&!Jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!tC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,h=p!==this.prevTransformTemplateValue;l&&this.instance&&(c||to(this.latestValues)||h)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),uB(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Xt();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cB))){const{scroll:p}=this.root;p&&(Pl(c.x,p.offset.x),Pl(c.y,p.offset.y))}return c}removeElementScroll(l){const c=Xt();if(Pr(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:h,options:g}=p;p!==this.root&&h&&g.layoutScroll&&(h.wasRoot&&Pr(c,l),Pl(c.x,h.offset.x),Pl(c.y,h.offset.y))}return c}applyTransform(l,c=!1){const d=Xt();Pr(d,l);for(let p=0;p<this.path.length;p++){const h=this.path[p];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ol(d,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),to(h.latestValues)&&Ol(d,h.latestValues)}return to(this.latestValues)&&Ol(d,this.latestValues),d}removeTransform(l){const c=Xt();Pr(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!to(p.latestValues))continue;zg(p.latestValues)&&p.updateSnapshot();const h=Xt(),g=p.measurePageBox();Pr(h,g),f1(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,h)}return to(this.latestValues)&&f1(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Mc(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pr(this.target,this.layout.layoutBox),IE(this.target,this.targetDelta)):Pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Mc(this.relativeTargetOrigin,this.target,b.target),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zg(this.parent.latestValues)||BE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===An.timestamp&&(d=!1),d)return;const{layout:p,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||h))return;Pr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;AL(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Xt());const{target:k}=l;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u1(this.prevProjectionDelta.x,this.projectionDelta.x),u1(this.prevProjectionDelta.y,this.projectionDelta.y)),Ac(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!g1(this.projectionDelta.x,this.prevProjectionDelta.x)||!g1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nl(),this.projectionDelta=Nl(),this.projectionDeltaWithTransform=Nl()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},h={...this.latestValues},g=Nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Xt(),k=d?d.source:void 0,T=this.layout?this.layout.source:void 0,A=k!==T,D=this.getStack(),P=!D||D.members.length<=1,z=!!(A&&!P&&this.options.crossfade===!0&&!this.path.some(oB));this.animationProgress=0;let $;this.mixTargetDelta=ae=>{const Y=ae/1e3;S1(g.x,l.x,Y),S1(g.y,l.y,Y),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aB(this.relativeTarget,this.relativeTargetOrigin,b,Y),$&&q_(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Xt()),Pr($,this.relativeTarget)),A&&(this.animationValues=h,z_(h,p,this.latestValues,Y,z,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{ip.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Il(0)),this.currentAnimation=L_(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:h}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&sC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Xt();const g=Jn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const b=Jn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}Pr(c,d),Ol(c,h),Ac(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new W_),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&Uy("z",l,p,this.animationValues);for(let h=0;h<Vy.length;h++)Uy(`rotate${Vy[h]}`,l,p,this.animationValues),Uy(`skew${Vy[h]}`,l,p,this.animationValues);l.render();for(const h in p)l.setStaticValue(h,p[h]),this.animationValues&&(this.animationValues[h]=p[h]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=rp(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=rp(c?.pointerEvents)||""),this.hasProjected&&!to(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const h=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=J_(this.projectionDeltaWithTransform,this.treeScale,h);d&&(g=d(h,g)),l.transform=g;const{x:b,y:k}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${k.origin*100}% 0`,p.animationValues?l.opacity=p===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=p===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const T in Wc){if(h[T]===void 0)continue;const{correct:A,applyTo:D,isCSSVariable:P}=Wc[T],z=g==="none"?h[T]:A(h[T],p);if(D){const $=D.length;for(let ae=0;ae<$;ae++)l[D[ae]]=z}else P?this.options.visualElement.renderState.vars[T]=z:l[T]=z}this.options.layoutId&&(l.pointerEvents=p===this?rp(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(v1),this.root.sharedNodes.clear()}}}function Y_(t){t.updateLayout()}function X_(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Nr(h=>{const g=a?e.measuredBox[h]:e.layoutBox[h],b=Jn(g);g.min=n[h].min,g.max=g.min+b}):sC(i,e.layoutBox,n)&&Nr(h=>{const g=a?e.measuredBox[h]:e.layoutBox[h],b=Jn(n[h]);g.max=g.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+b)});const l=Nl();Ac(l,n,e.layoutBox);const c=Nl();a?Ac(c,t.applyTransform(r,!0),e.measuredBox):Ac(c,n,e.layoutBox);const d=!tC(l);let p=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:b}=h;if(g&&b){const k=Xt();Mc(k,e.layoutBox,g.layoutBox);const T=Xt();Mc(T,n,b.layoutBox),nC(k,T)||(p=!0),h.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=k,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Q_(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Z_(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function eB(t){t.clearSnapshot()}function v1(t){t.clearMeasurements()}function w1(t){t.isLayoutDirty=!1}function tB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function b1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nB(t){t.resolveTargetDelta()}function rB(t){t.calcProjection()}function iB(t){t.resetSkewAndRotation()}function sB(t){t.removeLeadSnapshot()}function S1(t,e,n){t.translate=jt(e.translate,0,n),t.scale=jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function k1(t,e,n,r){t.min=jt(e.min,n.min,r),t.max=jt(e.max,n.max,r)}function aB(t,e,n,r){k1(t.x,e.x,n.x,r),k1(t.y,e.y,n.y,r)}function oB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lB={duration:.45,ease:[.4,0,.1,1]},T1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),x1=T1("applewebkit/")&&!T1("chrome/")?Math.round:Ir;function E1(t){t.min=x1(t.min),t.max=x1(t.max)}function uB(t){E1(t.x),E1(t.y)}function sC(t,e,n){return t==="position"||t==="preserve-aspect"&&!m_(y1(e),y1(n),.2)}function cB(t){return t!==t.root&&t.scroll?.wasRoot}const dB=iC({attachResizeListener:(t,e)=>$c(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hy={current:void 0},aC=iC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hy.current){const t=new dB({});t.mount(window),t.setOptions({layoutScroll:!0}),Hy.current=t}return Hy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fB={pan:{Feature:D_},drag:{Feature:R_,ProjectionNode:aC,MeasureLayout:QE}};function C1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Lt.postRender(()=>a(e,md(e)))}class pB extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=_N(e,(n,r)=>(C1(this.node,r,"Start"),i=>C1(this.node,i,"End"))))}unmount(){}}class hB extends xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fd($c(this.node.current,"focus",()=>this.onFocus()),$c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function A1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Lt.postRender(()=>a(e,md(e)))}class mB extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=zN(e,(n,r)=>(A1(this.node,r,"Start"),(i,{success:a})=>A1(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wg=new WeakMap,Fy=new WeakMap,yB=t=>{const e=Wg.get(t.target);e&&e(t)},gB=t=>{t.forEach(yB)};function vB({root:t,...e}){const n=t||document;Fy.has(n)||Fy.set(n,{});const r=Fy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(gB,{root:t,...e})),r[i]}function wB(t,e,n){const r=vB(e);return Wg.set(t,n),r.observe(t),()=>{Wg.delete(t),r.unobserve(t)}}const bB={some:0,all:1};class SB extends xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:bB[i]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),b=p?h:g;b&&b(d)};return wB(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(kB(e,n))&&this.startObserver()}unmount(){}}function kB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const TB={inView:{Feature:SB},tap:{Feature:mB},focus:{Feature:hB},hover:{Feature:pB}},xB={layout:{ProjectionNode:aC,MeasureLayout:QE}},EB={...u_,...TB,...fB,...xB},mc=xL(EB,IL);function CB(){const{t,i18n:e}=Ta(),n=Mx(),[r,i]=I.useState(null),[a,l]=I.useState(null),c=p=>{i(p),l(null)},d=p=>{l(p)};return ne.jsxs("div",{className:"max-w-5xl mx-auto py-8",dir:e.language==="ar"?"rtl":"ltr",children:[ne.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-cyan-700",children:t("cyberPlanTitle","خطة الأمن السيبراني المطور")}),ne.jsx(_y,{mode:"wait",children:!r&&ne.jsx(mc.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{duration:.4},className:"grid md:grid-cols-3 gap-4",children:n.map(p=>ne.jsx(mc.div,{whileHover:{scale:1.04},whileTap:{scale:.98},onClick:()=>c(p),className:"cursor-pointer",children:ne.jsx(Rx,{phase:p,selected:!1})},p.id))},"phases")}),ne.jsx(_y,{mode:"wait",children:r&&!a&&ne.jsxs(mc.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},exit:{opacity:0,x:-40},transition:{duration:.4},children:[ne.jsx("button",{onClick:()=>i(null),className:"mb-4 text-xs text-gray-500 hover:underline px-2 py-1 rounded bg-gray-100 dark:bg-zinc-800",children:t("backToPhases","عودة للمراحل")}),ne.jsx("h2",{className:"text-xl font-semibold mb-4 text-violet-700",children:t("weeksOfPhase",{phase:r.name,defaultValue:`أسابيع ${r.name}`})}),ne.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:IP(r.id).map(p=>ne.jsx(mc.div,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>d(p),className:"cursor-pointer",children:ne.jsx(FP,{week:p,selected:!1})},p.week))})]},"weeks")}),ne.jsx(_y,{mode:"wait",children:a&&ne.jsxs(mc.div,{initial:{opacity:0,x:-40},animate:{opacity:1,x:0},exit:{opacity:0,x:40},transition:{duration:.4},children:[ne.jsx("button",{onClick:()=>l(null),className:"mb-4 text-xs text-gray-500 hover:underline px-2 py-1 rounded bg-gray-100 dark:bg-zinc-800",children:t("backToWeeks","عودة للأسابيع")}),ne.jsx("h2",{className:"text-xl font-semibold mb-4 text-amber-700",children:a.title?.[e.language]||a.title?.ar||a.title?.en}),ne.jsx("div",{className:"space-y-4",children:(a.days||[]).map((p,h)=>ne.jsx(WP,{day:p},h))})]},"days")})]})}var sp={exports:{}},AB=sp.exports,M1;function MB(){return M1||(M1=1,function(t,e){(function(n,r){t.exports=r()})(AB,function(){var n=function(m,v){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,x){S.__proto__=x}||function(S,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(S[C]=x[C])})(m,v)},r=function(){return(r=Object.assign||function(m){for(var v,S=1,x=arguments.length;S<x;S++)for(var C in v=arguments[S])Object.prototype.hasOwnProperty.call(v,C)&&(m[C]=v[C]);return m}).apply(this,arguments)};function i(m,v,S){for(var x,C=0,M=v.length;C<M;C++)!x&&C in v||((x=x||Array.prototype.slice.call(v,0,C))[C]=v[C]);return m.concat(x||Array.prototype.slice.call(v))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:QR,l=Object.keys,c=Array.isArray;function d(m,v){return typeof v!="object"||l(v).forEach(function(S){m[S]=v[S]}),m}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var p=Object.getPrototypeOf,h={}.hasOwnProperty;function g(m,v){return h.call(m,v)}function b(m,v){typeof v=="function"&&(v=v(p(m))),(typeof Reflect>"u"?l:Reflect.ownKeys)(v).forEach(function(S){T(m,S,v[S])})}var k=Object.defineProperty;function T(m,v,S,x){k(m,v,d(S&&g(S,"get")&&typeof S.get=="function"?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},x))}function A(m){return{from:function(v){return m.prototype=Object.create(v.prototype),T(m.prototype,"constructor",m),{extend:b.bind(null,m.prototype)}}}}var D=Object.getOwnPropertyDescriptor,P=[].slice;function z(m,v,S){return P.call(m,v,S)}function $(m,v){return v(m)}function ae(m){if(!m)throw new Error("Assertion Failed")}function Y(m){a.setImmediate?setImmediate(m):setTimeout(m,0)}function ue(m,v){if(typeof v=="string"&&g(m,v))return m[v];if(!v)return m;if(typeof v!="string"){for(var S=[],x=0,C=v.length;x<C;++x){var M=ue(m,v[x]);S.push(M)}return S}var O=v.indexOf(".");if(O!==-1){var N=m[v.substr(0,O)];return N==null?void 0:ue(N,v.substr(O+1))}}function pe(m,v,S){if(m&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(m)))if(typeof v!="string"&&"length"in v){ae(typeof S!="string"&&"length"in S);for(var x=0,C=v.length;x<C;++x)pe(m,v[x],S[x])}else{var M,O,N=v.indexOf(".");N!==-1?(M=v.substr(0,N),(O=v.substr(N+1))===""?S===void 0?c(m)&&!isNaN(parseInt(M))?m.splice(M,1):delete m[M]:m[M]=S:pe(N=!(N=m[M])||!g(m,M)?m[M]={}:N,O,S)):S===void 0?c(m)&&!isNaN(parseInt(v))?m.splice(v,1):delete m[v]:m[v]=S}}function de(m){var v,S={};for(v in m)g(m,v)&&(S[v]=m[v]);return S}var Ae=[].concat;function Ne(m){return Ae.apply([],m)}var ir="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ne([8,16,32,64].map(function(m){return["Int","Uint","Float"].map(function(v){return v+m+"Array"})}))).filter(function(m){return a[m]}),dt=new Set(ir.map(function(m){return a[m]})),ft=null;function pt(m){return ft=new WeakMap,m=function v(S){if(!S||typeof S!="object")return S;var x=ft.get(S);if(x)return x;if(c(S)){x=[],ft.set(S,x);for(var C=0,M=S.length;C<M;++C)x.push(v(S[C]))}else if(dt.has(S.constructor))x=S;else{var O,N=p(S);for(O in x=N===Object.prototype?{}:Object.create(N),ft.set(S,x),S)g(S,O)&&(x[O]=v(S[O]))}return x}(m),ft=null,m}var wt={}.toString;function mt(m){return wt.call(m).slice(8,-1)}var se=typeof Symbol<"u"?Symbol.iterator:"@@iterator",me=typeof se=="symbol"?function(m){var v;return m!=null&&(v=m[se])&&v.apply(m)}:function(){return null};function Me(m,v){return v=m.indexOf(v),0<=v&&m.splice(v,1),0<=v}var Ye={};function B(m){var v,S,x,C;if(arguments.length===1){if(c(m))return m.slice();if(this===Ye&&typeof m=="string")return[m];if(C=me(m)){for(S=[];!(x=C.next()).done;)S.push(x.value);return S}if(m==null)return[m];if(typeof(v=m.length)!="number")return[m];for(S=new Array(v);v--;)S[v]=m[v];return S}for(v=arguments.length,S=new Array(v);v--;)S[v]=arguments[v];return S}var ce=typeof Symbol<"u"?function(m){return m[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Aa=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],qn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Aa),Ee={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ke(m,v){this.name=m,this.message=v}function _e(m,v){return m+". Errors: "+Object.keys(v).map(function(S){return v[S].toString()}).filter(function(S,x,C){return C.indexOf(S)===x}).join(`
`)}function rt(m,v,S,x){this.failures=v,this.failedKeys=x,this.successCount=S,this.message=_e(m,v)}function Ve(m,v){this.name="BulkError",this.failures=Object.keys(v).map(function(S){return v[S]}),this.failuresByPos=v,this.message=_e(m,this.failures)}A(ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),A(rt).from(ke),A(Ve).from(ke);var Sn=qn.reduce(function(m,v){return m[v]=v+"Error",m},{}),At=ke,Le=qn.reduce(function(m,v){var S=v+"Error";function x(C,M){this.name=S,C?typeof C=="string"?(this.message="".concat(C).concat(M?`
 `+M:""),this.inner=M||null):typeof C=="object"&&(this.message="".concat(C.name," ").concat(C.message),this.inner=C):(this.message=Ee[v]||S,this.inner=null)}return A(x).from(At),m[v]=x,m},{});Le.Syntax=SyntaxError,Le.Type=TypeError,Le.Range=RangeError;var Co=Aa.reduce(function(m,v){return m[v+"Error"]=Le[v],m},{}),xi=qn.reduce(function(m,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(m[v+"Error"]=Le[v]),m},{});function ut(){}function Ei(m){return m}function Zl(m,v){return m==null||m===Ei?v:function(S){return v(m(S))}}function Ci(m,v){return function(){m.apply(this,arguments),v.apply(this,arguments)}}function Ph(m,v){return m===ut?v:function(){var S=m.apply(this,arguments);S!==void 0&&(arguments[0]=S);var x=this.onsuccess,C=this.onerror;this.onsuccess=null,this.onerror=null;var M=v.apply(this,arguments);return x&&(this.onsuccess=this.onsuccess?Ci(x,this.onsuccess):x),C&&(this.onerror=this.onerror?Ci(C,this.onerror):C),M!==void 0?M:S}}function gr(m,v){return m===ut?v:function(){m.apply(this,arguments);var S=this.onsuccess,x=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?Ci(S,this.onsuccess):S),x&&(this.onerror=this.onerror?Ci(x,this.onerror):x)}}function Oh(m,v){return m===ut?v:function(S){var x=m.apply(this,arguments);d(S,x);var C=this.onsuccess,M=this.onerror;return this.onsuccess=null,this.onerror=null,S=v.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?Ci(C,this.onsuccess):C),M&&(this.onerror=this.onerror?Ci(M,this.onerror):M),x===void 0?S===void 0?void 0:S:d(x,S)}}function Sd(m,v){return m===ut?v:function(){return v.apply(this,arguments)!==!1&&m.apply(this,arguments)}}function Ao(m,v){return m===ut?v:function(){var S=m.apply(this,arguments);if(S&&typeof S.then=="function"){for(var x=this,C=arguments.length,M=new Array(C);C--;)M[C]=arguments[C];return S.then(function(){return v.apply(x,M)})}return v.apply(this,arguments)}}xi.ModifyError=rt,xi.DexieError=ke,xi.BulkError=Ve;var Un=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function kd(m){Un=m}var ys={},Td=100,ir=typeof Promise>"u"?[]:function(){var m=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[m,p(m),m];var v=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[v,p(v),m]}(),Aa=ir[0],qn=ir[1],ir=ir[2],qn=qn&&qn.then,Wt=Aa&&Aa.constructor,vr=!!ir,ln=function(m,v){zr.push([m,v]),Mo&&(queueMicrotask(iu),Mo=!1)},eu=!0,Mo=!0,Ai=[],Mi=[],gs=Ei,Pn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ut,pgp:!1,env:{},finalize:ut},Oe=Pn,zr=[],Ri=0,Ma=[];function Ce(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=Oe;if(typeof m!="function"){if(m!==ys)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&tu(this,this._value))}this._state=null,this._value=null,++v.ref,function S(x,C){try{C(function(M){if(x._state===null){if(M===x)throw new TypeError("A promise cannot be resolved with itself.");var O=x._lib&&Di();M&&typeof M.then=="function"?S(x,function(N,V){M instanceof Ce?M._then(N,V):M.then(N,V)}):(x._state=!0,x._value=M,nu(x)),O&&ws()}},tu.bind(null,x))}catch(M){tu(x,M)}}(this,m)}var Ra={get:function(){var m=Oe,v=Da;function S(x,C){var M=this,O=!m.global&&(m!==Oe||v!==Da),N=O&&!Hn(),V=new Ce(function(H,q){Ro(M,new vs(Qr(x,m,O,N),Qr(C,m,O,N),H,q,m))});return this._consoleTask&&(V._consoleTask=this._consoleTask),V}return S.prototype=ys,S},set:function(m){T(this,"then",m&&m.prototype===ys?Ra:{get:function(){return m},set:Ra.set})}};function vs(m,v,S,x,C){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof v=="function"?v:null,this.resolve=S,this.reject=x,this.psd=C}function tu(m,v){var S,x;Mi.push(v),m._state===null&&(S=m._lib&&Di(),v=gs(v),m._state=!1,m._value=v,x=m,Ai.some(function(C){return C._value===x._value})||Ai.push(x),nu(m),S&&ws())}function nu(m){var v=m._listeners;m._listeners=[];for(var S=0,x=v.length;S<x;++S)Ro(m,v[S]);var C=m._PSD;--C.ref||C.finalize(),Ri===0&&(++Ri,ln(function(){--Ri==0&&wr()},[]))}function Ro(m,v){if(m._state!==null){var S=m._state?v.onFulfilled:v.onRejected;if(S===null)return(m._state?v.resolve:v.reject)(m._value);++v.psd.ref,++Ri,ln(ru,[S,m,v])}else m._listeners.push(v)}function ru(m,v,S){try{var x,C=v._value;!v._state&&Mi.length&&(Mi=[]),x=Un&&v._consoleTask?v._consoleTask.run(function(){return m(C)}):m(C),v._state||Mi.indexOf(C)!==-1||function(M){for(var O=Ai.length;O;)if(Ai[--O]._value===M._value)return Ai.splice(O,1)}(v),S.resolve(x)}catch(M){S.reject(M)}finally{--Ri==0&&wr(),--S.psd.ref||S.psd.finalize()}}function iu(){Xr(Pn,function(){Di()&&ws()})}function Di(){var m=eu;return Mo=eu=!1,m}function ws(){var m,v,S;do for(;0<zr.length;)for(m=zr,zr=[],S=m.length,v=0;v<S;++v){var x=m[v];x[0].apply(null,x[1])}while(0<zr.length);Mo=eu=!0}function wr(){var m=Ai;Ai=[],m.forEach(function(x){x._PSD.onunhandled.call(null,x._value,x)});for(var v=Ma.slice(0),S=v.length;S;)v[--S]()}function Jt(m){return new Ce(ys,!1,m)}function et(m,v){var S=Oe;return function(){var x=Di(),C=Oe;try{return Tt(S,!0),m.apply(this,arguments)}catch(M){v&&v(M)}finally{Tt(C,!1),x&&ws()}}}b(Ce.prototype,{then:Ra,_then:function(m,v){Ro(this,new vs(null,null,m,v,Oe))},catch:function(m){if(arguments.length===1)return this.then(null,m);var v=m,S=arguments[1];return typeof v=="function"?this.then(null,function(x){return(x instanceof v?S:Jt)(x)}):this.then(null,function(x){return(x&&x.name===v?S:Jt)(x)})},finally:function(m){return this.then(function(v){return Ce.resolve(m()).then(function(){return v})},function(v){return Ce.resolve(m()).then(function(){return Jt(v)})})},timeout:function(m,v){var S=this;return m<1/0?new Ce(function(x,C){var M=setTimeout(function(){return C(new Le.Timeout(v))},m);S.then(x,C).finally(clearTimeout.bind(null,M))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&T(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),Pn.env=au(),b(Ce,{all:function(){var m=B.apply(null,arguments).map(Yr);return new Ce(function(v,S){m.length===0&&v([]);var x=m.length;m.forEach(function(C,M){return Ce.resolve(C).then(function(O){m[M]=O,--x||v(m)},S)})})},resolve:function(m){return m instanceof Ce?m:m&&typeof m.then=="function"?new Ce(function(v,S){m.then(v,S)}):new Ce(ys,!0,m)},reject:Jt,race:function(){var m=B.apply(null,arguments).map(Yr);return new Ce(function(v,S){m.map(function(x){return Ce.resolve(x).then(v,S)})})},PSD:{get:function(){return Oe},set:function(m){return Oe=m}},totalEchoes:{get:function(){return Da}},newPSD:br,usePSD:Xr,scheduler:{get:function(){return ln},set:function(m){ln=m}},rejectionMapper:{get:function(){return gs},set:function(m){gs=m}},follow:function(m,v){return new Ce(function(S,x){return br(function(C,M){var O=Oe;O.unhandleds=[],O.onunhandled=M,O.finalize=Ci(function(){var N,V=this;N=function(){V.unhandleds.length===0?C():M(V.unhandleds[0])},Ma.push(function H(){N(),Ma.splice(Ma.indexOf(H),1)}),++Ri,ln(function(){--Ri==0&&wr()},[])},O.finalize),m()},v,S,x)})}}),Wt&&(Wt.allSettled&&T(Ce,"allSettled",function(){var m=B.apply(null,arguments).map(Yr);return new Ce(function(v){m.length===0&&v([]);var S=m.length,x=new Array(S);m.forEach(function(C,M){return Ce.resolve(C).then(function(O){return x[M]={status:"fulfilled",value:O}},function(O){return x[M]={status:"rejected",reason:O}}).then(function(){return--S||v(x)})})})}),Wt.any&&typeof AggregateError<"u"&&T(Ce,"any",function(){var m=B.apply(null,arguments).map(Yr);return new Ce(function(v,S){m.length===0&&S(new AggregateError([]));var x=m.length,C=new Array(x);m.forEach(function(M,O){return Ce.resolve(M).then(function(N){return v(N)},function(N){C[O]=N,--x||S(new AggregateError(C))})})})}),Wt.withResolvers&&(Ce.withResolvers=Wt.withResolvers));var Rt={awaits:0,echoes:0,id:0},su=0,Do=[],Po=0,Da=0,Pa=0;function br(m,v,S,x){var C=Oe,M=Object.create(C);return M.parent=C,M.ref=0,M.global=!1,M.id=++Pa,Pn.env,M.env=vr?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject}:{},v&&d(M,v),++C.ref,M.finalize=function(){--this.parent.ref||this.parent.finalize()},x=Xr(M,m,S,x),M.ref===0&&M.finalize(),x}function sr(){return Rt.id||(Rt.id=++su),++Rt.awaits,Rt.echoes+=Td,Rt.id}function Hn(){return!!Rt.awaits&&(--Rt.awaits==0&&(Rt.id=0),Rt.echoes=Rt.awaits*Td,!0)}function Yr(m){return Rt.echoes&&m&&m.constructor===Wt?(sr(),m.then(function(v){return Hn(),v},function(v){return Hn(),_t(v)})):m}function bs(){var m=Do[Do.length-1];Do.pop(),Tt(m,!1)}function Tt(m,v){var S,x=Oe;(v?!Rt.echoes||Po++&&m===Oe:!Po||--Po&&m===Oe)||queueMicrotask(v?(function(C){++Da,Rt.echoes&&--Rt.echoes!=0||(Rt.echoes=Rt.awaits=Rt.id=0),Do.push(Oe),Tt(C,!0)}).bind(null,m):bs),m!==Oe&&(Oe=m,x===Pn&&(Pn.env=au()),vr&&(S=Pn.env.Promise,v=m.env,(x.global||m.global)&&(Object.defineProperty(a,"Promise",v.PromiseProp),S.all=v.all,S.race=v.race,S.resolve=v.resolve,S.reject=v.reject,v.allSettled&&(S.allSettled=v.allSettled),v.any&&(S.any=v.any))))}function au(){var m=a.Promise;return vr?{Promise:m,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:m.all,race:m.race,allSettled:m.allSettled,any:m.any,resolve:m.resolve,reject:m.reject}:{}}function Xr(m,v,S,x,C){var M=Oe;try{return Tt(m,!0),v(S,x,C)}finally{Tt(M,!1)}}function Qr(m,v,S,x){return typeof m!="function"?m:function(){var C=Oe;S&&sr(),Tt(v,!0);try{return m.apply(this,arguments)}finally{Tt(C,!1),x&&queueMicrotask(Hn)}}}function Zr(m){Promise===Wt&&Rt.echoes===0?Po===0?m():enqueueNativeMicroTask(m):setTimeout(m,0)}(""+qn).indexOf("[native code]")===-1&&(sr=Hn=ut);var _t=Ce.reject,ei="￿",Sr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",xd="String expected.",Vr=[],Pi="__dbnames",ar="readonly",Oa="readwrite";function ti(m,v){return m?v?function(){return m.apply(this,arguments)&&v.apply(this,arguments)}:m:v}var Oi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ss(m){return typeof m!="string"||/\./.test(m)?function(v){return v}:function(v){return v[m]===void 0&&m in v&&delete(v=pt(v))[m],v}}function Oo(){throw Le.Type()}function it(m,v){try{var S=ou(m),x=ou(v);if(S!==x)return S==="Array"?1:x==="Array"?-1:S==="binary"?1:x==="binary"?-1:S==="string"?1:x==="string"?-1:S==="Date"?1:x!=="Date"?NaN:-1;switch(S){case"number":case"Date":case"string":return v<m?1:m<v?-1:0;case"binary":return function(C,M){for(var O=C.length,N=M.length,V=O<N?O:N,H=0;H<V;++H)if(C[H]!==M[H])return C[H]<M[H]?-1:1;return O===N?0:O<N?-1:1}(Fn(m),Fn(v));case"Array":return function(C,M){for(var O=C.length,N=M.length,V=O<N?O:N,H=0;H<V;++H){var q=it(C[H],M[H]);if(q!==0)return q}return O===N?0:O<N?-1:1}(m,v)}}catch{}return NaN}function ou(m){var v=typeof m;return v!="object"?v:ArrayBuffer.isView(m)?"binary":(m=mt(m),m==="ArrayBuffer"?"binary":m)}function Fn(m){return m instanceof Uint8Array?m:ArrayBuffer.isView(m)?new Uint8Array(m.buffer,m.byteOffset,m.byteLength):new Uint8Array(m)}var lu=(xt.prototype._trans=function(m,v,S){var x=this._tx||Oe.trans,C=this.name,M=Un&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(m==="readonly"?"read":"write"," ").concat(this.name));function O(H,q,_){if(!_.schema[C])throw new Le.NotFound("Table "+C+" not part of transaction");return v(_.idbtrans,_)}var N=Di();try{var V=x&&x.db._novip===this.db._novip?x===Oe.trans?x._promise(m,O,S):br(function(){return x._promise(m,O,S)},{trans:x,transless:Oe.transless||Oe}):function H(q,_,J,j){if(q.idbdb&&(q._state.openComplete||Oe.letThrough||q._vip)){var K=q._createTransaction(_,J,q._dbSchema);try{K.create(),q._state.PR1398_maxLoop=3}catch(G){return G.name===Sn.InvalidState&&q.isOpen()&&0<--q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),q.close({disableAutoOpen:!1}),q.open().then(function(){return H(q,_,J,j)})):_t(G)}return K._promise(_,function(G,F){return br(function(){return Oe.trans=K,j(G,F,K)})}).then(function(G){if(_==="readwrite")try{K.idbtrans.commit()}catch{}return _==="readonly"?G:K._completion.then(function(){return G})})}if(q._state.openComplete)return _t(new Le.DatabaseClosed(q._state.dbOpenError));if(!q._state.isBeingOpened){if(!q._state.autoOpen)return _t(new Le.DatabaseClosed);q.open().catch(ut)}return q._state.dbReadyPromise.then(function(){return H(q,_,J,j)})}(this.db,m,[this.name],O);return M&&(V._consoleTask=M,V=V.catch(function(H){return console.trace(H),_t(H)})),V}finally{N&&ws()}},xt.prototype.get=function(m,v){var S=this;return m&&m.constructor===Object?this.where(m).first(v):m==null?_t(new Le.Type("Invalid argument to Table.get()")):this._trans("readonly",function(x){return S.core.get({trans:x,key:m}).then(function(C){return S.hook.reading.fire(C)})}).then(v)},xt.prototype.where=function(m){if(typeof m=="string")return new this.db.WhereClause(this,m);if(c(m))return new this.db.WhereClause(this,"[".concat(m.join("+"),"]"));var v=l(m);if(v.length===1)return this.where(v[0]).equals(m[v[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&v.every(function(H){return 0<=N.keyPath.indexOf(H)})){for(var V=0;V<v.length;++V)if(v.indexOf(N.keyPath[V])===-1)return!1;return!0}return!1}).sort(function(N,V){return N.keyPath.length-V.keyPath.length})[0];if(S&&this.db._maxKey!==ei){var M=S.keyPath.slice(0,v.length);return this.where(M).equals(M.map(function(V){return m[V]}))}!S&&Un&&console.warn("The query ".concat(JSON.stringify(m)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var x=this.schema.idxByName;function C(N,V){return it(N,V)===0}var O=v.reduce(function(_,V){var H=_[0],q=_[1],_=x[V],J=m[V];return[H||_,H||!_?ti(q,_&&_.multi?function(j){return j=ue(j,V),c(j)&&j.some(function(K){return C(J,K)})}:function(j){return C(J,ue(j,V))}):q]},[null,null]),M=O[0],O=O[1];return M?this.where(M.name).equals(m[M.keyPath]).filter(O):S?this.filter(O):this.where(v).equals("")},xt.prototype.filter=function(m){return this.toCollection().and(m)},xt.prototype.count=function(m){return this.toCollection().count(m)},xt.prototype.offset=function(m){return this.toCollection().offset(m)},xt.prototype.limit=function(m){return this.toCollection().limit(m)},xt.prototype.each=function(m){return this.toCollection().each(m)},xt.prototype.toArray=function(m){return this.toCollection().toArray(m)},xt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},xt.prototype.orderBy=function(m){return new this.db.Collection(new this.db.WhereClause(this,c(m)?"[".concat(m.join("+"),"]"):m))},xt.prototype.reverse=function(){return this.toCollection().reverse()},xt.prototype.mapToClass=function(m){var v,S=this.db,x=this.name;function C(){return v!==null&&v.apply(this,arguments)||this}(this.schema.mappedClass=m).prototype instanceof Oo&&(function(V,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function q(){this.constructor=V}n(V,H),V.prototype=H===null?Object.create(H):(q.prototype=H.prototype,new q)}(C,v=m),Object.defineProperty(C.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),C.prototype.table=function(){return x},m=C);for(var M=new Set,O=m.prototype;O;O=p(O))Object.getOwnPropertyNames(O).forEach(function(V){return M.add(V)});function N(V){if(!V)return V;var H,q=Object.create(m.prototype);for(H in V)if(!M.has(H))try{q[H]=V[H]}catch{}return q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=N,this.hook("reading",N),m},xt.prototype.defineClass=function(){return this.mapToClass(function(m){d(this,m)})},xt.prototype.add=function(m,v){var S=this,x=this.schema.primKey,C=x.auto,M=x.keyPath,O=m;return M&&C&&(O=Ss(M)(m)),this._trans("readwrite",function(N){return S.core.mutate({trans:N,type:"add",keys:v!=null?[v]:null,values:[O]})}).then(function(N){return N.numFailures?Ce.reject(N.failures[0]):N.lastResult}).then(function(N){if(M)try{pe(m,M,N)}catch{}return N})},xt.prototype.update=function(m,v){return typeof m!="object"||c(m)?this.where(":id").equals(m).modify(v):(m=ue(m,this.schema.primKey.keyPath),m===void 0?_t(new Le.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(m).modify(v))},xt.prototype.put=function(m,v){var S=this,x=this.schema.primKey,C=x.auto,M=x.keyPath,O=m;return M&&C&&(O=Ss(M)(m)),this._trans("readwrite",function(N){return S.core.mutate({trans:N,type:"put",values:[O],keys:v!=null?[v]:null})}).then(function(N){return N.numFailures?Ce.reject(N.failures[0]):N.lastResult}).then(function(N){if(M)try{pe(m,M,N)}catch{}return N})},xt.prototype.delete=function(m){var v=this;return this._trans("readwrite",function(S){return v.core.mutate({trans:S,type:"delete",keys:[m]})}).then(function(S){return S.numFailures?Ce.reject(S.failures[0]):void 0})},xt.prototype.clear=function(){var m=this;return this._trans("readwrite",function(v){return m.core.mutate({trans:v,type:"deleteRange",range:Oi})}).then(function(v){return v.numFailures?Ce.reject(v.failures[0]):void 0})},xt.prototype.bulkGet=function(m){var v=this;return this._trans("readonly",function(S){return v.core.getMany({keys:m,trans:S}).then(function(x){return x.map(function(C){return v.hook.reading.fire(C)})})})},xt.prototype.bulkAdd=function(m,v,S){var x=this,C=Array.isArray(v)?v:void 0,M=(S=S||(C?void 0:v))?S.allKeys:void 0;return this._trans("readwrite",function(O){var H=x.schema.primKey,N=H.auto,H=H.keyPath;if(H&&C)throw new Le.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(C&&C.length!==m.length)throw new Le.InvalidArgument("Arguments objects and keys must have the same length");var V=m.length,H=H&&N?m.map(Ss(H)):m;return x.core.mutate({trans:O,type:"add",keys:C,values:H,wantResults:M}).then(function(K){var _=K.numFailures,J=K.results,j=K.lastResult,K=K.failures;if(_===0)return M?J:j;throw new Ve("".concat(x.name,".bulkAdd(): ").concat(_," of ").concat(V," operations failed"),K)})})},xt.prototype.bulkPut=function(m,v,S){var x=this,C=Array.isArray(v)?v:void 0,M=(S=S||(C?void 0:v))?S.allKeys:void 0;return this._trans("readwrite",function(O){var H=x.schema.primKey,N=H.auto,H=H.keyPath;if(H&&C)throw new Le.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(C&&C.length!==m.length)throw new Le.InvalidArgument("Arguments objects and keys must have the same length");var V=m.length,H=H&&N?m.map(Ss(H)):m;return x.core.mutate({trans:O,type:"put",keys:C,values:H,wantResults:M}).then(function(K){var _=K.numFailures,J=K.results,j=K.lastResult,K=K.failures;if(_===0)return M?J:j;throw new Ve("".concat(x.name,".bulkPut(): ").concat(_," of ").concat(V," operations failed"),K)})})},xt.prototype.bulkUpdate=function(m){var v=this,S=this.core,x=m.map(function(O){return O.key}),C=m.map(function(O){return O.changes}),M=[];return this._trans("readwrite",function(O){return S.getMany({trans:O,keys:x,cache:"clone"}).then(function(N){var V=[],H=[];m.forEach(function(_,J){var j=_.key,K=_.changes,G=N[J];if(G){for(var F=0,Z=Object.keys(K);F<Z.length;F++){var re=Z[F],ie=K[re];if(re===v.schema.primKey.keyPath){if(it(ie,j)!==0)throw new Le.Constraint("Cannot update primary key in bulkUpdate()")}else pe(G,re,ie)}M.push(J),V.push(j),H.push(G)}});var q=V.length;return S.mutate({trans:O,type:"put",keys:V,values:H,updates:{keys:x,changeSpecs:C}}).then(function(_){var J=_.numFailures,j=_.failures;if(J===0)return q;for(var K=0,G=Object.keys(j);K<G.length;K++){var F,Z=G[K],re=M[Number(Z)];re!=null&&(F=j[Z],delete j[Z],j[re]=F)}throw new Ve("".concat(v.name,".bulkUpdate(): ").concat(J," of ").concat(q," operations failed"),j)})})})},xt.prototype.bulkDelete=function(m){var v=this,S=m.length;return this._trans("readwrite",function(x){return v.core.mutate({trans:x,type:"delete",keys:m})}).then(function(O){var C=O.numFailures,M=O.lastResult,O=O.failures;if(C===0)return M;throw new Ve("".concat(v.name,".bulkDelete(): ").concat(C," of ").concat(S," operations failed"),O)})},xt);function xt(){}function ni(m){function v(O,N){if(N){for(var V=arguments.length,H=new Array(V-1);--V;)H[V-1]=arguments[V];return S[O].subscribe.apply(null,H),m}if(typeof O=="string")return S[O]}var S={};v.addEventType=M;for(var x=1,C=arguments.length;x<C;++x)M(arguments[x]);return v;function M(O,N,V){if(typeof O!="object"){var H;N=N||Sd;var q={subscribers:[],fire:V=V||ut,subscribe:function(_){q.subscribers.indexOf(_)===-1&&(q.subscribers.push(_),q.fire=N(q.fire,_))},unsubscribe:function(_){q.subscribers=q.subscribers.filter(function(J){return J!==_}),q.fire=q.subscribers.reduce(N,V)}};return S[O]=v[O]=q}l(H=O).forEach(function(_){var J=H[_];if(c(J))M(_,H[_][0],H[_][1]);else{if(J!=="asap")throw new Le.InvalidArgument("Invalid event config");var j=M(_,Ei,function(){for(var K=arguments.length,G=new Array(K);K--;)G[K]=arguments[K];j.subscribers.forEach(function(F){Y(function(){F.apply(null,G)})})})}})}}function ks(m,v){return A(v).from({prototype:m}),v}function Ur(m,v){return!(m.filter||m.algorithm||m.or)&&(v?m.justLimit:!m.replayFilter)}function uu(m,v){m.filter=ti(m.filter,v)}function On(m,v,S){var x=m.replayFilter;m.replayFilter=x?function(){return ti(x(),v())}:v,m.justLimit=S&&!x}function Ts(m,v){if(m.isPrimKey)return v.primaryKey;var S=v.getIndexByKeyPath(m.index);if(!S)throw new Le.Schema("KeyPath "+m.index+" on object store "+v.name+" is not indexed");return S}function cu(m,v,S){var x=Ts(m,v.schema);return v.openCursor({trans:S,values:!m.keysOnly,reverse:m.dir==="prev",unique:!!m.unique,query:{index:x,range:m.range}})}function xs(m,v,S,x){var C=m.replayFilter?ti(m.filter,m.replayFilter()):m.filter;if(m.or){var M={},O=function(N,V,H){var q,_;C&&!C(V,H,function(J){return V.stop(J)},function(J){return V.fail(J)})||((_=""+(q=V.primaryKey))=="[object ArrayBuffer]"&&(_=""+new Uint8Array(q)),g(M,_)||(M[_]=!0,v(N,V,H)))};return Promise.all([m.or._iterate(O,S),Ni(cu(m,x,S),m.algorithm,O,!m.keysOnly&&m.valueMapper)])}return Ni(cu(m,x,S),ti(m.algorithm,C),v,!m.keysOnly&&m.valueMapper)}function Ni(m,v,S,x){var C=et(x?function(M,O,N){return S(x(M),O,N)}:S);return m.then(function(M){if(M)return M.start(function(){var O=function(){return M.continue()};v&&!v(M,function(N){return O=N},function(N){M.stop(N),O=ut},function(N){M.fail(N),O=ut})||C(M.value,M,function(N){return O=N}),O()})})}var Es=(du.prototype.execute=function(m){var v=this["@@propmod"];if(v.add!==void 0){var S=v.add;if(c(S))return i(i([],c(m)?m:[],!0),S).sort();if(typeof S=="number")return(Number(m)||0)+S;if(typeof S=="bigint")try{return BigInt(m)+S}catch{return BigInt(0)+S}throw new TypeError("Invalid term ".concat(S))}if(v.remove!==void 0){var x=v.remove;if(c(x))return c(m)?m.filter(function(C){return!x.includes(C)}).sort():[];if(typeof x=="number")return Number(m)-x;if(typeof x=="bigint")try{return BigInt(m)-x}catch{return BigInt(0)-x}throw new TypeError("Invalid subtrahend ".concat(x))}return S=(S=v.replacePrefix)===null||S===void 0?void 0:S[0],S&&typeof m=="string"&&m.startsWith(S)?v.replacePrefix[1]+m.substring(S.length):m},du);function du(m){this["@@propmod"]=m}var Cs=(ot.prototype._read=function(m,v){var S=this._ctx;return S.error?S.table._trans(null,_t.bind(null,S.error)):S.table._trans("readonly",m).then(v)},ot.prototype._write=function(m){var v=this._ctx;return v.error?v.table._trans(null,_t.bind(null,v.error)):v.table._trans("readwrite",m,"locked")},ot.prototype._addAlgorithm=function(m){var v=this._ctx;v.algorithm=ti(v.algorithm,m)},ot.prototype._iterate=function(m,v){return xs(this._ctx,m,v,this._ctx.table.core)},ot.prototype.clone=function(m){var v=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return m&&d(S,m),v._ctx=S,v},ot.prototype.raw=function(){return this._ctx.valueMapper=null,this},ot.prototype.each=function(m){var v=this._ctx;return this._read(function(S){return xs(v,m,S,v.table.core)})},ot.prototype.count=function(m){var v=this;return this._read(function(S){var x=v._ctx,C=x.table.core;if(Ur(x,!0))return C.count({trans:S,query:{index:Ts(x,C.schema),range:x.range}}).then(function(O){return Math.min(O,x.limit)});var M=0;return xs(x,function(){return++M,!1},S,C).then(function(){return M})}).then(m)},ot.prototype.sortBy=function(m,v){var S=m.split(".").reverse(),x=S[0],C=S.length-1;function M(V,H){return H?M(V[S[H]],H-1):V[x]}var O=this._ctx.dir==="next"?1:-1;function N(V,H){return it(M(V,C),M(H,C))*O}return this.toArray(function(V){return V.sort(N)}).then(v)},ot.prototype.toArray=function(m){var v=this;return this._read(function(S){var x=v._ctx;if(x.dir==="next"&&Ur(x,!0)&&0<x.limit){var C=x.valueMapper,M=Ts(x,x.table.core.schema);return x.table.core.query({trans:S,limit:x.limit,values:!0,query:{index:M,range:x.range}}).then(function(N){return N=N.result,C?N.map(C):N})}var O=[];return xs(x,function(N){return O.push(N)},S,x.table.core).then(function(){return O})},m)},ot.prototype.offset=function(m){var v=this._ctx;return m<=0||(v.offset+=m,Ur(v)?On(v,function(){var S=m;return function(x,C){return S===0||(S===1?--S:C(function(){x.advance(S),S=0}),!1)}}):On(v,function(){var S=m;return function(){return--S<0}})),this},ot.prototype.limit=function(m){return this._ctx.limit=Math.min(this._ctx.limit,m),On(this._ctx,function(){var v=m;return function(S,x,C){return--v<=0&&x(C),0<=v}},!0),this},ot.prototype.until=function(m,v){return uu(this._ctx,function(S,x,C){return!m(S.value)||(x(C),v)}),this},ot.prototype.first=function(m){return this.limit(1).toArray(function(v){return v[0]}).then(m)},ot.prototype.last=function(m){return this.reverse().first(m)},ot.prototype.filter=function(m){var v;return uu(this._ctx,function(S){return m(S.value)}),(v=this._ctx).isMatch=ti(v.isMatch,m),this},ot.prototype.and=function(m){return this.filter(m)},ot.prototype.or=function(m){return new this.db.WhereClause(this._ctx.table,m,this)},ot.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ot.prototype.desc=function(){return this.reverse()},ot.prototype.eachKey=function(m){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(S,x){m(x.key,x)})},ot.prototype.eachUniqueKey=function(m){return this._ctx.unique="unique",this.eachKey(m)},ot.prototype.eachPrimaryKey=function(m){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(S,x){m(x.primaryKey,x)})},ot.prototype.keys=function(m){var v=this._ctx;v.keysOnly=!v.isMatch;var S=[];return this.each(function(x,C){S.push(C.key)}).then(function(){return S}).then(m)},ot.prototype.primaryKeys=function(m){var v=this._ctx;if(v.dir==="next"&&Ur(v,!0)&&0<v.limit)return this._read(function(x){var C=Ts(v,v.table.core.schema);return v.table.core.query({trans:x,values:!1,limit:v.limit,query:{index:C,range:v.range}})}).then(function(x){return x.result}).then(m);v.keysOnly=!v.isMatch;var S=[];return this.each(function(x,C){S.push(C.primaryKey)}).then(function(){return S}).then(m)},ot.prototype.uniqueKeys=function(m){return this._ctx.unique="unique",this.keys(m)},ot.prototype.firstKey=function(m){return this.limit(1).keys(function(v){return v[0]}).then(m)},ot.prototype.lastKey=function(m){return this.reverse().firstKey(m)},ot.prototype.distinct=function(){var m=this._ctx,m=m.index&&m.table.schema.idxByName[m.index];if(!m||!m.multi)return this;var v={};return uu(this._ctx,function(C){var x=C.primaryKey.toString(),C=g(v,x);return v[x]=!0,!C}),this},ot.prototype.modify=function(m){var v=this,S=this._ctx;return this._write(function(x){var C,M,O;O=typeof m=="function"?m:(C=l(m),M=C.length,function(F){for(var Z=!1,re=0;re<M;++re){var ie=C[re],oe=m[ie],we=ue(F,ie);oe instanceof Es?(pe(F,ie,oe.execute(we)),Z=!0):we!==oe&&(pe(F,ie,oe),Z=!0)}return Z});var N=S.table.core,_=N.schema.primaryKey,V=_.outbound,H=_.extractKey,q=200,_=v.db._options.modifyChunkSize;_&&(q=typeof _=="object"?_[N.name]||_["*"]||200:_);function J(F,ie){var re=ie.failures,ie=ie.numFailures;K+=F-ie;for(var oe=0,we=l(re);oe<we.length;oe++){var Te=we[oe];j.push(re[Te])}}var j=[],K=0,G=[];return v.clone().primaryKeys().then(function(F){function Z(ie){var oe=Math.min(q,F.length-ie);return N.getMany({trans:x,keys:F.slice(ie,ie+oe),cache:"immutable"}).then(function(we){for(var Te=[],ge=[],Se=V?[]:null,xe=[],ve=0;ve<oe;++ve){var De=we[ve],Ie={value:pt(De),primKey:F[ie+ve]};O.call(Ie,Ie.value,Ie)!==!1&&(Ie.value==null?xe.push(F[ie+ve]):V||it(H(De),H(Ie.value))===0?(ge.push(Ie.value),V&&Se.push(F[ie+ve])):(xe.push(F[ie+ve]),Te.push(Ie.value)))}return Promise.resolve(0<Te.length&&N.mutate({trans:x,type:"add",values:Te}).then(function(Ue){for(var $e in Ue.failures)xe.splice(parseInt($e),1);J(Te.length,Ue)})).then(function(){return(0<ge.length||re&&typeof m=="object")&&N.mutate({trans:x,type:"put",keys:Se,values:ge,criteria:re,changeSpec:typeof m!="function"&&m,isAdditionalChunk:0<ie}).then(function(Ue){return J(ge.length,Ue)})}).then(function(){return(0<xe.length||re&&m===No)&&N.mutate({trans:x,type:"delete",keys:xe,criteria:re,isAdditionalChunk:0<ie}).then(function(Ue){return J(xe.length,Ue)})}).then(function(){return F.length>ie+oe&&Z(ie+q)})})}var re=Ur(S)&&S.limit===1/0&&(typeof m!="function"||m===No)&&{index:S.index,range:S.range};return Z(0).then(function(){if(0<j.length)throw new rt("Error modifying one or more objects",j,K,G);return F.length})})})},ot.prototype.delete=function(){var m=this._ctx,v=m.range;return Ur(m)&&(m.isPrimKey||v.type===3)?this._write(function(S){var x=m.table.core.schema.primaryKey,C=v;return m.table.core.count({trans:S,query:{index:x,range:C}}).then(function(M){return m.table.core.mutate({trans:S,type:"deleteRange",range:C}).then(function(O){var N=O.failures;if(O.lastResult,O.results,O=O.numFailures,O)throw new rt("Could not delete some values",Object.keys(N).map(function(V){return N[V]}),M-O);return M-O})})}):this.modify(No)},ot);function ot(){}var No=function(m,v){return v.value=null};function Ed(m,v){return m<v?-1:m===v?0:1}function fu(m,v){return v<m?-1:m===v?0:1}function Kn(m,v,S){return m=m instanceof _i?new m.Collection(m):m,m._ctx.error=new(S||TypeError)(v),m}function As(m){return new m.Collection(m,function(){return Lo("")}).limit(0)}function Li(m,v,S,x){var C,M,O,N,V,H,q,_=S.length;if(!S.every(function(K){return typeof K=="string"}))return Kn(m,xd);function J(K){C=K==="next"?function(F){return F.toUpperCase()}:function(F){return F.toLowerCase()},M=K==="next"?function(F){return F.toLowerCase()}:function(F){return F.toUpperCase()},O=K==="next"?Ed:fu;var G=S.map(function(F){return{lower:M(F),upper:C(F)}}).sort(function(F,Z){return O(F.lower,Z.lower)});N=G.map(function(F){return F.upper}),V=G.map(function(F){return F.lower}),q=(H=K)==="next"?"":x}J("next"),m=new m.Collection(m,function(){return kr(N[0],V[_-1]+x)}),m._ondirectionchange=function(K){J(K)};var j=0;return m._addAlgorithm(function(K,G,F){var Z=K.key;if(typeof Z!="string")return!1;var re=M(Z);if(v(re,V,j))return!0;for(var ie=null,oe=j;oe<_;++oe){var we=function(Te,ge,Se,xe,ve,De){for(var Ie=Math.min(Te.length,xe.length),Ue=-1,$e=0;$e<Ie;++$e){var kn=ge[$e];if(kn!==xe[$e])return ve(Te[$e],Se[$e])<0?Te.substr(0,$e)+Se[$e]+Se.substr($e+1):ve(Te[$e],xe[$e])<0?Te.substr(0,$e)+xe[$e]+Se.substr($e+1):0<=Ue?Te.substr(0,Ue)+ge[Ue]+Se.substr(Ue+1):null;ve(Te[$e],kn)<0&&(Ue=$e)}return Ie<xe.length&&De==="next"?Te+Se.substr(Te.length):Ie<Te.length&&De==="prev"?Te.substr(0,Se.length):Ue<0?null:Te.substr(0,Ue)+xe[Ue]+Se.substr(Ue+1)}(Z,re,N[oe],V[oe],O,H);we===null&&ie===null?j=oe+1:(ie===null||0<O(ie,we))&&(ie=we)}return G(ie!==null?function(){K.continue(ie+q)}:F),!1}),m}function kr(m,v,S,x){return{type:2,lower:m,upper:v,lowerOpen:S,upperOpen:x}}function Lo(m){return{type:1,lower:m,upper:m}}var _i=(Object.defineProperty(Dt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Dt.prototype.between=function(m,v,S,x){S=S!==!1,x=x===!0;try{return 0<this._cmp(m,v)||this._cmp(m,v)===0&&(S||x)&&(!S||!x)?As(this):new this.Collection(this,function(){return kr(m,v,!S,!x)})}catch{return Kn(this,Sr)}},Dt.prototype.equals=function(m){return m==null?Kn(this,Sr):new this.Collection(this,function(){return Lo(m)})},Dt.prototype.above=function(m){return m==null?Kn(this,Sr):new this.Collection(this,function(){return kr(m,void 0,!0)})},Dt.prototype.aboveOrEqual=function(m){return m==null?Kn(this,Sr):new this.Collection(this,function(){return kr(m,void 0,!1)})},Dt.prototype.below=function(m){return m==null?Kn(this,Sr):new this.Collection(this,function(){return kr(void 0,m,!1,!0)})},Dt.prototype.belowOrEqual=function(m){return m==null?Kn(this,Sr):new this.Collection(this,function(){return kr(void 0,m)})},Dt.prototype.startsWith=function(m){return typeof m!="string"?Kn(this,xd):this.between(m,m+ei,!0,!0)},Dt.prototype.startsWithIgnoreCase=function(m){return m===""?this.startsWith(m):Li(this,function(v,S){return v.indexOf(S[0])===0},[m],ei)},Dt.prototype.equalsIgnoreCase=function(m){return Li(this,function(v,S){return v===S[0]},[m],"")},Dt.prototype.anyOfIgnoreCase=function(){var m=B.apply(Ye,arguments);return m.length===0?As(this):Li(this,function(v,S){return S.indexOf(v)!==-1},m,"")},Dt.prototype.startsWithAnyOfIgnoreCase=function(){var m=B.apply(Ye,arguments);return m.length===0?As(this):Li(this,function(v,S){return S.some(function(x){return v.indexOf(x)===0})},m,ei)},Dt.prototype.anyOf=function(){var m=this,v=B.apply(Ye,arguments),S=this._cmp;try{v.sort(S)}catch{return Kn(this,Sr)}if(v.length===0)return As(this);var x=new this.Collection(this,function(){return kr(v[0],v[v.length-1])});x._ondirectionchange=function(M){S=M==="next"?m._ascending:m._descending,v.sort(S)};var C=0;return x._addAlgorithm(function(M,O,N){for(var V=M.key;0<S(V,v[C]);)if(++C===v.length)return O(N),!1;return S(V,v[C])===0||(O(function(){M.continue(v[C])}),!1)}),x},Dt.prototype.notEqual=function(m){return this.inAnyRange([[-1/0,m],[m,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Dt.prototype.noneOf=function(){var m=B.apply(Ye,arguments);if(m.length===0)return new this.Collection(this);try{m.sort(this._ascending)}catch{return Kn(this,Sr)}var v=m.reduce(function(S,x){return S?S.concat([[S[S.length-1][1],x]]):[[-1/0,x]]},null);return v.push([m[m.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},Dt.prototype.inAnyRange=function(Z,v){var S=this,x=this._cmp,C=this._ascending,M=this._descending,O=this._min,N=this._max;if(Z.length===0)return As(this);if(!Z.every(function(re){return re[0]!==void 0&&re[1]!==void 0&&C(re[0],re[1])<=0}))return Kn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Le.InvalidArgument);var V=!v||v.includeLowers!==!1,H=v&&v.includeUppers===!0,q,_=C;function J(re,ie){return _(re[0],ie[0])}try{(q=Z.reduce(function(re,ie){for(var oe=0,we=re.length;oe<we;++oe){var Te=re[oe];if(x(ie[0],Te[1])<0&&0<x(ie[1],Te[0])){Te[0]=O(Te[0],ie[0]),Te[1]=N(Te[1],ie[1]);break}}return oe===we&&re.push(ie),re},[])).sort(J)}catch{return Kn(this,Sr)}var j=0,K=H?function(re){return 0<C(re,q[j][1])}:function(re){return 0<=C(re,q[j][1])},G=V?function(re){return 0<M(re,q[j][0])}:function(re){return 0<=M(re,q[j][0])},F=K,Z=new this.Collection(this,function(){return kr(q[0][0],q[q.length-1][1],!V,!H)});return Z._ondirectionchange=function(re){_=re==="next"?(F=K,C):(F=G,M),q.sort(J)},Z._addAlgorithm(function(re,ie,oe){for(var we,Te=re.key;F(Te);)if(++j===q.length)return ie(oe),!1;return!K(we=Te)&&!G(we)||(S._cmp(Te,q[j][1])===0||S._cmp(Te,q[j][0])===0||ie(function(){_===C?re.continue(q[j][0]):re.continue(q[j][1])}),!1)}),Z},Dt.prototype.startsWithAnyOf=function(){var m=B.apply(Ye,arguments);return m.every(function(v){return typeof v=="string"})?m.length===0?As(this):this.inAnyRange(m.map(function(v){return[v,v+ei]})):Kn(this,"startsWithAnyOf() only works with strings")},Dt);function Dt(){}function or(m){return et(function(v){return Bi(v),m(v.target.error),!1})}function Bi(m){m.stopPropagation&&m.stopPropagation(),m.preventDefault&&m.preventDefault()}var Ms="storagemutated",Ii="x-storagemutated-1",dn=ni(null,Ms),pu=(Nn.prototype._lock=function(){return ae(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this},Nn.prototype._unlock=function(){if(ae(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var m=this._blockedFuncs.shift();try{Xr(m[1],m[0])}catch{}}return this},Nn.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},Nn.prototype.create=function(m){var v=this;if(!this.mode)return this;var S=this.db.idbdb,x=this.db._state.dbOpenError;if(ae(!this.idbtrans),!m&&!S)switch(x&&x.name){case"DatabaseClosedError":throw new Le.DatabaseClosed(x);case"MissingAPIError":throw new Le.MissingAPI(x.message,x);default:throw new Le.OpenFailed(x)}if(!this.active)throw new Le.TransactionInactive;return ae(this._completion._state===null),(m=this.idbtrans=m||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=et(function(C){Bi(C),v._reject(m.error)}),m.onabort=et(function(C){Bi(C),v.active&&v._reject(new Le.Abort(m.error)),v.active=!1,v.on("abort").fire(C)}),m.oncomplete=et(function(){v.active=!1,v._resolve(),"mutatedParts"in m&&dn.storagemutated.fire(m.mutatedParts)}),this},Nn.prototype._promise=function(m,v,S){var x=this;if(m==="readwrite"&&this.mode!=="readwrite")return _t(new Le.ReadOnly("Transaction is readonly"));if(!this.active)return _t(new Le.TransactionInactive);if(this._locked())return new Ce(function(M,O){x._blockedFuncs.push([function(){x._promise(m,v,S).then(M,O)},Oe])});if(S)return br(function(){var M=new Ce(function(O,N){x._lock();var V=v(O,N,x);V&&V.then&&V.then(O,N)});return M.finally(function(){return x._unlock()}),M._lib=!0,M});var C=new Ce(function(M,O){var N=v(M,O,x);N&&N.then&&N.then(M,O)});return C._lib=!0,C},Nn.prototype._root=function(){return this.parent?this.parent._root():this},Nn.prototype.waitFor=function(m){var v,S=this._root(),x=Ce.resolve(m);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return x}):(S._waitingFor=x,S._waitingQueue=[],v=S.idbtrans.objectStore(S.storeNames[0]),function M(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(v.get(-1/0).onsuccess=M)}());var C=S._waitingFor;return new Ce(function(M,O){x.then(function(N){return S._waitingQueue.push(et(M.bind(null,N)))},function(N){return S._waitingQueue.push(et(O.bind(null,N)))}).finally(function(){S._waitingFor===C&&(S._waitingFor=null)})})},Nn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Le.Abort))},Nn.prototype.table=function(m){var v=this._memoizedTables||(this._memoizedTables={});if(g(v,m))return v[m];var S=this.schema[m];if(!S)throw new Le.NotFound("Table "+m+" not part of transaction");return S=new this.db.Table(m,S,this),S.core=this.db.core.table(m),v[m]=S},Nn);function Nn(){}function Tr(m,v,S,x,C,M,O){return{name:m,keyPath:v,unique:S,multi:x,auto:C,compound:M,src:(S&&!O?"&":"")+(x?"*":"")+(C?"++":"")+_o(v)}}function _o(m){return typeof m=="string"?m:m?"["+[].join.call(m,"+")+"]":""}function Rs(m,v,S){return{name:m,primKey:v,indexes:S,mappedClass:null,idxByName:(x=function(C){return[C.name,C]},S.reduce(function(C,M,O){return O=x(M,O),O&&(C[O[0]]=O[1]),C},{}))};var x}var Ds=function(m){try{return m.only([[]]),Ds=function(){return[[]]},[[]]}catch{return Ds=function(){return ei},ei}};function Ps(m){return m==null?function(){}:typeof m=="string"?(v=m).split(".").length===1?function(S){return S[v]}:function(S){return ue(S,v)}:function(S){return ue(S,m)};var v}function Na(m){return[].slice.call(m)}var Cd=0;function Zt(m){return m==null?":id":typeof m=="string"?m:"[".concat(m.join("+"),"]")}function ji(m,v,V){function x(F){if(F.type===3)return null;if(F.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var j=F.lower,K=F.upper,G=F.lowerOpen,F=F.upperOpen;return j===void 0?K===void 0?null:v.upperBound(K,!!F):K===void 0?v.lowerBound(j,!!G):v.bound(j,K,!!G,!!F)}function C(J){var j,K=J.name;return{name:K,schema:J,mutate:function(G){var F=G.trans,Z=G.type,re=G.keys,ie=G.values,oe=G.range;return new Promise(function(we,Te){we=et(we);var ge=F.objectStore(K),Se=ge.keyPath==null,xe=Z==="put"||Z==="add";if(!xe&&Z!=="delete"&&Z!=="deleteRange")throw new Error("Invalid operation type: "+Z);var ve,De=(re||ie||{length:1}).length;if(re&&ie&&re.length!==ie.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return we({numFailures:0,failures:{},results:[],lastResult:void 0});function Ie(pn){++kn,Bi(pn)}var Ue=[],$e=[],kn=0;if(Z==="deleteRange"){if(oe.type===4)return we({numFailures:kn,failures:$e,results:[],lastResult:void 0});oe.type===3?Ue.push(ve=ge.clear()):Ue.push(ve=ge.delete(x(oe)))}else{var Se=xe?Se?[ie,re]:[ie,null]:[re,null],Ke=Se[0],$t=Se[1];if(xe)for(var en=0;en<De;++en)Ue.push(ve=$t&&$t[en]!==void 0?ge[Z](Ke[en],$t[en]):ge[Z](Ke[en])),ve.onerror=Ie;else for(en=0;en<De;++en)Ue.push(ve=ge[Z](Ke[en])),ve.onerror=Ie}function Hr(pn){pn=pn.target.result,Ue.forEach(function(Er,ai){return Er.error!=null&&($e[ai]=Er.error)}),we({numFailures:kn,failures:$e,results:Z==="delete"?re:Ue.map(function(Er){return Er.result}),lastResult:pn})}ve.onerror=function(pn){Ie(pn),Hr(pn)},ve.onsuccess=Hr})},getMany:function(G){var F=G.trans,Z=G.keys;return new Promise(function(re,ie){re=et(re);for(var oe,we=F.objectStore(K),Te=Z.length,ge=new Array(Te),Se=0,xe=0,ve=function(Ue){Ue=Ue.target,ge[Ue._pos]=Ue.result,++xe===Se&&re(ge)},De=or(ie),Ie=0;Ie<Te;++Ie)Z[Ie]!=null&&((oe=we.get(Z[Ie]))._pos=Ie,oe.onsuccess=ve,oe.onerror=De,++Se);Se===0&&re(ge)})},get:function(G){var F=G.trans,Z=G.key;return new Promise(function(re,ie){re=et(re);var oe=F.objectStore(K).get(Z);oe.onsuccess=function(we){return re(we.target.result)},oe.onerror=or(ie)})},query:(j=H,function(G){return new Promise(function(F,Z){F=et(F);var re,ie,oe,Se=G.trans,we=G.values,Te=G.limit,ve=G.query,ge=Te===1/0?void 0:Te,xe=ve.index,ve=ve.range,Se=Se.objectStore(K),xe=xe.isPrimaryKey?Se:Se.index(xe.name),ve=x(ve);if(Te===0)return F({result:[]});j?((ge=we?xe.getAll(ve,ge):xe.getAllKeys(ve,ge)).onsuccess=function(De){return F({result:De.target.result})},ge.onerror=or(Z)):(re=0,ie=!we&&"openKeyCursor"in xe?xe.openKeyCursor(ve):xe.openCursor(ve),oe=[],ie.onsuccess=function(De){var Ie=ie.result;return Ie?(oe.push(we?Ie.value:Ie.primaryKey),++re===Te?F({result:oe}):void Ie.continue()):F({result:oe})},ie.onerror=or(Z))})}),openCursor:function(G){var F=G.trans,Z=G.values,re=G.query,ie=G.reverse,oe=G.unique;return new Promise(function(we,Te){we=et(we);var xe=re.index,ge=re.range,Se=F.objectStore(K),Se=xe.isPrimaryKey?Se:Se.index(xe.name),xe=ie?oe?"prevunique":"prev":oe?"nextunique":"next",ve=!Z&&"openKeyCursor"in Se?Se.openKeyCursor(x(ge),xe):Se.openCursor(x(ge),xe);ve.onerror=or(Te),ve.onsuccess=et(function(De){var Ie,Ue,$e,kn,Ke=ve.result;Ke?(Ke.___id=++Cd,Ke.done=!1,Ie=Ke.continue.bind(Ke),Ue=(Ue=Ke.continuePrimaryKey)&&Ue.bind(Ke),$e=Ke.advance.bind(Ke),kn=function(){throw new Error("Cursor not stopped")},Ke.trans=F,Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=function(){throw new Error("Cursor not started")},Ke.fail=et(Te),Ke.next=function(){var $t=this,en=1;return this.start(function(){return en--?$t.continue():$t.stop()}).then(function(){return $t})},Ke.start=function($t){function en(){if(ve.result)try{$t()}catch(pn){Ke.fail(pn)}else Ke.done=!0,Ke.start=function(){throw new Error("Cursor behind last entry")},Ke.stop()}var Hr=new Promise(function(pn,Er){pn=et(pn),ve.onerror=or(Er),Ke.fail=Er,Ke.stop=function(ai){Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=kn,pn(ai)}});return ve.onsuccess=et(function(pn){ve.onsuccess=en,en()}),Ke.continue=Ie,Ke.continuePrimaryKey=Ue,Ke.advance=$e,en(),Hr},we(Ke)):we(null)},Te)})},count:function(G){var F=G.query,Z=G.trans,re=F.index,ie=F.range;return new Promise(function(oe,we){var Te=Z.objectStore(K),ge=re.isPrimaryKey?Te:Te.index(re.name),Te=x(ie),ge=Te?ge.count(Te):ge.count();ge.onsuccess=et(function(Se){return oe(Se.target.result)}),ge.onerror=or(we)})}}}var M,O,N,q=(O=V,N=Na((M=m).objectStoreNames),{schema:{name:M.name,tables:N.map(function(J){return O.objectStore(J)}).map(function(J){var j=J.keyPath,F=J.autoIncrement,K=c(j),G={},F={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:j==null,compound:K,keyPath:j,autoIncrement:F,unique:!0,extractKey:Ps(j)},indexes:Na(J.indexNames).map(function(Z){return J.index(Z)}).map(function(oe){var re=oe.name,ie=oe.unique,we=oe.multiEntry,oe=oe.keyPath,we={name:re,compound:c(oe),keyPath:oe,unique:ie,multiEntry:we,extractKey:Ps(oe)};return G[Zt(oe)]=we}),getIndexByKeyPath:function(Z){return G[Zt(Z)]}};return G[":id"]=F.primaryKey,j!=null&&(G[Zt(j)]=F.primaryKey),F})},hasGetAll:0<N.length&&"getAll"in O.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),V=q.schema,H=q.hasGetAll,q=V.tables.map(C),_={};return q.forEach(function(J){return _[J.name]=J}),{stack:"dbcore",transaction:m.transaction.bind(m),table:function(J){if(!_[J])throw new Error("Table '".concat(J,"' not found"));return _[J]},MIN_KEY:-1/0,MAX_KEY:Ds(v),schema:V}}function Bo(m,v,S,x){var C=S.IDBKeyRange;return S.indexedDB,{dbcore:(x=ji(v,C,x),m.dbcore.reduce(function(M,O){return O=O.create,r(r({},M),O(M))},x))}}function ri(m,x){var S=x.db,x=Bo(m._middlewares,S,m._deps,x);m.core=x.dbcore,m.tables.forEach(function(C){var M=C.name;m.core.schema.tables.some(function(O){return O.name===M})&&(C.core=m.core.table(M),m[M]instanceof m.Table&&(m[M].core=C.core))})}function Io(m,v,S,x){S.forEach(function(C){var M=x[C];v.forEach(function(O){var N=function V(H,q){return D(H,q)||(H=p(H))&&V(H,q)}(O,C);(!N||"value"in N&&N.value===void 0)&&(O===m.Transaction.prototype||O instanceof m.Transaction?T(O,C,{get:function(){return this.table(C)},set:function(V){k(this,C,{value:V,writable:!0,configurable:!0,enumerable:!0})}}):O[C]=new m.Table(C,M))})})}function La(m,v){v.forEach(function(S){for(var x in S)S[x]instanceof m.Table&&delete S[x]})}function hu(m,v){return m._cfg.version-v._cfg.version}function _a(m,v,S,x){var C=m._dbSchema;S.objectStoreNames.contains("$meta")&&!C.$meta&&(C.$meta=Rs("$meta",Md("")[0],[]),m._storeNames.push("$meta"));var M=m._createTransaction("readwrite",m._storeNames,C);M.create(S),M._completion.catch(x);var O=M._reject.bind(M),N=Oe.transless||Oe;br(function(){return Oe.trans=M,Oe.transless=N,v!==0?(ri(m,S),H=v,((V=M).storeNames.includes("$meta")?V.table("$meta").get("version").then(function(q){return q??H}):Ce.resolve(H)).then(function(q){return J=q,j=M,K=S,G=[],q=(_=m)._versions,F=_._dbSchema=Os(0,_.idbdb,K),(q=q.filter(function(Z){return Z._cfg.version>=J})).length!==0?(q.forEach(function(Z){G.push(function(){var re=F,ie=Z._cfg.dbschema;Uo(_,re,K),Uo(_,ie,K),F=_._dbSchema=ie;var oe=zo(re,ie);oe.add.forEach(function(xe){mu(K,xe[0],xe[1].primKey,xe[1].indexes)}),oe.change.forEach(function(xe){if(xe.recreate)throw new Le.Upgrade("Not yet support for changing primary key");var ve=K.objectStore(xe.name);xe.add.forEach(function(De){return Vo(ve,De)}),xe.change.forEach(function(De){ve.deleteIndex(De.name),Vo(ve,De)}),xe.del.forEach(function(De){return ve.deleteIndex(De)})});var we=Z._cfg.contentUpgrade;if(we&&Z._cfg.version>J){ri(_,K),j._memoizedTables={};var Te=de(ie);oe.del.forEach(function(xe){Te[xe]=re[xe]}),La(_,[_.Transaction.prototype]),Io(_,[_.Transaction.prototype],l(Te),Te),j.schema=Te;var ge,Se=ce(we);return Se&&sr(),oe=Ce.follow(function(){var xe;(ge=we(j))&&Se&&(xe=Hn.bind(null,null),ge.then(xe,xe))}),ge&&typeof ge.then=="function"?Ce.resolve(ge):oe.then(function(){return ge})}}),G.push(function(re){var ie,oe,we=Z._cfg.dbschema;ie=we,oe=re,[].slice.call(oe.db.objectStoreNames).forEach(function(Te){return ie[Te]==null&&oe.db.deleteObjectStore(Te)}),La(_,[_.Transaction.prototype]),Io(_,[_.Transaction.prototype],_._storeNames,_._dbSchema),j.schema=_._dbSchema}),G.push(function(re){_.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(_.idbdb.version/10)===Z._cfg.version?(_.idbdb.deleteObjectStore("$meta"),delete _._dbSchema.$meta,_._storeNames=_._storeNames.filter(function(ie){return ie!=="$meta"})):re.objectStore("$meta").put(Z._cfg.version,"version"))})}),function Z(){return G.length?Ce.resolve(G.shift()(j.idbtrans)).then(Z):Ce.resolve()}().then(function(){Ad(F,K)})):Ce.resolve();var _,J,j,K,G,F}).catch(O)):(l(C).forEach(function(q){mu(S,q,C[q].primKey,C[q].indexes)}),ri(m,S),void Ce.follow(function(){return m.on.populate.fire(M)}).catch(O));var V,H})}function jo(m,v){Ad(m._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var S=Os(0,m.idbdb,v);Uo(m,m._dbSchema,v);for(var x=0,C=zo(S,m._dbSchema).change;x<C.length;x++){var M=function(O){if(O.change.length||O.recreate)return console.warn("Unable to patch indexes of table ".concat(O.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=v.objectStore(O.name);O.add.forEach(function(V){Un&&console.debug("Dexie upgrade patch: Creating missing index ".concat(O.name,".").concat(V.src)),Vo(N,V)})}(C[x]);if(typeof M=="object")return M.value}}function zo(m,v){var S,x={del:[],add:[],change:[]};for(S in m)v[S]||x.del.push(S);for(S in v){var C=m[S],M=v[S];if(C){var O={name:S,def:M,recreate:!1,del:[],add:[],change:[]};if(""+(C.primKey.keyPath||"")!=""+(M.primKey.keyPath||"")||C.primKey.auto!==M.primKey.auto)O.recreate=!0,x.change.push(O);else{var N=C.idxByName,V=M.idxByName,H=void 0;for(H in N)V[H]||O.del.push(H);for(H in V){var q=N[H],_=V[H];q?q.src!==_.src&&O.change.push(_):O.add.push(_)}(0<O.del.length||0<O.add.length||0<O.change.length)&&x.change.push(O)}}else x.add.push([S,M])}return x}function mu(m,v,S,x){var C=m.db.createObjectStore(v,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return x.forEach(function(M){return Vo(C,M)}),C}function Ad(m,v){l(m).forEach(function(S){v.db.objectStoreNames.contains(S)||(Un&&console.debug("Dexie: Creating missing table",S),mu(v,S,m[S].primKey,m[S].indexes))})}function Vo(m,v){m.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function Os(m,v,S){var x={};return z(v.objectStoreNames,0).forEach(function(C){for(var M=S.objectStore(C),O=Tr(_o(H=M.keyPath),H||"",!0,!1,!!M.autoIncrement,H&&typeof H!="string",!0),N=[],V=0;V<M.indexNames.length;++V){var q=M.index(M.indexNames[V]),H=q.keyPath,q=Tr(q.name,H,!!q.unique,!!q.multiEntry,!1,H&&typeof H!="string",!1);N.push(q)}x[C]=Rs(C,O,N)}),x}function Uo(m,v,S){for(var x=S.db.objectStoreNames,C=0;C<x.length;++C){var M=x[C],O=S.objectStore(M);m._hasGetAll="getAll"in O;for(var N=0;N<O.indexNames.length;++N){var V=O.indexNames[N],H=O.index(V).keyPath,q=typeof H=="string"?H:"["+z(H).join("+")+"]";!v[M]||(H=v[M].idxByName[q])&&(H.name=V,delete v[M].idxByName[q],v[M].idxByName[V]=H)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(m._hasGetAll=!1)}function Md(m){return m.split(",").map(function(v,S){var x=(v=v.trim()).replace(/([&*]|\+\+)/g,""),C=/^\[/.test(x)?x.match(/^\[(.*)\]$/)[1].split("+"):x;return Tr(x,C||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),c(C),S===0)})}var Nh=(Ho.prototype._parseStoresSpec=function(m,v){l(m).forEach(function(S){if(m[S]!==null){var x=Md(m[S]),C=x.shift();if(C.unique=!0,C.multi)throw new Le.Schema("Primary key cannot be multi-valued");x.forEach(function(M){if(M.auto)throw new Le.Schema("Only primary key can be marked as autoIncrement (++)");if(!M.keyPath)throw new Le.Schema("Index must have a name and cannot be an empty string")}),v[S]=Rs(S,C,x)}})},Ho.prototype.stores=function(S){var v=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,S):S;var S=v._versions,x={},C={};return S.forEach(function(M){d(x,M._cfg.storesSource),C=M._cfg.dbschema={},M._parseStoresSpec(x,C)}),v._dbSchema=C,La(v,[v._allTables,v,v.Transaction.prototype]),Io(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],l(C),C),v._storeNames=l(C),this},Ho.prototype.upgrade=function(m){return this._cfg.contentUpgrade=Ao(this._cfg.contentUpgrade||ut,m),this},Ho);function Ho(){}function yu(m,v){var S=m._dbNamesDB;return S||(S=m._dbNamesDB=new xr(Pi,{addons:[],indexedDB:m,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function Fo(m){return m&&typeof m.databases=="function"}function gu(m){return br(function(){return Oe.letThrough=!0,m()})}function vu(m){return!("from"in m)}var fn=function(m,v){if(!this){var S=new fn;return m&&"d"in m&&d(S,m),S}d(this,arguments.length?{d:1,from:m,to:1<arguments.length?v:m}:{d:0})};function Ba(m,v,S){var x=it(v,S);if(!isNaN(x)){if(0<x)throw RangeError();if(vu(m))return d(m,{from:v,to:S,d:1});var C=m.l,x=m.r;if(it(S,m.from)<0)return C?Ba(C,v,S):m.l={from:v,to:S,d:1,l:null,r:null},Dd(m);if(0<it(v,m.to))return x?Ba(x,v,S):m.r={from:v,to:S,d:1,l:null,r:null},Dd(m);it(v,m.from)<0&&(m.from=v,m.l=null,m.d=x?x.d+1:1),0<it(S,m.to)&&(m.to=S,m.r=null,m.d=m.l?m.l.d+1:1),S=!m.r,C&&!m.l&&zi(m,C),x&&S&&zi(m,x)}}function zi(m,v){vu(v)||function S(x,V){var M=V.from,O=V.to,N=V.l,V=V.r;Ba(x,M,O),N&&S(x,N),V&&S(x,V)}(m,v)}function Rd(m,v){var S=Ko(v),x=S.next();if(x.done)return!1;for(var C=x.value,M=Ko(m),O=M.next(C.from),N=O.value;!x.done&&!O.done;){if(it(N.from,C.to)<=0&&0<=it(N.to,C.from))return!0;it(C.from,N.from)<0?C=(x=S.next(N.from)).value:N=(O=M.next(C.from)).value}return!1}function Ko(m){var v=vu(m)?null:{s:0,n:m};return{next:function(S){for(var x=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,x)for(;v.n.l&&it(S,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!x||it(S,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function Dd(m){var v,S,x=(((v=m.r)===null||v===void 0?void 0:v.d)||0)-(((S=m.l)===null||S===void 0?void 0:S.d)||0),C=1<x?"r":x<-1?"l":"";C&&(v=C=="r"?"l":"r",S=r({},m),x=m[C],m.from=x.from,m.to=x.to,m[C]=x[C],S[C]=x[v],(m[v]=S).d=wu(S)),m.d=wu(m)}function wu(S){var v=S.r,S=S.l;return(v?S?Math.max(v.d,S.d):v.d:S?S.d:0)+1}function qo(m,v){return l(v).forEach(function(S){m[S]?zi(m[S],v[S]):m[S]=function x(C){var M,O,N={};for(M in C)g(C,M)&&(O=C[M],N[M]=!O||typeof O!="object"||dt.has(O.constructor)?O:x(O));return N}(v[S])}),m}function bu(m,v){return m.all||v.all||Object.keys(m).some(function(S){return v[S]&&Rd(v[S],m[S])})}b(fn.prototype,((qn={add:function(m){return zi(this,m),this},addKey:function(m){return Ba(this,m,m),this},addKeys:function(m){var v=this;return m.forEach(function(S){return Ba(v,S,S)}),this},hasKey:function(m){var v=Ko(this).next(m).value;return v&&it(v.from,m)<=0&&0<=it(v.to,m)}})[se]=function(){return Ko(this)},qn));var Vi={},Su={},ku=!1;function Wo(m){qo(Su,m),ku||(ku=!0,setTimeout(function(){ku=!1,Tu(Su,!(Su={}))},0))}function Tu(m,v){v===void 0&&(v=!1);var S=new Set;if(m.all)for(var x=0,C=Object.values(Vi);x<C.length;x++)Pd(O=C[x],m,S,v);else for(var M in m){var O,N=/^idb\:\/\/(.*)\/(.*)\//.exec(M);N&&(M=N[1],N=N[2],(O=Vi["idb://".concat(M,"/").concat(N)])&&Pd(O,m,S,v))}S.forEach(function(V){return V()})}function Pd(m,v,S,x){for(var C=[],M=0,O=Object.entries(m.queries.query);M<O.length;M++){for(var N=O[M],V=N[0],H=[],q=0,_=N[1];q<_.length;q++){var J=_[q];bu(v,J.obsSet)?J.subscribers.forEach(function(F){return S.add(F)}):x&&H.push(J)}x&&C.push([V,H])}if(x)for(var j=0,K=C;j<K.length;j++){var G=K[j],V=G[0],H=G[1];m.queries.query[V]=H}}function Lh(m){var v=m._state,S=m._deps.indexedDB;if(v.isBeingOpened||m.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?_t(v.dbOpenError):m});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var x=v.openCanceller,C=Math.round(10*m.verno),M=!1;function O(){if(v.openCanceller!==x)throw new Le.DatabaseClosed("db.open() was cancelled")}function N(){return new Ce(function(J,j){if(O(),!S)throw new Le.MissingAPI;var K=m.name,G=v.autoSchema||!C?S.open(K):S.open(K,C);if(!G)throw new Le.MissingAPI;G.onerror=or(j),G.onblocked=et(m._fireOnBlocked),G.onupgradeneeded=et(function(F){var Z;q=G.transaction,v.autoSchema&&!m._options.allowEmptyDB?(G.onerror=Bi,q.abort(),G.result.close(),(Z=S.deleteDatabase(K)).onsuccess=Z.onerror=et(function(){j(new Le.NoSuchDatabase("Database ".concat(K," doesnt exist")))})):(q.onerror=or(j),F=F.oldVersion>Math.pow(2,62)?0:F.oldVersion,_=F<1,m.idbdb=G.result,M&&jo(m,q),_a(m,F/10,q,j))},j),G.onsuccess=et(function(){q=null;var F,Z,re,ie,oe,we=m.idbdb=G.result,Te=z(we.objectStoreNames);if(0<Te.length)try{var ge=we.transaction((ie=Te).length===1?ie[0]:ie,"readonly");if(v.autoSchema)Z=we,re=ge,(F=m).verno=Z.version/10,re=F._dbSchema=Os(0,Z,re),F._storeNames=z(Z.objectStoreNames,0),Io(F,[F._allTables],l(re),re);else if(Uo(m,m._dbSchema,ge),((oe=zo(Os(0,(oe=m).idbdb,ge),oe._dbSchema)).add.length||oe.change.some(function(Se){return Se.add.length||Se.change.length}))&&!M)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),we.close(),C=we.version+1,M=!0,J(N());ri(m,ge)}catch{}Vr.push(m),we.onversionchange=et(function(Se){v.vcFired=!0,m.on("versionchange").fire(Se)}),we.onclose=et(function(Se){m.on("close").fire(Se)}),_&&(oe=m._deps,ge=K,we=oe.indexedDB,oe=oe.IDBKeyRange,Fo(we)||ge===Pi||yu(we,oe).put({name:ge}).catch(ut)),J()},j)}).catch(function(J){switch(J?.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<C)return C=0,N()}return Ce.reject(J)})}var V,H=v.dbReadyResolve,q=null,_=!1;return Ce.race([x,(typeof navigator>"u"?Ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function j(){return indexedDB.databases().finally(J)}V=setInterval(j,100),j()}).finally(function(){return clearInterval(V)}):Promise.resolve()).then(N)]).then(function(){return O(),v.onReadyBeingFired=[],Ce.resolve(gu(function(){return m.on.ready.fire(m.vip)})).then(function J(){if(0<v.onReadyBeingFired.length){var j=v.onReadyBeingFired.reduce(Ao,ut);return v.onReadyBeingFired=[],Ce.resolve(gu(function(){return j(m.vip)})).then(J)}})}).finally(function(){v.openCanceller===x&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(J){v.dbOpenError=J;try{q&&q.abort()}catch{}return x===v.openCanceller&&m._close(),_t(J)}).finally(function(){v.openComplete=!0,H()}).then(function(){var J;return _&&(J={},m.tables.forEach(function(j){j.schema.indexes.forEach(function(K){K.name&&(J["idb://".concat(m.name,"/").concat(j.name,"/").concat(K.name)]=new fn(-1/0,[[[]]]))}),J["idb://".concat(m.name,"/").concat(j.name,"/")]=J["idb://".concat(m.name,"/").concat(j.name,"/:dels")]=new fn(-1/0,[[[]]])}),dn(Ms).fire(J),Tu(J,!0)),m})}function Ia(m){function v(M){return m.next(M)}var S=C(v),x=C(function(M){return m.throw(M)});function C(M){return function(V){var N=M(V),V=N.value;return N.done?V:V&&typeof V.then=="function"?V.then(S,x):c(V)?Promise.all(V).then(S,x):S(V)}}return C(v)()}function ii(m,v,S){for(var x=c(m)?m.slice():[m],C=0;C<S;++C)x.push(v);return x}var _h={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(m){return r(r({},m),{table:function(v){var S=m.table(v),x=S.schema,C={},M=[];function O(_,J,j){var K=Zt(_),G=C[K]=C[K]||[],F=_==null?0:typeof _=="string"?1:_.length,Z=0<J,Z=r(r({},j),{name:Z?"".concat(K,"(virtual-from:").concat(j.name,")"):j.name,lowLevelIndex:j,isVirtual:Z,keyTail:J,keyLength:F,extractKey:Ps(_),unique:!Z&&j.unique});return G.push(Z),Z.isPrimaryKey||M.push(Z),1<F&&O(F===2?_[0]:_.slice(0,F-1),J+1,j),G.sort(function(re,ie){return re.keyTail-ie.keyTail}),Z}v=O(x.primaryKey.keyPath,0,x.primaryKey),C[":id"]=[v];for(var N=0,V=x.indexes;N<V.length;N++){var H=V[N];O(H.keyPath,0,H)}function q(_){var J,j=_.query.index;return j.isVirtual?r(r({},_),{query:{index:j.lowLevelIndex,range:(J=_.query.range,j=j.keyTail,{type:J.type===1?2:J.type,lower:ii(J.lower,J.lowerOpen?m.MAX_KEY:m.MIN_KEY,j),lowerOpen:!0,upper:ii(J.upper,J.upperOpen?m.MIN_KEY:m.MAX_KEY,j),upperOpen:!0})}}):_}return r(r({},S),{schema:r(r({},x),{primaryKey:v,indexes:M,getIndexByKeyPath:function(_){return(_=C[Zt(_)])&&_[0]}}),count:function(_){return S.count(q(_))},query:function(_){return S.query(q(_))},openCursor:function(_){var J=_.query.index,j=J.keyTail,K=J.isVirtual,G=J.keyLength;return K?S.openCursor(q(_)).then(function(Z){return Z&&F(Z)}):S.openCursor(_);function F(Z){return Object.create(Z,{continue:{value:function(re){re!=null?Z.continue(ii(re,_.reverse?m.MAX_KEY:m.MIN_KEY,j)):_.unique?Z.continue(Z.key.slice(0,G).concat(_.reverse?m.MIN_KEY:m.MAX_KEY,j)):Z.continue()}},continuePrimaryKey:{value:function(re,ie){Z.continuePrimaryKey(ii(re,m.MAX_KEY,j),ie)}},primaryKey:{get:function(){return Z.primaryKey}},key:{get:function(){var re=Z.key;return G===1?re[0]:re.slice(0,G)}},value:{get:function(){return Z.value}}})}}})}})}};function Jo(m,v,S,x){return S=S||{},x=x||"",l(m).forEach(function(C){var M,O,N;g(v,C)?(M=m[C],O=v[C],typeof M=="object"&&typeof O=="object"&&M&&O?(N=mt(M))!==mt(O)?S[x+C]=v[C]:N==="Object"?Jo(M,O,S,x+C+"."):M!==O&&(S[x+C]=v[C]):M!==O&&(S[x+C]=v[C])):S[x+C]=void 0}),l(v).forEach(function(C){g(m,C)||(S[x+C]=v[C])}),S}function $o(m,v){return v.type==="delete"?v.keys:v.keys||v.values.map(m.extractKey)}var Od={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(m){return r(r({},m),{table:function(v){var S=m.table(v),x=S.schema.primaryKey;return r(r({},S),{mutate:function(C){var M=Oe.trans,O=M.table(v).hook,N=O.deleting,V=O.creating,H=O.updating;switch(C.type){case"add":if(V.fire===ut)break;return M._promise("readwrite",function(){return q(C)},!0);case"put":if(V.fire===ut&&H.fire===ut)break;return M._promise("readwrite",function(){return q(C)},!0);case"delete":if(N.fire===ut)break;return M._promise("readwrite",function(){return q(C)},!0);case"deleteRange":if(N.fire===ut)break;return M._promise("readwrite",function(){return function _(J,j,K){return S.query({trans:J,values:!1,query:{index:x,range:j},limit:K}).then(function(G){var F=G.result;return q({type:"delete",keys:F,trans:J}).then(function(Z){return 0<Z.numFailures?Promise.reject(Z.failures[0]):F.length<K?{failures:[],numFailures:0,lastResult:void 0}:_(J,r(r({},j),{lower:F[F.length-1],lowerOpen:!0}),K)})})}(C.trans,C.range,1e4)},!0)}return S.mutate(C);function q(_){var J,j,K,G=Oe.trans,F=_.keys||$o(x,_);if(!F)throw new Error("Keys missing");return(_=_.type==="add"||_.type==="put"?r(r({},_),{keys:F}):r({},_)).type!=="delete"&&(_.values=i([],_.values)),_.keys&&(_.keys=i([],_.keys)),J=S,K=F,((j=_).type==="add"?Promise.resolve([]):J.getMany({trans:j.trans,keys:K,cache:"immutable"})).then(function(Z){var re=F.map(function(ie,oe){var we,Te,ge,Se=Z[oe],xe={onerror:null,onsuccess:null};return _.type==="delete"?N.fire.call(xe,ie,Se,G):_.type==="add"||Se===void 0?(we=V.fire.call(xe,ie,_.values[oe],G),ie==null&&we!=null&&(_.keys[oe]=ie=we,x.outbound||pe(_.values[oe],x.keyPath,ie))):(we=Jo(Se,_.values[oe]),(Te=H.fire.call(xe,we,ie,Se,G))&&(ge=_.values[oe],Object.keys(Te).forEach(function(ve){g(ge,ve)?ge[ve]=Te[ve]:pe(ge,ve,Te[ve])}))),xe});return S.mutate(_).then(function(ie){for(var oe=ie.failures,we=ie.results,Te=ie.numFailures,ie=ie.lastResult,ge=0;ge<F.length;++ge){var Se=(we||F)[ge],xe=re[ge];Se==null?xe.onerror&&xe.onerror(oe[ge]):xe.onsuccess&&xe.onsuccess(_.type==="put"&&Z[ge]?_.values[ge]:Se)}return{failures:oe,results:we,numFailures:Te,lastResult:ie}}).catch(function(ie){return re.forEach(function(oe){return oe.onerror&&oe.onerror(ie)}),Promise.reject(ie)})})}}})}})}};function xu(m,v,S){try{if(!v||v.keys.length<m.length)return null;for(var x=[],C=0,M=0;C<v.keys.length&&M<m.length;++C)it(v.keys[C],m[M])===0&&(x.push(S?pt(v.values[C]):v.values[C]),++M);return x.length===m.length?x:null}catch{return null}}var Nd={stack:"dbcore",level:-1,create:function(m){return{table:function(v){var S=m.table(v);return r(r({},S),{getMany:function(x){if(!x.cache)return S.getMany(x);var C=xu(x.keys,x.trans._cache,x.cache==="clone");return C?Ce.resolve(C):S.getMany(x).then(function(M){return x.trans._cache={keys:x.keys,values:x.cache==="clone"?pt(M):M},M})},mutate:function(x){return x.type!=="add"&&(x.trans._cache=null),S.mutate(x)}})}}}};function Ui(m,v){return m.trans.mode==="readonly"&&!!m.subscr&&!m.trans.explicit&&m.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function Ld(m,v){switch(m){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Bh={stack:"dbcore",level:0,name:"Observability",create:function(m){var v=m.schema.name,S=new fn(m.MIN_KEY,m.MAX_KEY);return r(r({},m),{transaction:function(x,C,M){if(Oe.subscr&&C!=="readonly")throw new Le.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Oe.querier));return m.transaction(x,C,M)},table:function(x){var C=m.table(x),M=C.schema,O=M.primaryKey,_=M.indexes,N=O.extractKey,V=O.outbound,H=O.autoIncrement&&_.filter(function(j){return j.compound&&j.keyPath.includes(O.keyPath)}),q=r(r({},C),{mutate:function(j){function K(ve){return ve="idb://".concat(v,"/").concat(x,"/").concat(ve),ie[ve]||(ie[ve]=new fn)}var G,F,Z,re=j.trans,ie=j.mutatedParts||(j.mutatedParts={}),oe=K(""),we=K(":dels"),Te=j.type,xe=j.type==="deleteRange"?[j.range]:j.type==="delete"?[j.keys]:j.values.length<50?[$o(O,j).filter(function(ve){return ve}),j.values]:[],ge=xe[0],Se=xe[1],xe=j.trans._cache;return c(ge)?(oe.addKeys(ge),(xe=Te==="delete"||ge.length===Se.length?xu(ge,xe):null)||we.addKeys(ge),(xe||Se)&&(G=K,F=xe,Z=Se,M.indexes.forEach(function(ve){var De=G(ve.name||"");function Ie($e){return $e!=null?ve.extractKey($e):null}function Ue($e){return ve.multiEntry&&c($e)?$e.forEach(function(kn){return De.addKey(kn)}):De.addKey($e)}(F||Z).forEach(function($e,$t){var Ke=F&&Ie(F[$t]),$t=Z&&Ie(Z[$t]);it(Ke,$t)!==0&&(Ke!=null&&Ue(Ke),$t!=null&&Ue($t))})}))):ge?(Se={from:(Se=ge.lower)!==null&&Se!==void 0?Se:m.MIN_KEY,to:(Se=ge.upper)!==null&&Se!==void 0?Se:m.MAX_KEY},we.add(Se),oe.add(Se)):(oe.add(S),we.add(S),M.indexes.forEach(function(ve){return K(ve.name).add(S)})),C.mutate(j).then(function(ve){return!ge||j.type!=="add"&&j.type!=="put"||(oe.addKeys(ve.results),H&&H.forEach(function(De){for(var Ie=j.values.map(function(Ke){return De.extractKey(Ke)}),Ue=De.keyPath.findIndex(function(Ke){return Ke===O.keyPath}),$e=0,kn=ve.results.length;$e<kn;++$e)Ie[$e][Ue]=ve.results[$e];K(De.name).addKeys(Ie)})),re.mutatedParts=qo(re.mutatedParts||{},ie),ve})}}),_=function(K){var G=K.query,K=G.index,G=G.range;return[K,new fn((K=G.lower)!==null&&K!==void 0?K:m.MIN_KEY,(G=G.upper)!==null&&G!==void 0?G:m.MAX_KEY)]},J={get:function(j){return[O,new fn(j.key)]},getMany:function(j){return[O,new fn().addKeys(j.keys)]},count:_,query:_,openCursor:_};return l(J).forEach(function(j){q[j]=function(K){var G=Oe.subscr,F=!!G,Z=Ui(Oe,C)&&Ld(j,K)?K.obsSet={}:G;if(F){var re=function(Se){return Se="idb://".concat(v,"/").concat(x,"/").concat(Se),Z[Se]||(Z[Se]=new fn)},ie=re(""),oe=re(":dels"),G=J[j](K),F=G[0],G=G[1];if((j==="query"&&F.isPrimaryKey&&!K.values?oe:re(F.name||"")).add(G),!F.isPrimaryKey){if(j!=="count"){var we=j==="query"&&V&&K.values&&C.query(r(r({},K),{values:!1}));return C[j].apply(this,arguments).then(function(Se){if(j==="query"){if(V&&K.values)return we.then(function(Ie){return Ie=Ie.result,ie.addKeys(Ie),Se});var xe=K.values?Se.result.map(N):Se.result;(K.values?ie:oe).addKeys(xe)}else if(j==="openCursor"){var ve=Se,De=K.values;return ve&&Object.create(ve,{key:{get:function(){return oe.addKey(ve.primaryKey),ve.key}},primaryKey:{get:function(){var Ie=ve.primaryKey;return oe.addKey(Ie),Ie}},value:{get:function(){return De&&ie.addKey(ve.primaryKey),ve.value}}})}return Se})}oe.add(S)}}return C[j].apply(this,arguments)}}),q}})}};function _d(m,v,S){if(S.numFailures===0)return v;if(v.type==="deleteRange")return null;var x=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1;return S.numFailures===x?null:(v=r({},v),c(v.keys)&&(v.keys=v.keys.filter(function(C,M){return!(M in S.failures)})),"values"in v&&c(v.values)&&(v.values=v.values.filter(function(C,M){return!(M in S.failures)})),v)}function Go(m,v){return S=m,((x=v).lower===void 0||(x.lowerOpen?0<it(S,x.lower):0<=it(S,x.lower)))&&(m=m,(v=v).upper===void 0||(v.upperOpen?it(m,v.upper)<0:it(m,v.upper)<=0));var S,x}function Eu(m,v,J,x,C,M){if(!J||J.length===0)return m;var O=v.query.index,N=O.multiEntry,V=v.query.range,H=x.schema.primaryKey.extractKey,q=O.extractKey,_=(O.lowLevelIndex||O).extractKey,J=J.reduce(function(j,K){var G=j,F=[];if(K.type==="add"||K.type==="put")for(var Z=new fn,re=K.values.length-1;0<=re;--re){var ie,oe=K.values[re],we=H(oe);Z.hasKey(we)||(ie=q(oe),(N&&c(ie)?ie.some(function(ve){return Go(ve,V)}):Go(ie,V))&&(Z.addKey(we),F.push(oe)))}switch(K.type){case"add":var Te=new fn().addKeys(v.values?j.map(function(De){return H(De)}):j),G=j.concat(v.values?F.filter(function(De){return De=H(De),!Te.hasKey(De)&&(Te.addKey(De),!0)}):F.map(function(De){return H(De)}).filter(function(De){return!Te.hasKey(De)&&(Te.addKey(De),!0)}));break;case"put":var ge=new fn().addKeys(K.values.map(function(De){return H(De)}));G=j.filter(function(De){return!ge.hasKey(v.values?H(De):De)}).concat(v.values?F:F.map(function(De){return H(De)}));break;case"delete":var Se=new fn().addKeys(K.keys);G=j.filter(function(De){return!Se.hasKey(v.values?H(De):De)});break;case"deleteRange":var xe=K.range;G=j.filter(function(De){return!Go(H(De),xe)})}return G},m);return J===m?m:(J.sort(function(j,K){return it(_(j),_(K))||it(H(j),H(K))}),v.limit&&v.limit<1/0&&(J.length>v.limit?J.length=v.limit:m.length===v.limit&&J.length<v.limit&&(C.dirty=!0)),M?Object.freeze(J):J)}function Ns(m,v){return it(m.lower,v.lower)===0&&it(m.upper,v.upper)===0&&!!m.lowerOpen==!!v.lowerOpen&&!!m.upperOpen==!!v.upperOpen}function ja(m,v){return function(S,x,C,M){if(S===void 0)return x!==void 0?-1:0;if(x===void 0)return 1;if((x=it(S,x))===0){if(C&&M)return 0;if(C)return 1;if(M)return-1}return x}(m.lower,v.lower,m.lowerOpen,v.lowerOpen)<=0&&0<=function(S,x,C,M){if(S===void 0)return x!==void 0?1:0;if(x===void 0)return-1;if((x=it(S,x))===0){if(C&&M)return 0;if(C)return-1;if(M)return 1}return x}(m.upper,v.upper,m.upperOpen,v.upperOpen)}function Ih(m,v,S,x){m.subscribers.add(S),x.addEventListener("abort",function(){var C,M;m.subscribers.delete(S),m.subscribers.size===0&&(C=m,M=v,setTimeout(function(){C.subscribers.size===0&&Me(M,C)},3e3))})}var Yo={stack:"dbcore",level:0,name:"Cache",create:function(m){var v=m.schema.name;return r(r({},m),{transaction:function(S,x,C){var M,O,N=m.transaction(S,x,C);return x==="readwrite"&&(O=(M=new AbortController).signal,C=function(V){return function(){if(M.abort(),x==="readwrite"){for(var H=new Set,q=0,_=S;q<_.length;q++){var J=_[q],j=Vi["idb://".concat(v,"/").concat(J)];if(j){var K=m.table(J),G=j.optimisticOps.filter(function(De){return De.trans===N});if(N._explicit&&V&&N.mutatedParts)for(var F=0,Z=Object.values(j.queries.query);F<Z.length;F++)for(var re=0,ie=(Te=Z[F]).slice();re<ie.length;re++)bu((ge=ie[re]).obsSet,N.mutatedParts)&&(Me(Te,ge),ge.subscribers.forEach(function(De){return H.add(De)}));else if(0<G.length){j.optimisticOps=j.optimisticOps.filter(function(De){return De.trans!==N});for(var oe=0,we=Object.values(j.queries.query);oe<we.length;oe++)for(var Te,ge,Se,xe=0,ve=(Te=we[oe]).slice();xe<ve.length;xe++)(ge=ve[xe]).res!=null&&N.mutatedParts&&(V&&!ge.dirty?(Se=Object.isFrozen(ge.res),Se=Eu(ge.res,ge.req,G,K,ge,Se),ge.dirty?(Me(Te,ge),ge.subscribers.forEach(function(De){return H.add(De)})):Se!==ge.res&&(ge.res=Se,ge.promise=Ce.resolve({result:Se}))):(ge.dirty&&Me(Te,ge),ge.subscribers.forEach(function(De){return H.add(De)})))}}}H.forEach(function(De){return De()})}}},N.addEventListener("abort",C(!1),{signal:O}),N.addEventListener("error",C(!1),{signal:O}),N.addEventListener("complete",C(!0),{signal:O})),N},table:function(S){var x=m.table(S),C=x.schema.primaryKey;return r(r({},x),{mutate:function(M){var O=Oe.trans;if(C.outbound||O.db._options.cache==="disabled"||O.explicit||O.idbtrans.mode!=="readwrite")return x.mutate(M);var N=Vi["idb://".concat(v,"/").concat(S)];return N?(O=x.mutate(M),M.type!=="add"&&M.type!=="put"||!(50<=M.values.length||$o(C,M).some(function(V){return V==null}))?(N.optimisticOps.push(M),M.mutatedParts&&Wo(M.mutatedParts),O.then(function(V){0<V.numFailures&&(Me(N.optimisticOps,M),(V=_d(0,M,V))&&N.optimisticOps.push(V),M.mutatedParts&&Wo(M.mutatedParts))}),O.catch(function(){Me(N.optimisticOps,M),M.mutatedParts&&Wo(M.mutatedParts)})):O.then(function(V){var H=_d(0,r(r({},M),{values:M.values.map(function(q,_){var J;return V.failures[_]?q:(q=(J=C.keyPath)!==null&&J!==void 0&&J.includes(".")?pt(q):r({},q),pe(q,C.keyPath,V.results[_]),q)})}),V);N.optimisticOps.push(H),queueMicrotask(function(){return M.mutatedParts&&Wo(M.mutatedParts)})}),O):x.mutate(M)},query:function(M){if(!Ui(Oe,x)||!Ld("query",M))return x.query(M);var O=((H=Oe.trans)===null||H===void 0?void 0:H.db._options.cache)==="immutable",_=Oe,N=_.requery,V=_.signal,H=function(K,G,F,Z){var re=Vi["idb://".concat(K,"/").concat(G)];if(!re)return[];if(!(G=re.queries[F]))return[null,!1,re,null];var ie=G[(Z.query?Z.query.index.name:null)||""];if(!ie)return[null,!1,re,null];switch(F){case"query":var oe=ie.find(function(we){return we.req.limit===Z.limit&&we.req.values===Z.values&&Ns(we.req.query.range,Z.query.range)});return oe?[oe,!0,re,ie]:[ie.find(function(we){return("limit"in we.req?we.req.limit:1/0)>=Z.limit&&(!Z.values||we.req.values)&&ja(we.req.query.range,Z.query.range)}),!1,re,ie];case"count":return oe=ie.find(function(we){return Ns(we.req.query.range,Z.query.range)}),[oe,!!oe,re,ie]}}(v,S,"query",M),q=H[0],_=H[1],J=H[2],j=H[3];return q&&_?q.obsSet=M.obsSet:(_=x.query(M).then(function(K){var G=K.result;if(q&&(q.res=G),O){for(var F=0,Z=G.length;F<Z;++F)Object.freeze(G[F]);Object.freeze(G)}else K.result=pt(G);return K}).catch(function(K){return j&&q&&Me(j,q),Promise.reject(K)}),q={obsSet:M.obsSet,promise:_,subscribers:new Set,type:"query",req:M,dirty:!1},j?j.push(q):(j=[q],(J=J||(Vi["idb://".concat(v,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[M.query.index.name||""]=j)),Ih(q,j,N,V),q.promise.then(function(K){return{result:Eu(K.result,M,J?.optimisticOps,x,q,O)}})}})}})}};function za(m,v){return new Proxy(m,{get:function(S,x,C){return x==="db"?v:Reflect.get(S,x,C)}})}var xr=(Pt.prototype.version=function(m){if(isNaN(m)||m<.1)throw new Le.Type("Given version is not a positive number");if(m=Math.round(10*m)/10,this.idbdb||this._state.isBeingOpened)throw new Le.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,m);var v=this._versions,S=v.filter(function(x){return x._cfg.version===m})[0];return S||(S=new this.Version(m),v.push(S),v.sort(hu),S.stores({}),this._state.autoSchema=!1,S)},Pt.prototype._whenReady=function(m){var v=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?m():new Ce(function(S,x){if(v._state.openComplete)return x(new Le.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void x(new Le.DatabaseClosed);v.open().catch(ut)}v._state.dbReadyPromise.then(S,x)}).then(m)},Pt.prototype.use=function(m){var v=m.stack,S=m.create,x=m.level,C=m.name;return C&&this.unuse({stack:v,name:C}),m=this._middlewares[v]||(this._middlewares[v]=[]),m.push({stack:v,create:S,level:x??10,name:C}),m.sort(function(M,O){return M.level-O.level}),this},Pt.prototype.unuse=function(m){var v=m.stack,S=m.name,x=m.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(C){return x?C.create!==x:!!S&&C.name!==S})),this},Pt.prototype.open=function(){var m=this;return Xr(Pn,function(){return Lh(m)})},Pt.prototype._close=function(){var m=this._state,v=Vr.indexOf(this);if(0<=v&&Vr.splice(v,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}m.isBeingOpened||(m.dbReadyPromise=new Ce(function(S){m.dbReadyResolve=S}),m.openCanceller=new Ce(function(S,x){m.cancelOpen=x}))},Pt.prototype.close=function(S){var v=(S===void 0?{disableAutoOpen:!0}:S).disableAutoOpen,S=this._state;v?(S.isBeingOpened&&S.cancelOpen(new Le.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new Le.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},Pt.prototype.delete=function(m){var v=this;m===void 0&&(m={disableAutoOpen:!0});var S=0<arguments.length&&typeof arguments[0]!="object",x=this._state;return new Ce(function(C,M){function O(){v.close(m);var N=v._deps.indexedDB.deleteDatabase(v.name);N.onsuccess=et(function(){var V,H,q;V=v._deps,H=v.name,q=V.indexedDB,V=V.IDBKeyRange,Fo(q)||H===Pi||yu(q,V).delete(H).catch(ut),C()}),N.onerror=or(M),N.onblocked=v._fireOnBlocked}if(S)throw new Le.InvalidArgument("Invalid closeOptions argument to db.delete()");x.isBeingOpened?x.dbReadyPromise.then(O):O()})},Pt.prototype.backendDB=function(){return this.idbdb},Pt.prototype.isOpen=function(){return this.idbdb!==null},Pt.prototype.hasBeenClosed=function(){var m=this._state.dbOpenError;return m&&m.name==="DatabaseClosed"},Pt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Pt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Pt.prototype,"tables",{get:function(){var m=this;return l(this._allTables).map(function(v){return m._allTables[v]})},enumerable:!1,configurable:!0}),Pt.prototype.transaction=function(){var m=(function(v,S,x){var C=arguments.length;if(C<2)throw new Le.InvalidArgument("Too few arguments");for(var M=new Array(C-1);--C;)M[C-1]=arguments[C];return x=M.pop(),[v,Ne(M),x]}).apply(this,arguments);return this._transaction.apply(this,m)},Pt.prototype._transaction=function(m,v,S){var x=this,C=Oe.trans;C&&C.db===this&&m.indexOf("!")===-1||(C=null);var M,O,N=m.indexOf("?")!==-1;m=m.replace("!","").replace("?","");try{if(O=v.map(function(H){if(H=H instanceof x.Table?H.name:H,typeof H!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return H}),m=="r"||m===ar)M=ar;else{if(m!="rw"&&m!=Oa)throw new Le.InvalidArgument("Invalid transaction mode: "+m);M=Oa}if(C){if(C.mode===ar&&M===Oa){if(!N)throw new Le.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&O.forEach(function(H){if(C&&C.storeNames.indexOf(H)===-1){if(!N)throw new Le.SubTransaction("Table "+H+" not included in parent transaction.");C=null}}),N&&C&&!C.active&&(C=null)}}catch(H){return C?C._promise(null,function(q,_){_(H)}):_t(H)}var V=(function H(q,_,J,j,K){return Ce.resolve().then(function(){var G=Oe.transless||Oe,F=q._createTransaction(_,J,q._dbSchema,j);if(F.explicit=!0,G={trans:F,transless:G},j)F.idbtrans=j.idbtrans;else try{F.create(),F.idbtrans._explicit=!0,q._state.PR1398_maxLoop=3}catch(ie){return ie.name===Sn.InvalidState&&q.isOpen()&&0<--q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),q.close({disableAutoOpen:!1}),q.open().then(function(){return H(q,_,J,null,K)})):_t(ie)}var Z,re=ce(K);return re&&sr(),G=Ce.follow(function(){var ie;(Z=K.call(F,F))&&(re?(ie=Hn.bind(null,null),Z.then(ie,ie)):typeof Z.next=="function"&&typeof Z.throw=="function"&&(Z=Ia(Z)))},G),(Z&&typeof Z.then=="function"?Ce.resolve(Z).then(function(ie){return F.active?ie:_t(new Le.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return Z})).then(function(ie){return j&&F._resolve(),F._completion.then(function(){return ie})}).catch(function(ie){return F._reject(ie),_t(ie)})})}).bind(null,this,M,O,C,S);return C?C._promise(M,V,"lock"):Oe.trans?Xr(Oe.transless,function(){return x._whenReady(V)}):this._whenReady(V)},Pt.prototype.table=function(m){if(!g(this._allTables,m))throw new Le.InvalidTable("Table ".concat(m," does not exist"));return this._allTables[m]},Pt);function Pt(m,v){var S=this;this._middlewares={},this.verno=0;var x=Pt.dependencies;this._options=v=r({addons:Pt.addons,autoOpen:!0,indexedDB:x.indexedDB,IDBKeyRange:x.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},x=v.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var C,M,O,N,V,H={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ut,dbReadyPromise:null,cancelOpen:ut,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen};H.dbReadyPromise=new Ce(function(_){H.dbReadyResolve=_}),H.openCanceller=new Ce(function(_,J){H.cancelOpen=J}),this._state=H,this.name=m,this.on=ni(this,"populate","blocked","versionchange","close",{ready:[Ao,ut]}),this.on.ready.subscribe=$(this.on.ready.subscribe,function(_){return function(J,j){Pt.vip(function(){var K,G=S._state;G.openComplete?(G.dbOpenError||Ce.resolve().then(J),j&&_(J)):G.onReadyBeingFired?(G.onReadyBeingFired.push(J),j&&_(J)):(_(J),K=S,j||_(function F(){K.on.ready.unsubscribe(J),K.on.ready.unsubscribe(F)}))})}}),this.Collection=(C=this,ks(Cs.prototype,function(Z,F){this.db=C;var j=Oi,K=null;if(F)try{j=F()}catch(re){K=re}var G=Z._ctx,F=G.table,Z=F.hook.reading.fire;this._ctx={table:F,index:G.index,isPrimKey:!G.index||F.schema.primKey.keyPath&&G.index===F.schema.primKey.name,range:j,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:K,or:G.or,valueMapper:Z!==Ei?Z:null}})),this.Table=(M=this,ks(lu.prototype,function(_,J,j){this.db=M,this._tx=j,this.name=_,this.schema=J,this.hook=M._allTables[_]?M._allTables[_].hook:ni(null,{creating:[Ph,ut],reading:[Zl,Ei],updating:[Oh,ut],deleting:[gr,ut]})})),this.Transaction=(O=this,ks(pu.prototype,function(_,J,j,K,G){var F=this;this.db=O,this.mode=_,this.storeNames=J,this.schema=j,this.chromeTransactionDurability=K,this.idbtrans=null,this.on=ni(this,"complete","error","abort"),this.parent=G||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(function(Z,re){F._resolve=Z,F._reject=re}),this._completion.then(function(){F.active=!1,F.on.complete.fire()},function(Z){var re=F.active;return F.active=!1,F.on.error.fire(Z),F.parent?F.parent._reject(Z):re&&F.idbtrans&&F.idbtrans.abort(),_t(Z)})})),this.Version=(N=this,ks(Nh.prototype,function(_){this.db=N,this._cfg={version:_,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(V=this,ks(_i.prototype,function(_,J,j){if(this.db=V,this._ctx={table:_,index:J===":id"?null:J,or:j},this._cmp=this._ascending=it,this._descending=function(K,G){return it(G,K)},this._max=function(K,G){return 0<it(K,G)?K:G},this._min=function(K,G){return it(K,G)<0?K:G},this._IDBKeyRange=V._deps.IDBKeyRange,!this._IDBKeyRange)throw new Le.MissingAPI})),this.on("versionchange",function(_){0<_.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=Ds(v.IDBKeyRange),this._createTransaction=function(_,J,j,K){return new S.Transaction(_,J,j,S._options.chromeTransactionDurability,K)},this._fireOnBlocked=function(_){S.on("blocked").fire(_),Vr.filter(function(J){return J.name===S.name&&J!==S&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire(_)})},this.use(Nd),this.use(Yo),this.use(Bh),this.use(_h),this.use(Od);var q=new Proxy(this,{get:function(_,J,j){if(J==="_vip")return!0;if(J==="table")return function(G){return za(S.table(G),q)};var K=Reflect.get(_,J,j);return K instanceof lu?za(K,q):J==="tables"?K.map(function(G){return za(G,q)}):J==="_createTransaction"?function(){return za(K.apply(this,arguments),q)}:K}});this.vip=q,x.forEach(function(_){return _(S)})}var Ls,qn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Bd=(Xo.prototype.subscribe=function(m,v,S){return this._subscribe(m&&typeof m!="function"?m:{next:m,error:v,complete:S})},Xo.prototype[qn]=function(){return this},Xo);function Xo(m){this._subscribe=m}try{Ls={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Ls={indexedDB:null,IDBKeyRange:null}}function Id(m){var v,S=!1,x=new Bd(function(C){var M=ce(m),O,N=!1,V={},H={},q={get closed(){return N},unsubscribe:function(){N||(N=!0,O&&O.abort(),_&&dn.storagemutated.unsubscribe(j))}};C.start&&C.start(q);var _=!1,J=function(){return Zr(K)},j=function(G){qo(V,G),bu(H,V)&&J()},K=function(){var G,F,Z;!N&&Ls.indexedDB&&(V={},G={},O&&O.abort(),O=new AbortController,Z=function(re){var ie=Di();try{M&&sr();var oe=br(m,re);return oe=M?oe.finally(Hn):oe}finally{ie&&ws()}}(F={subscr:G,signal:O.signal,requery:J,querier:m,trans:null}),Promise.resolve(Z).then(function(re){S=!0,v=re,N||F.signal.aborted||(V={},function(ie){for(var oe in ie)if(g(ie,oe))return;return 1}(H=G)||_||(dn(Ms,j),_=!0),Zr(function(){return!N&&C.next&&C.next(re)}))},function(re){S=!1,["DatabaseClosedError","AbortError"].includes(re?.name)||N||Zr(function(){N||C.error&&C.error(re)})}))};return setTimeout(J,0),q});return x.hasValue=function(){return S},x.getValue=function(){return v},x}var Hi=xr;function Cu(m){var v=si;try{si=!0,dn.storagemutated.fire(m),Tu(m,!0)}finally{si=v}}b(Hi,r(r({},xi),{delete:function(m){return new Hi(m,{addons:[]}).delete()},exists:function(m){return new Hi(m,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(m){try{return v=Hi.dependencies,S=v.indexedDB,v=v.IDBKeyRange,(Fo(S)?Promise.resolve(S.databases()).then(function(x){return x.map(function(C){return C.name}).filter(function(C){return C!==Pi})}):yu(S,v).toCollection().primaryKeys()).then(m)}catch{return _t(new Le.MissingAPI)}var v,S},defineClass:function(){return function(m){d(this,m)}},ignoreTransaction:function(m){return Oe.trans?Xr(Oe.transless,m):m()},vip:gu,async:function(m){return function(){try{var v=Ia(m.apply(this,arguments));return v&&typeof v.then=="function"?v:Ce.resolve(v)}catch(S){return _t(S)}}},spawn:function(m,v,S){try{var x=Ia(m.apply(S,v||[]));return x&&typeof x.then=="function"?x:Ce.resolve(x)}catch(C){return _t(C)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(m,v){return v=Ce.resolve(typeof m=="function"?Hi.ignoreTransaction(m):m).timeout(v||6e4),Oe.trans?Oe.trans.waitFor(v):v},Promise:Ce,debug:{get:function(){return Un},set:function(m){kd(m)}},derive:A,extend:d,props:b,override:$,Events:ni,on:dn,liveQuery:Id,extendObservabilitySet:qo,getByKeyPath:ue,setByKeyPath:pe,delByKeyPath:function(m,v){typeof v=="string"?pe(m,v,void 0):"length"in v&&[].map.call(v,function(S){pe(m,S,void 0)})},shallowClone:de,deepClone:pt,getObjectDiff:Jo,cmp:it,asap:Y,minKey:-1/0,addons:[],connections:Vr,errnames:Sn,dependencies:Ls,cache:Vi,semVer:"4.0.11",version:"4.0.11".split(".").map(function(m){return parseInt(m)}).reduce(function(m,v,S){return m+v/Math.pow(10,2*S)})})),Hi.maxKey=Ds(Hi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(dn(Ms,function(m){si||(m=new CustomEvent(Ii,{detail:m}),si=!0,dispatchEvent(m),si=!1)}),addEventListener(Ii,function(m){m=m.detail,si||Cu(m)}));var _s,si=!1,Ln=function(){};return typeof BroadcastChannel<"u"&&((Ln=function(){(_s=new BroadcastChannel(Ii)).onmessage=function(m){return m.data&&Cu(m.data)}})(),typeof _s.unref=="function"&&_s.unref(),dn(Ms,function(m){si||_s.postMessage(m)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(m){if(!xr.disableBfCache&&m.persisted){Un&&console.debug("Dexie: handling persisted pagehide"),_s?.close();for(var v=0,S=Vr;v<S.length;v++)S[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(m){!xr.disableBfCache&&m.persisted&&(Un&&console.debug("Dexie: handling persisted pageshow"),Ln(),Cu({all:new fn(-1/0,[[]])}))})),Ce.rejectionMapper=function(m,v){return!m||m instanceof ke||m instanceof TypeError||m instanceof SyntaxError||!m.name||!Co[m.name]?m:(v=new Co[m.name](v||m.message,m),"stack"in m&&T(v,"stack",{get:function(){return this.inner.stack}}),v)},kd(Un),r(xr,Object.freeze({__proto__:null,Dexie:xr,liveQuery:Id,Entity:Oo,cmp:it,PropModification:Es,replacePrefix:function(m,v){return new Es({replacePrefix:[m,v]})},add:function(m){return new Es({add:m})},remove:function(m){return new Es({remove:m})},default:xr,RangeSet:fn,mergeRanges:zi,rangesOverlap:Rd}),{default:xr}),xr})}(sp)),sp.exports}var RB=MB();const Jg=ad(RB),R1=Symbol.for("Dexie"),bp=globalThis[R1]||(globalThis[R1]=Jg);if(Jg.semVer!==bp.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Jg.semVer} and ${bp.semVer}`);const{liveQuery:IV,mergeRanges:jV,rangesOverlap:zV,RangeSet:VV,cmp:UV,Entity:HV,PropModification:FV,replacePrefix:KV,add:qV,remove:WV}=bp,yd=new bp("cyberPlanDB");yd.version(1).stores({plan:"++id, week, phase",notes:"++id, title, tags, createdAt, updatedAt",journal:"++id, date, content, tags",settings:"key, value"});async function DB(){return await yd.journal.orderBy("date").reverse().toArray()}async function PB(t){return await yd.journal.add({...t,date:t.date||Date.now()})}async function OB(t,e){return await yd.journal.update(t,e)}async function NB(t){return await yd.journal.delete(t)}var Ky={exports:{}},qy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function LB(){if(D1)return qy;D1=1;var t=od();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(g,b){var k=b(),T=r({inst:{value:k,getSnapshot:b}}),A=T[0].inst,D=T[1];return a(function(){A.value=k,A.getSnapshot=b,d(A)&&D({inst:A})},[g,k,b]),i(function(){return d(A)&&D({inst:A}),g(function(){d(A)&&D({inst:A})})},[g]),l(k),k}function d(g){var b=g.getSnapshot;g=g.value;try{var k=b();return!n(g,k)}catch{return!0}}function p(g,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return qy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,qy}var P1;function oC(){return P1||(P1=1,Ky.exports=LB()),Ky.exports}var lC=oC();function Cn(t){this.content=t}Cn.prototype={constructor:Cn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),a=r.content.slice();return i==-1?a.push(n||t,e):(a[i+1]=e,n&&(a[i]=n)),new Cn(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Cn(n)},addToStart:function(t,e){return new Cn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Cn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),a=r.find(t);return i.splice(a==-1?i.length:a,0,e,n),new Cn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Cn.from(t),t.size?new Cn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Cn.from(t),t.size?new Cn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Cn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Cn.from=function(t){if(t instanceof Cn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Cn(e)};function uC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),a=e.child(r);if(i==a){n+=i.nodeSize;continue}if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(let l=0;i.text[l]==a.text[l];l++)n++;return n}if(i.content.size||a.content.size){let l=uC(i.content,a.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function cC(t,e,n,r){for(let i=t.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:n,b:r};let l=t.child(--i),c=e.child(--a),d=l.nodeSize;if(l==c){n-=d,r-=d;continue}if(!l.sameMarkup(c))return{a:n,b:r};if(l.isText&&l.text!=c.text){let p=0,h=Math.min(l.text.length,c.text.length);for(;p<h&&l.text[l.text.length-p-1]==c.text[c.text.length-p-1];)p++,n--,r--;return{a:n,b:r}}if(l.content.size||c.content.size){let p=cC(l.content,c.content,n-1,r-1);if(p)return p}n-=d,r-=d}}class ye{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,a){for(let l=0,c=0;c<n;l++){let d=this.content[l],p=c+d.nodeSize;if(p>e&&r(d,i+c,a||null,l)!==!1&&d.content.size){let h=c+1;d.nodesBetween(Math.max(0,e-h),Math.min(d.content.size,n-h),r,i+h)}c=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let a="",l=!0;return this.nodesBetween(e,n,(c,d)=>{let p=c.isText?c.text.slice(Math.max(e,d)-d,n-d):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&p||c.isTextblock)&&r&&(l?l=!1:a+=r),a+=p},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new ye(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let a=0,l=0;l<n;a++){let c=this.content[a],d=l+c.nodeSize;d>e&&((l<e||d>n)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,n-l-1))),r.push(c),i+=c.nodeSize),l=d}return new ye(r,i)}cutByIndex(e,n){return e==n?ye.empty:e==0&&n==this.content.length?this:new ye(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),a=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ye(i,a)}addToStart(e){return new ye([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ye(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return uC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return cC(this,e,n,r)}findIndex(e){if(e==0)return Hf(0,e);if(e==this.size)return Hf(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),a=r+i.nodeSize;if(a>=e)return a==e?Hf(n+1,a):Hf(n,r);r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ye.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ye(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ye.empty;let n,r=0;for(let i=0;i<e.length;i++){let a=e[i];r+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(n||(n=e.slice(0,i)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new ye(n||e,r)}static from(e){if(!e)return ye.empty;if(e instanceof ye)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ye([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ye.empty=new ye([],0);const Wy={index:0,offset:0};function Hf(t,e){return Wy.index=t,Wy.offset=e,Wy}function Sp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Sp(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Sp(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Ct=class $g{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(a)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Sp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $g.none;if(e instanceof $g)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Ct.none=[];class kp extends Error{}class Re{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=fC(this.content,e+this.openStart,n);return r&&new Re(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Re(dC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Re.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Re(ye.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)i++;return new Re(e,r,i)}}Re.empty=new Re(ye.empty,0,0);function dC(t,e,n){let{index:r,offset:i}=t.findIndex(e),a=t.maybeChild(r),{index:l,offset:c}=t.findIndex(n);if(i==e||a.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,a.copy(dC(a.content,e-i-1,n-i-1)))}function fC(t,e,n,r){let{index:i,offset:a}=t.findIndex(e),l=t.maybeChild(i);if(a==e||l.isText)return t.cut(0,e).append(n).append(t.cut(e));let c=fC(l.content,e-a-1,n);return c&&t.replaceChild(i,l.copy(c))}function _B(t,e,n){if(n.openStart>t.depth)throw new kp("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new kp("Inconsistent open depths");return pC(t,e,n,0)}function pC(t,e,n,r){let i=t.index(r),a=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=pC(t,e,n,r+1);return a.copy(a.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,c=l.content;return ho(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=BB(n,t);return ho(a,mC(t,l,c,e,r))}else return ho(a,Tp(t,e,r))}function hC(t,e){if(!e.type.compatibleContent(t.type))throw new kp("Cannot join "+e.type.name+" onto "+t.type.name)}function Gg(t,e,n){let r=t.node(n);return hC(r,e.node(n)),r}function po(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Rc(t,e,n,r){let i=(e||t).node(n),a=0,l=e?e.index(n):i.childCount;t&&(a=t.index(n),t.depth>n?a++:t.textOffset&&(po(t.nodeAfter,r),a++));for(let c=a;c<l;c++)po(i.child(c),r);e&&e.depth==n&&e.textOffset&&po(e.nodeBefore,r)}function ho(t,e){return t.type.checkContent(e),t.copy(e)}function mC(t,e,n,r,i){let a=t.depth>i&&Gg(t,e,i+1),l=r.depth>i&&Gg(n,r,i+1),c=[];return Rc(null,t,i,c),a&&l&&e.index(i)==n.index(i)?(hC(a,l),po(ho(a,mC(t,e,n,r,i+1)),c)):(a&&po(ho(a,Tp(t,e,i+1)),c),Rc(e,n,i,c),l&&po(ho(l,Tp(n,r,i+1)),c)),Rc(r,null,i,c),new ye(c)}function Tp(t,e,n){let r=[];if(Rc(null,t,n,r),t.depth>n){let i=Gg(t,e,n+1);po(ho(i,Tp(t,e,n+1)),r)}return Rc(e,null,n,r),new ye(r)}function BB(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let a=n-1;a>=0;a--)i=e.node(a).copy(ye.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Gc{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let a=0;a<e;a++)i+=r.child(a).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ct.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let c=r;r=i,i=c}let a=r.marks;for(var l=0;l<a.length;l++)a[l].type.spec.inclusive===!1&&(!i||!a[l].isInSet(i.marks))&&(a=a[l--].removeFromSet(a));return a}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!i||!r[a].isInSet(i.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new xp(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,a=n;for(let l=e;;){let{index:c,offset:d}=l.content.findIndex(a),p=a-d;if(r.push(l,c,i+d),!p||(l=l.child(c),l.isText))break;a=p-1,i+=d+1}return new Gc(n,r,a)}static resolveCached(e,n){let r=O1.get(e);if(r)for(let a=0;a<r.elts.length;a++){let l=r.elts[a];if(l.pos==n)return l}else O1.set(e,r=new IB);let i=r.elts[r.i]=Gc.resolve(e,n);return r.i=(r.i+1)%jB,i}}class IB{constructor(){this.elts=[],this.i=0}}const jB=12,O1=new WeakMap;class xp{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const zB=Object.create(null);class $r{constructor(e,n,r,i=Ct.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ye.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Sp(this.attrs,n||e.defaultAttrs||zB)&&Ct.sameSet(this.marks,r||Ct.none)}copy(e=null){return e==this.content?this:new $r(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new $r(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Re.empty;let i=this.resolve(e),a=this.resolve(n),l=r?0:i.sharedDepth(n),c=i.start(l),p=i.node(l).content.cut(i.pos-c,a.pos-c);return new Re(p,i.depth-l,a.depth-l)}replace(e,n,r){return _B(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Gc.resolveCached(this,e)}resolveNoCache(e){return Gc.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,a=>(r.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),yC(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ye.empty,i=0,a=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,a),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=i;d<a;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(r),l=a&&a.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ct.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ct.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ye.fromJSON(e,n.content),a=e.nodeType(n.type).create(n.attrs,i,r);return a.type.checkAttrs(a.attrs),a}}$r.prototype.text=void 0;class Ep extends $r{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):yC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ep(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ep(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function yC(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class vo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new VB(e,n);if(r.next==null)return vo.empty;let i=gC(r);r.next&&r.err("Unexpected trailing text");let a=JB(WB(i));return $B(a,r),a}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let a=n;i&&a<r;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function a(l,c){let d=l.matchFragment(e,r);if(d&&(!n||d.validEnd))return ye.from(c.map(p=>p.createAndFill()));for(let p=0;p<l.next.length;p++){let{type:h,next:g}=l.next[p];if(!(h.isText||h.hasRequiredAttrs())&&i.indexOf(g)==-1){i.push(g);let b=a(g,c.concat(h));if(b)return b}}return null}return a(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),a=i.match;if(a.matchType(e)){let l=[];for(let c=i;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!i.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let a=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)a+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return a}).join(`
`)}}vo.empty=new vo(!0);class VB{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function gC(t){let e=[];do e.push(UB(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function UB(t){let e=[];do e.push(HB(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function HB(t){let e=qB(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=FB(t,e);else break;return e}function N1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function FB(t,e){let n=N1(t),r=n;return t.eat(",")&&(t.next!="}"?r=N1(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function KB(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let a in n){let l=n[a];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function qB(t){if(t.eat("(")){let e=gC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=KB(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function WB(t){let e=[[]];return i(a(t,0),n()),e;function n(){return e.push([])-1}function r(l,c,d){let p={term:d,to:c};return e[l].push(p),p}function i(l,c){l.forEach(d=>d.to=c)}function a(l,c){if(l.type=="choice")return l.exprs.reduce((d,p)=>d.concat(a(p,c)),[]);if(l.type=="seq")for(let d=0;;d++){let p=a(l.exprs[d],c);if(d==l.exprs.length-1)return p;i(p,c=n())}else if(l.type=="star"){let d=n();return r(c,d),i(a(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=n();return i(a(l.expr,c),d),i(a(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(c)].concat(a(l.expr,c));if(l.type=="range"){let d=c;for(let p=0;p<l.min;p++){let h=n();i(a(l.expr,d),h),d=h}if(l.max==-1)i(a(l.expr,d),d);else for(let p=l.min;p<l.max;p++){let h=n();r(d,h),i(a(l.expr,d),h),d=h}return[r(d)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function vC(t,e){return e-t}function L1(t,e){let n=[];return r(e),n.sort(vC);function r(i){let a=t[i];if(a.length==1&&!a[0].term)return r(a[0].to);n.push(i);for(let l=0;l<a.length;l++){let{term:c,to:d}=a[l];!c&&n.indexOf(d)==-1&&r(d)}}}function JB(t){let e=Object.create(null);return n(L1(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:c,to:d})=>{if(!c)return;let p;for(let h=0;h<i.length;h++)i[h][0]==c&&(p=i[h][1]);L1(t,d).forEach(h=>{p||i.push([c,p=[]]),p.indexOf(h)==-1&&p.push(h)})})});let a=e[r.join(",")]=new vo(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let c=i[l][1].sort(vC);a.next.push({type:i[l][0],next:e[c.join(",")]||n(c)})}return a}}function $B(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],a=!i.validEnd,l=[];for(let c=0;c<i.next.length;c++){let{type:d,next:p}=i.next[c];l.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),r.indexOf(p)==-1&&r.push(p)}a&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function wC(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function bC(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let a=t[r];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function SC(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let a=t[i];a.validate&&a.validate(e[i])}}function kC(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new YB(t,r,e[r]);return n}let _1=class TC{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=kC(e,r.attrs),this.defaultAttrs=wC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==vo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:bC(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $r(this,this.computeAttrs(e),ye.from(n),Ct.setFrom(r))}createChecked(e=null,n,r){return n=ye.from(n),this.checkContent(n),new $r(this,this.computeAttrs(e),n,Ct.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ye.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),a=i&&i.fillBefore(ye.empty,!0);return a?new $r(this,e,n.append(a),Ct.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){SC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ct.none:e}static compile(e,n){let r=Object.create(null);e.forEach((a,l)=>r[a]=new TC(a,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function GB(t,e,n){let r=n.split("|");return i=>{let a=i===null?"null":typeof i;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${a}`)}}class YB{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?GB(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class yh{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=kC(e,i.attrs),this.excluded=null;let a=wC(this.attrs);this.instance=a?new Ct(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Ct(this,bC(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((a,l)=>r[a]=new yh(a,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){SC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class xC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Cn.from(e.nodes),n.marks=Cn.from(e.marks||{}),this.nodes=_1.compile(this.spec.nodes,this),this.marks=yh.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],l=a.spec.content||"",c=a.spec.marks;if(a.contentMatch=r[l]||(r[l]=vo.parse(l,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=c=="_"?null:c?B1(this,c.split(" ")):c==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],l=a.spec.excludes;a.excluded=l==null?[a]:l==""?[]:B1(this,l.split(" "))}this.nodeFromJSON=i=>$r.fromJSON(this,i),this.markFromJSON=i=>Ct.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof _1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Ep(r,r.defaultAttrs,e,Ct.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function B1(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],a=t.marks[i],l=a;if(a)n.push(a);else for(let c in t.marks){let d=t.marks[c];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function XB(t){return t.tag!=null}function QB(t){return t.style!=null}class ha{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(XB(i))this.tags.push(i);else if(QB(i)){let a=/[^=]*/.exec(i.style)[0];r.indexOf(a)<0&&r.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,n={}){let r=new j1(this,n,!1);return r.addAll(e,Ct.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new j1(this,n,!0);return r.addAll(e,Ct.none,n.from,n.to),Re.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(t3(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let l=a.getAttrs(e);if(l===!1)continue;a.attrs=l||void 0}return a}}}matchStyle(e,n,r,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let l=this.styles[a],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let a=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<a)break}n.splice(l,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(l=>{r(l=z1(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(l=>{r(l=z1(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ha(e,ha.schemaRules(e)))}}const EC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ZB={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},CC={ol:!0,ul:!0},Yc=1,Yg=2,Dc=4;function I1(t,e,n){return e!=null?(e?Yc:0)|(e==="full"?Yg:0):t&&t.whitespace=="pre"?Yc|Yg:n&~Dc}class Ff{constructor(e,n,r,i,a,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=Ct.none,this.match=a||(l&Dc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ye.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Yc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let n=ye.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ye.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!EC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class j1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,a,l=I1(null,n.preserveWhitespace,0)|(r?Dc:0);i?a=new Ff(i.type,i.attrs,Ct.none,!0,n.topMatch||i.type.contentMatch,l):r?a=new Ff(null,null,Ct.none,!0,null,l):a=new Ff(e.schema.topNodeType,null,Ct.none,!0,null,l),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,a=i.options&Yg?"full":this.localPreserveWS||(i.options&Yc)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(a)a!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;CC.hasOwnProperty(l)&&this.parser.normalizeLists&&e3(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:ZB.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let p,h=this.needsBlock;if(EC.hasOwnProperty(l))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),p=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=d&&d.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),p&&this.sync(a),this.needsBlock=h}else{let p=this.readStyles(e,n);p&&this.addElementByRule(e,d,p,d.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],l=r.getPropertyValue(a);if(l)for(let c=void 0;;){let d=this.parser.matchStyle(a,l,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(p=>!d.clearMark(p)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(e,n,r,i){let a,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(l,n.attrs||null,r,n.preserveWhitespace);d&&(a=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}a&&this.sync(c)&&this.open--}addAll(e,n,r,i){let a=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];l!=c;l=l.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(l,n);this.findAtPoint(e,a)}findPlace(e,n,r){let i,a;for(let l=this.open,c=0;l>=0;l--){let d=this.nodes[l],p=d.findWrapping(e);if(p&&(!i||i.length>p.length+c)&&(i=p,a=d,!p.length))break;if(d.solid){if(r)break;c+=2}}if(!i)return null;this.sync(a);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let l=Ct.none;for(let c of i.concat(e.marks))(a.type?a.type.allowsMarkType(c.type):V1(c.type,e.type))&&(l=c.addToSet(l));return a.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let a=this.findPlace(e.create(n),r,!1);return a&&(a=this.enterInner(e,n,r,!0,i)),a}enterInner(e,n,r,i=!1,a){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=I1(e,a,l.options);l.options&Dc&&l.content.length==0&&(c|=Dc);let d=Ct.none;return r=r.filter(p=>(l.type?l.type.allowsMarkType(p.type):V1(p.type,e))?(d=p.addToSet(d),!1):!0),this.nodes.push(new Ff(e,n,d,i,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Yc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(i?0:1),l=(c,d)=>{for(;c>=0;c--){let p=n[c];if(p==""){if(c==n.length-1||c==0)continue;for(;d>=a;d--)if(l(c-1,d))return!0;return!1}else{let h=d>0||d==0&&i?this.nodes[d].type:r&&d>=a?r.node(d-a).type:null;if(!h||h.name!=p&&!h.isInGroup(p))return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function e3(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&CC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function t3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function z1(t){let e={};for(let n in t)e[n]=t[n];return e}function V1(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let a=[],l=c=>{a.push(c);for(let d=0;d<c.edgeCount;d++){let{type:p,next:h}=c.edge(d);if(p==e||a.indexOf(h)<0&&l(h))return!0}};if(l(i.contentMatch))return!0}}class xo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Jy(n).createDocumentFragment());let i=r,a=[];return e.forEach(l=>{if(a.length||l.marks.length){let c=0,d=0;for(;c<a.length&&d<l.marks.length;){let p=l.marks[d];if(!this.marks[p.type.name]){d++;continue}if(!p.eq(a[c][0])||p.type.spec.spanning===!1)break;c++,d++}for(;c<a.length;)i=a.pop()[1];for(;d<l.marks.length;){let p=l.marks[d++],h=this.serializeMark(p,l.isInline,n);h&&(a.push([p,i]),i.appendChild(h.dom),i=h.contentDOM||h.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=ap(Jy(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,n);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&ap(Jy(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return ap(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new xo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=U1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return U1(e.marks)}}function U1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Jy(t){return t.document||window.document}const H1=new WeakMap;function n3(t){let e=H1.get(t);return e===void 0&&H1.set(t,e=r3(t)),e}function r3(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function ap(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=n3(r))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let c,d=n?t.createElementNS(n,i):t.createElement(i),p=e[1],h=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){h=2;for(let g in p)if(p[g]!=null){let b=g.indexOf(" ");b>0?d.setAttributeNS(g.slice(0,b),g.slice(b+1),p[g]):g=="style"&&d.style?d.style.cssText=p[g]:d.setAttribute(g,p[g])}}for(let g=h;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:k,contentDOM:T}=ap(t,b,n,r);if(d.appendChild(k),T){if(c)throw new RangeError("Multiple content holes");c=T}}}return{dom:d,contentDOM:c}}const AC=65535,MC=Math.pow(2,16);function i3(t,e){return t+e*MC}function F1(t){return t&AC}function s3(t){return(t-(t&AC))/MC}const RC=1,DC=2,op=4,PC=8;class Xg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&PC)>0}get deletedBefore(){return(this.delInfo&(RC|op))>0}get deletedAfter(){return(this.delInfo&(DC|op))>0}get deletedAcross(){return(this.delInfo&op)>0}}class hr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&hr.empty)return hr.empty}recover(e){let n=0,r=F1(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+s3(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,a=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?i:0);if(d>e)break;let p=this.ranges[c+a],h=this.ranges[c+l],g=d+p;if(e<=g){let b=p?e==d?-1:e==g?1:n:n,k=d+i+(b<0?0:h);if(r)return k;let T=e==(n<0?d:g)?null:i3(c/3,e-d),A=e==d?DC:e==g?RC:op;return(n<0?e!=d:e!=g)&&(A|=PC),new Xg(k,A,T)}i+=h-p}return r?e+i:new Xg(e+i,0,null)}touches(e,n){let r=0,i=F1(n),a=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let p=this.ranges[c+a],h=d+p;if(e<=h&&c==i*3)return!0;r+=this.ranges[c+l]-p}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let l=this.ranges[i],c=l-(this.inverted?a:0),d=l+(this.inverted?0:a),p=this.ranges[i+n],h=this.ranges[i+r];e(c,c+p,d,d+h),a+=h-p}}invert(){return new hr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?hr.empty:new hr(e<0?[0,-e,0]:[0,0,e])}}hr.empty=new hr([]);class Xc{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Xc(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Xc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let a=this.from;a<this.to;a++){let l=this._maps[a],c=l.mapResult(e,n);if(c.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,e=this._maps[d].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new Xg(e,i,null)}}const $y=Object.create(null);class Vn{getMap(){return hr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=$y[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in $y)throw new RangeError("Duplicate use of step JSON ID "+e);return $y[e]=n,n.prototype.jsonID=e,n}}class sn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new sn(e,null)}static fail(e){return new sn(null,e)}static fromReplace(e,n,r,i){try{return sn.ok(e.replace(n,r,i))}catch(a){if(a instanceof kp)return sn.fail(a.message);throw a}}}function lw(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let a=t.child(i);a.content.size&&(a=a.copy(lw(a.content,e,a))),a.isInline&&(a=e(a,n,i)),r.push(a)}return ye.fromArray(r)}class da extends Vn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),a=new Re(lw(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return sn.fromReplace(e,this.from,this.to,a)}invert(){return new Jr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new da(n.pos,r.pos,this.mark)}merge(e){return e instanceof da&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new da(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new da(n.from,n.to,e.markFromJSON(n.mark))}}Vn.jsonID("addMark",da);class Jr extends Vn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Re(lw(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return sn.fromReplace(e,this.from,this.to,r)}invert(){return new da(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Jr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Jr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Jr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Jr(n.from,n.to,e.markFromJSON(n.mark))}}Vn.jsonID("removeMark",Jr);class fa extends Vn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return sn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return sn.fromReplace(e,this.pos,this.pos+1,new Re(ye.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new fa(this.pos,n.marks[i]);return new fa(this.pos,this.mark)}}return new wo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new fa(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new fa(n.pos,e.markFromJSON(n.mark))}}Vn.jsonID("addNodeMark",fa);class wo extends Vn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return sn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return sn.fromReplace(e,this.pos,this.pos+1,new Re(ye.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new fa(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wo(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new wo(n.pos,e.markFromJSON(n.mark))}}Vn.jsonID("removeNodeMark",wo);class gn extends Vn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Qg(e,this.from,this.to)?sn.fail("Structure replace would overwrite content"):sn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new hr([this.from,this.to-this.from,this.slice.size])}invert(e){return new gn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new gn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof gn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Re.empty:new Re(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new gn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Re.empty:new Re(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new gn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new gn(n.from,n.to,Re.fromJSON(e,n.slice),!!n.structure)}}Vn.jsonID("replace",gn);class vn extends Vn{constructor(e,n,r,i,a,l,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=a,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Qg(e,this.from,this.gapFrom)||Qg(e,this.gapTo,this.to)))return sn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return sn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?sn.fromReplace(e,this.from,this.to,r):sn.fail("Content does not fit in gap")}getMap(){return new hr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new vn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||a>r.pos?null:new vn(n.pos,r.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new vn(n.from,n.to,n.gapFrom,n.gapTo,Re.fromJSON(e,n.slice),n.insert,!!n.structure)}}Vn.jsonID("replaceAround",vn);function Qg(t,e,n){let r=t.resolve(e),i=n-e,a=r.depth;for(;i>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,i--;if(i>0){let l=r.node(a).maybeChild(r.indexAfter(a));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function a3(t,e,n,r){let i=[],a=[],l,c;t.doc.nodesBetween(e,n,(d,p,h)=>{if(!d.isInline)return;let g=d.marks;if(!r.isInSet(g)&&h.type.allowsMarkType(r.type)){let b=Math.max(p,e),k=Math.min(p+d.nodeSize,n),T=r.addToSet(g);for(let A=0;A<g.length;A++)g[A].isInSet(T)||(l&&l.to==b&&l.mark.eq(g[A])?l.to=k:i.push(l=new Jr(b,k,g[A])));c&&c.to==b?c.to=k:a.push(c=new da(b,k,r))}}),i.forEach(d=>t.step(d)),a.forEach(d=>t.step(d))}function o3(t,e,n,r){let i=[],a=0;t.doc.nodesBetween(e,n,(l,c)=>{if(!l.isInline)return;a++;let d=null;if(r instanceof yh){let p=l.marks,h;for(;h=r.isInSet(p);)(d||(d=[])).push(h),p=h.removeFromSet(p)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let p=Math.min(c+l.nodeSize,n);for(let h=0;h<d.length;h++){let g=d[h],b;for(let k=0;k<i.length;k++){let T=i[k];T.step==a-1&&g.eq(i[k].style)&&(b=T)}b?(b.to=p,b.step=a):i.push({style:g,from:Math.max(c,e),to:p,step:a})}}}),i.forEach(l=>t.step(new Jr(l.from,l.to,l.style)))}function uw(t,e,n,r=n.contentMatch,i=!0){let a=t.doc.nodeAt(e),l=[],c=e+1;for(let d=0;d<a.childCount;d++){let p=a.child(d),h=c+p.nodeSize,g=r.matchType(p.type);if(!g)l.push(new gn(c,h,Re.empty));else{r=g;for(let b=0;b<p.marks.length;b++)n.allowsMarkType(p.marks[b].type)||t.step(new Jr(c,h,p.marks[b]));if(i&&p.isText&&n.whitespace!="pre"){let b,k=/\r?\n|\r/g,T;for(;b=k.exec(p.text);)T||(T=new Re(ye.from(n.schema.text(" ",n.allowedMarks(p.marks))),0,0)),l.push(new gn(c+b.index,c+b.index+b[0].length,T))}}c=h}if(!r.validEnd){let d=r.fillBefore(ye.empty,!0);t.replace(c,c,new Re(d,0,0))}for(let d=l.length-1;d>=0;d--)t.step(l[d])}function l3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ql(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),a=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(a,l,n))return r;if(r==0||i.type.spec.isolating||!l3(i,a,l))break}return null}function u3(t,e,n){let{$from:r,$to:i,depth:a}=e,l=r.before(a+1),c=i.after(a+1),d=l,p=c,h=ye.empty,g=0;for(let T=a,A=!1;T>n;T--)A||r.index(T)>0?(A=!0,h=ye.from(r.node(T).copy(h)),g++):d--;let b=ye.empty,k=0;for(let T=a,A=!1;T>n;T--)A||i.after(T+1)<i.end(T)?(A=!0,b=ye.from(i.node(T).copy(b)),k++):p++;t.step(new vn(d,p,l,c,new Re(h.append(b),g,k),h.size-g,!0))}function cw(t,e,n=null,r=t){let i=c3(t,e),a=i&&d3(r,e);return a?i.map(K1).concat({type:e,attrs:n}).concat(a.map(K1)):null}function K1(t){return{type:t,attrs:null}}function c3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,a=n.contentMatchAt(r).findWrapping(e);if(!a)return null;let l=a.length?a[0]:e;return n.canReplaceWith(r,i,l)?a:null}function d3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,a=n.child(r),l=e.contentMatch.findWrapping(a.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let p=r;d&&p<i;p++)d=d.matchType(n.child(p).type);return!d||!d.validEnd?null:l}function f3(t,e,n){let r=ye.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let c=n[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ye.from(n[l].type.create(n[l].attrs,r))}let i=e.start,a=e.end;t.step(new vn(i,a,i,a,new Re(r,0,0),n.length,!0))}function p3(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,n,(l,c)=>{let d=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,d)&&h3(t.doc,t.mapping.slice(a).map(c),r)){let p=null;if(r.schema.linebreakReplacement){let k=r.whitespace=="pre",T=!!r.contentMatch.matchType(r.schema.linebreakReplacement);k&&!T?p=!1:!k&&T&&(p=!0)}p===!1&&NC(t,l,c,a),uw(t,t.mapping.slice(a).map(c,1),r,void 0,p===null);let h=t.mapping.slice(a),g=h.map(c,1),b=h.map(c+l.nodeSize,1);return t.step(new vn(g,b,g+1,b-1,new Re(ye.from(r.create(d,null,l.marks)),0,0),1,!0)),p===!0&&OC(t,l,c,a),!1}})}function OC(t,e,n,r){e.forEach((i,a)=>{if(i.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(i.text);){let d=t.mapping.slice(r).map(n+1+a+l.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function NC(t,e,n,r){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+a);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function h3(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function m3(t,e,n,r,i){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let l=n.create(r,null,i||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,l);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new vn(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new Re(ye.from(l),0,0),1,!0))}function cs(t,e,n=1,r){let i=t.resolve(e),a=i.depth-n,l=r&&r[r.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let p=i.depth-1,h=n-2;p>a;p--,h--){let g=i.node(p),b=i.index(p);if(g.type.spec.isolating)return!1;let k=g.content.cutByIndex(b,g.childCount),T=r&&r[h+1];T&&(k=k.replaceChild(0,T.type.create(T.attrs)));let A=r&&r[h]||g;if(!g.canReplace(b+1,g.childCount)||!A.type.validContent(k))return!1}let c=i.indexAfter(a),d=r&&r[0];return i.node(a).canReplaceWith(c,c,d?d.type:i.node(a+1).type)}function y3(t,e,n=1,r){let i=t.doc.resolve(e),a=ye.empty,l=ye.empty;for(let c=i.depth,d=i.depth-n,p=n-1;c>d;c--,p--){a=ye.from(i.node(c).copy(a));let h=r&&r[p];l=ye.from(h?h.type.create(h.attrs,l):i.node(c).copy(l))}t.step(new gn(e,e,new Re(a.append(l),n,n),!0))}function Ea(t,e){let n=t.resolve(e),r=n.index();return LC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function g3(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),l=a.type==r?t.type.schema.nodes.text:a.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(a.marks))return!1}return n.validEnd}function LC(t,e){return!!(t&&e&&!t.isLeaf&&g3(t,e))}function gh(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let a,l,c=r.index(i);if(i==r.depth?(a=r.nodeBefore,l=r.nodeAfter):n>0?(a=r.node(i+1),c++,l=r.node(i).maybeChild(c)):(a=r.node(i).maybeChild(c-1),l=r.node(i+1)),a&&!a.isTextblock&&LC(a,l)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function v3(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,a=t.doc.resolve(e-n),l=a.node().type;if(i&&l.inlineContent){let h=l.whitespace=="pre",g=!!l.contentMatch.matchType(i);h&&!g?r=!1:!h&&g&&(r=!0)}let c=t.steps.length;if(r===!1){let h=t.doc.resolve(e+n);NC(t,h.node(),h.before(),c)}l.inlineContent&&uw(t,e+n-1,l,a.node().contentMatchAt(a.index()),r==null);let d=t.mapping.slice(c),p=d.map(e-n);if(t.step(new gn(p,d.map(e+n,-1),Re.empty,!0)),r===!0){let h=t.doc.resolve(p);OC(t,h.node(),h.before(),t.steps.length)}return t}function w3(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let a=r.index(i);if(r.node(i).canReplaceWith(a,a,n))return r.before(i+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let a=r.indexAfter(i);if(r.node(i).canReplaceWith(a,a,n))return r.after(i+1);if(a<r.node(i).childCount)return null}return null}function _C(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let a=0;a<n.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(c>0?1:0),p=r.node(l),h=!1;if(a==1)h=p.canReplace(d,d,i);else{let g=p.contentMatchAt(d).findWrapping(i.firstChild.type);h=g&&p.canReplaceWith(d,d,g[0])}if(h)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function vh(t,e,n=e,r=Re.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),a=t.resolve(n);return BC(i,a,r)?new gn(e,n,r):new b3(i,a,r).fit()}function BC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class b3{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ye.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ye.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let a=this.placed,l=r.depth,c=i.depth;for(;l&&c&&a.childCount==1;)a=a.firstChild.content,l--,c--;let d=new Re(a,l,c);return e>-1?new vn(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new gn(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let a=n.firstChild;if(n.childCount>1&&(i=0),a.type.spec.isolating&&i<=r){e=r;break}n=a.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,a=null;r?(a=Gy(this.unplaced.content,r-1).firstChild,i=a.content):i=this.unplaced.content;let l=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:p}=this.frontier[c],h,g=null;if(n==1&&(l?p.matchType(l.type)||(g=p.fillBefore(ye.from(l),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:c,parent:a,inject:g};if(n==2&&l&&(h=p.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:a,wrap:h};if(a&&p.matchType(a.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Gy(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Re(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Gy(e,n);if(i.childCount<=1&&n>0){let a=e.size-n<=n+i.size;this.unplaced=new Re(wc(e,n-1,1),n-1,a?n-1:r)}else this.unplaced=new Re(wc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let A=0;A<a.length;A++)this.openFrontierNode(a[A]);let l=this.unplaced,c=r?r.content:l.content,d=l.openStart-e,p=0,h=[],{match:g,type:b}=this.frontier[n];if(i){for(let A=0;A<i.childCount;A++)h.push(i.child(A));g=g.matchFragment(i)}let k=c.size+e-(l.content.size-l.openEnd);for(;p<c.childCount;){let A=c.child(p),D=g.matchType(A.type);if(!D)break;p++,(p>1||d==0||A.content.size)&&(g=D,h.push(IC(A.mark(b.allowedMarks(A.marks)),p==1?d:0,p==c.childCount?k:-1)))}let T=p==c.childCount;T||(k=-1),this.placed=bc(this.placed,n,ye.from(h)),this.frontier[n].match=g,T&&k<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let A=0,D=c;A<k;A++){let P=D.lastChild;this.frontier.push({type:P.type,match:P.contentMatchAt(P.childCount)}),D=P.content}this.unplaced=T?e==0?Re.empty:new Re(wc(l.content,e-1,1),e-1,k<0?l.openEnd:e-1):new Re(wc(l.content,e,p),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Yy(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],a=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Yy(e,n,i,r,a);if(l){for(let c=n-1;c>=0;c--){let{match:d,type:p}=this.frontier[c],h=Yy(e,c,p,d,!0);if(!h||h.childCount)continue e}return{depth:n,fit:l,move:a?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=bc(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=bc(this.placed,this.depth,ye.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ye.empty,!0);n.childCount&&(this.placed=bc(this.placed,this.frontier.length,n))}}function wc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(wc(t.firstChild.content,e-1,n)))}function bc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(bc(t.lastChild.content,e-1,n)))}function Gy(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function IC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,IC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ye.empty,!0)))),t.copy(r)}function Yy(t,e,n,r,i){let a=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==a.childCount&&!n.compatibleContent(a.type))return null;let c=r.fillBefore(a.content,!0,l);return c&&!S3(n,a.content,l)?c:null}function S3(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function k3(t){return t.spec.defining||t.spec.definingForContent}function T3(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),a=t.doc.resolve(n);if(BC(i,a,r))return t.step(new gn(e,n,r));let l=zC(i,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let c=-(i.depth+1);l.unshift(c);for(let b=i.depth,k=i.pos-1;b>0;b--,k--){let T=i.node(b).type.spec;if(T.defining||T.definingAsContext||T.isolating)break;l.indexOf(b)>-1?c=b:i.before(b)==k&&l.splice(1,0,-b)}let d=l.indexOf(c),p=[],h=r.openStart;for(let b=r.content,k=0;;k++){let T=b.firstChild;if(p.push(T),k==r.openStart)break;b=T.content}for(let b=h-1;b>=0;b--){let k=p[b],T=k3(k.type);if(T&&!k.sameMarkup(i.node(Math.abs(c)-1)))h=b;else if(T||!k.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let k=(b+h+1)%(r.openStart+1),T=p[k];if(T)for(let A=0;A<l.length;A++){let D=l[(A+d)%l.length],P=!0;D<0&&(P=!1,D=-D);let z=i.node(D-1),$=i.index(D-1);if(z.canReplaceWith($,$,T.type,T.marks))return t.replace(i.before(D),P?a.after(D):n,new Re(jC(r.content,0,r.openStart,k),k,r.openEnd))}}let g=t.steps.length;for(let b=l.length-1;b>=0&&(t.replace(e,n,r),!(t.steps.length>g));b--){let k=l[b];k<0||(e=i.before(k),n=a.after(k))}}function jC(t,e,n,r,i){if(e<n){let a=t.firstChild;t=t.replaceChild(0,a.copy(jC(a.content,e+1,n,r,a)))}if(e>r){let a=i.contentMatchAt(0),l=a.fillBefore(t).append(t);t=l.append(a.matchFragment(l).fillBefore(ye.empty,!0))}return t}function x3(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=w3(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Re(ye.from(r),0,0))}function E3(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),a=zC(r,i);for(let l=0;l<a.length;l++){let c=a[l],d=l==a.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),i.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return t.delete(r.before(c),i.after(c))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function zC(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let a=t.start(i);if(a<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&n.push(i)}return n}class _l extends Vn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return sn.fail("No node at attribute step's position");let r=Object.create(null);for(let a in n.attrs)r[a]=n.attrs[a];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return sn.fromReplace(e,this.pos,this.pos+1,new Re(ye.from(i),0,n.isLeaf?0:1))}getMap(){return hr.empty}invert(e){return new _l(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _l(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _l(n.pos,n.attr,n.value)}}Vn.jsonID("attr",_l);class Qc extends Vn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return sn.ok(r)}getMap(){return hr.empty}invert(e){return new Qc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Qc(n.attr,n.value)}}Vn.jsonID("docAttr",Qc);let zl=class extends Error{};zl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};zl.prototype=Object.create(Error.prototype);zl.prototype.constructor=zl;zl.prototype.name="TransformError";class VC{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Xc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new zl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Re.empty){let i=vh(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Re(ye.from(r),0,0))}delete(e,n){return this.replace(e,n,Re.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return T3(this,e,n,r),this}replaceRangeWith(e,n,r){return x3(this,e,n,r),this}deleteRange(e,n){return E3(this,e,n),this}lift(e,n){return u3(this,e,n),this}join(e,n=1){return v3(this,e,n),this}wrap(e,n){return f3(this,e,n),this}setBlockType(e,n=e,r,i=null){return p3(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return m3(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new _l(e,n,r)),this}setDocAttribute(e,n){return this.step(new Qc(e,n)),this}addNodeMark(e,n){return this.step(new fa(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Ct)n.isInSet(r.marks)&&this.step(new wo(e,n));else{let i=r.marks,a,l=[];for(;a=n.isInSet(i);)l.push(new wo(e,a)),i=a.removeFromSet(i);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,n=1,r){return y3(this,e,n,r),this}addMark(e,n,r){return a3(this,e,n,r),this}removeMark(e,n,r){return o3(this,e,n,r),this}clearIncompatible(e,n,r){return uw(this,e,n,r),this}}const Xy=Object.create(null);class Qe{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new C3(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Re.empty){let r=n.content.lastChild,i=null;for(let c=0;c<n.openEnd;c++)i=r,r=r.lastChild;let a=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:d,$to:p}=l[c],h=e.mapping.slice(a);e.replaceRange(h.map(d.pos),h.map(p.pos),c?Re.empty:n),c==0&&J1(e,a,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:l,$to:c}=i[a],d=e.mapping.slice(r),p=d.map(l.pos),h=d.map(c.pos);a?e.deleteRange(p,h):(e.replaceRangeWith(p,h,n),J1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ge(e):El(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let a=e.depth-1;a>=0;a--){let l=n<0?El(e.node(0),e.node(a),e.before(a+1),e.index(a),n,r):El(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new mr(e.node(0))}static atStart(e){return El(e,e,0,0,1)||new mr(e)}static atEnd(e){return El(e,e,e.content.size,e.childCount,-1)||new mr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Xy[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Xy)throw new RangeError("Duplicate use of selection JSON ID "+e);return Xy[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ge.between(this.$anchor,this.$head).getBookmark()}}Qe.prototype.visible=!0;class C3{constructor(e,n){this.$from=e,this.$to=n}}let q1=!1;function W1(t){!q1&&!t.parent.inlineContent&&(q1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ge extends Qe{constructor(e,n=e){W1(e),W1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Qe.near(r);let i=e.resolve(n.map(this.anchor));return new Ge(i.parent.inlineContent?i:r,r)}replace(e,n=Re.empty){if(super.replace(e,n),n==Re.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ge&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new wh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ge(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let a=Qe.findFrom(n,r,!0)||Qe.findFrom(n,-r,!0);if(a)n=a.$head;else return Qe.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Qe.findFrom(e,-r,!0)||Qe.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ge(e,n)}}Qe.jsonID("text",Ge);class wh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new wh(e.map(this.anchor),e.map(this.head))}resolve(e){return Ge.between(e.resolve(this.anchor),e.resolve(this.head))}}class ze extends Qe{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),a=e.resolve(i);return r?Qe.near(a):new ze(a)}content(){return new Re(ye.from(this.node),0,0)}eq(e){return e instanceof ze&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new dw(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ze(e.resolve(n.anchor))}static create(e,n){return new ze(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ze.prototype.visible=!1;Qe.jsonID("node",ze);class dw{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new wh(r,r):new dw(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ze.isSelectable(r)?new ze(n):Qe.near(n)}}class mr extends Qe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Re.empty){if(n==Re.empty){e.delete(0,e.doc.content.size);let r=Qe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new mr(e)}map(e){return new mr(e)}eq(e){return e instanceof mr}getBookmark(){return A3}}Qe.jsonID("all",mr);const A3={map(){return this},resolve(t){return new mr(t)}};function El(t,e,n,r,i,a=!1){if(e.inlineContent)return Ge.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let c=e.child(l);if(c.isAtom){if(!a&&ze.isSelectable(c))return ze.create(t,n-(i<0?c.nodeSize:0))}else{let d=El(t,c,n+i,i<0?c.childCount:0,i,a);if(d)return d}n+=c.nodeSize*i}return null}function J1(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof gn||i instanceof vn))return;let a=t.mapping.maps[r],l;a.forEach((c,d,p,h)=>{l==null&&(l=h)}),t.setSelection(Qe.near(t.doc.resolve(l),n))}const $1=1,Kf=2,G1=4;class M3 extends VC{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|$1)&~Kf,this.storedMarks=null,this}get selectionSet(){return(this.updated&$1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Kf,this}ensureMarks(e){return Ct.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Kf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Kf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ct.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let a=this.storedMarks;if(!a){let l=this.doc.resolve(n);a=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,a)),this.selection.empty||this.setSelection(Qe.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=G1,this}get scrolledIntoView(){return(this.updated&G1)>0}}function Y1(t,e){return!e||!t?t:t.bind(e)}class Sc{constructor(e,n,r){this.name=e,this.init=Y1(n.init,r),this.apply=Y1(n.apply,r)}}const R3=[new Sc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Sc("selection",{init(t,e){return t.selection||Qe.atStart(e.doc)},apply(t){return t.selection}}),new Sc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Sc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Qy{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=R3.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sc(r.key,r.spec.state,r))})}}class Ll{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let a=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let d=i?i[l].n:0,p=i?i[l].state:this,h=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,p,r);if(h&&r.filterTransaction(h,l)){if(h.setMeta("appendedTransaction",e),!i){i=[];for(let g=0;g<this.config.plugins.length;g++)i.push(g<l?{state:r,n:n.length}:{state:this,n:0})}n.push(h),r=r.applyInner(h),a=!0}i&&(i[l]={state:r,n:n.length})}}if(!a)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ll(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let a=r[i];n[a.name]=a.apply(e,this[a.name],this,n)}return n}get tr(){return new M3(this)}static create(e){let n=new Qy(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ll(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Qy(this.schema,e.plugins),r=n.fields,i=new Ll(n);for(let a=0;a<r.length;a++){let l=r[a].name;i[l]=this.hasOwnProperty(l)?this[l]:r[a].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],a=i.spec.state;a&&a.toJSON&&(n[r]=a.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Qy(e.schema,e.plugins),a=new Ll(i);return i.fields.forEach(l=>{if(l.name=="doc")a.doc=$r.fromJSON(e.schema,n.doc);else if(l.name=="selection")a.selection=Qe.fromJSON(a.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],p=d.spec.state;if(d.key==l.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){a[l.name]=p.fromJSON.call(d,e,n[c],a);return}}a[l.name]=l.init(e,a)}}),a}}function UC(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=UC(i,e,{})),n[r]=i}return n}class qt{constructor(e){this.spec=e,this.props={},e.props&&UC(e.props,this,this.props),this.key=e.key?e.key.key:HC("plugin")}getState(e){return e[this.key]}}const Zy=Object.create(null);function HC(t){return t in Zy?t+"$"+ ++Zy[t]:(Zy[t]=0,t+"$")}class bn{constructor(e="key"){this.key=HC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Mn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Vl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Zg=null;const as=function(t,e,n){let r=Zg||(Zg=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},D3=function(){Zg=null},bo=function(t,e,n,r){return n&&(X1(t,e,n,r,-1)||X1(t,e,n,r,1))},P3=/^(img|br|input|textarea|hr)$/i;function X1(t,e,n,r,i){for(var a;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Br(t))){let l=t.parentNode;if(!l||l.nodeType!=1||gd(t)||P3.test(t.nodeName)||t.contentEditable=="false")return!1;e=Mn(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((a=l.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?Br(t):0}else return!1}}function Br(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function O3(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Br(t)}else if(t.parentNode&&!gd(t))e=Mn(t),t=t.parentNode;else return null}}function N3(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!gd(t))e=Mn(t)+1,t=t.parentNode;else return null}}function L3(t,e,n){for(let r=e==0,i=e==Br(t);r||i;){if(t==n)return!0;let a=Mn(t);if(t=t.parentNode,!t)return!1;r=r&&a==0,i=i&&a==Br(t)}}function gd(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const bh=function(t){return t.focusNode&&bo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function no(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function _3(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function B3(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Br(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Br(r.startContainer),r.startOffset)}}}const bi=typeof navigator<"u"?navigator:null,Q1=typeof document<"u"?document:null,Ca=bi&&bi.userAgent||"",ev=/Edge\/(\d+)/.exec(Ca),FC=/MSIE \d/.exec(Ca),tv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ca),rr=!!(FC||tv||ev),ma=FC?document.documentMode:tv?+tv[1]:ev?+ev[1]:0,Gr=!rr&&/gecko\/(\d+)/i.test(Ca);Gr&&+(/Firefox\/(\d+)/.exec(Ca)||[0,0])[1];const nv=!rr&&/Chrome\/(\d+)/.exec(Ca),zn=!!nv,KC=nv?+nv[1]:0,Gn=!rr&&!!bi&&/Apple Computer/.test(bi.vendor),Ul=Gn&&(/Mobile\/\w+/.test(Ca)||!!bi&&bi.maxTouchPoints>2),_r=Ul||(bi?/Mac/.test(bi.platform):!1),I3=bi?/Win/.test(bi.platform):!1,ls=/Android \d/.test(Ca),vd=!!Q1&&"webkitFontSmoothing"in Q1.documentElement.style,j3=vd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function z3(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ns(t,e){return typeof t=="number"?t:t[e]}function V3(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Z1(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=Vl(l);continue}let c=l,d=c==a.body,p=d?z3(a):V3(c),h=0,g=0;if(e.top<p.top+ns(r,"top")?g=-(p.top-e.top+ns(i,"top")):e.bottom>p.bottom-ns(r,"bottom")&&(g=e.bottom-e.top>p.bottom-p.top?e.top+ns(i,"top")-p.top:e.bottom-p.bottom+ns(i,"bottom")),e.left<p.left+ns(r,"left")?h=-(p.left-e.left+ns(i,"left")):e.right>p.right-ns(r,"right")&&(h=e.right-p.right+ns(i,"right")),h||g)if(d)a.defaultView.scrollBy(h,g);else{let k=c.scrollLeft,T=c.scrollTop;g&&(c.scrollTop+=g),h&&(c.scrollLeft+=h);let A=c.scrollLeft-k,D=c.scrollTop-T;e={left:e.left-A,top:e.top-D,right:e.right-A,bottom:e.bottom-D}}let b=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(b))break;l=b=="absolute"?l.offsetParent:Vl(l)}}function U3(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let a=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=t.root.elementFromPoint(a,l);if(!c||c==t.dom||!t.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){r=c,i=d.top;break}}return{refDOM:r,refTop:i,stack:qC(t.dom)}}function qC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Vl(r));return e}function H3({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;WC(n,r==0?0:r-e)}function WC(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:a}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=a&&(r.scrollLeft=a)}}let kl=null;function F3(t){if(t.setActive)return t.setActive();if(kl)return t.focus(kl);let e=qC(t);t.focus(kl==null?{get preventScroll(){return kl={preventScroll:!0},!0}}:void 0),kl||(kl=!1,WC(e,0))}function JC(t,e){let n,r=2e8,i,a=0,l=e.top,c=e.top,d,p;for(let h=t.firstChild,g=0;h;h=h.nextSibling,g++){let b;if(h.nodeType==1)b=h.getClientRects();else if(h.nodeType==3)b=as(h).getClientRects();else continue;for(let k=0;k<b.length;k++){let T=b[k];if(T.top<=l&&T.bottom>=c){l=Math.max(T.bottom,l),c=Math.min(T.top,c);let A=T.left>e.left?T.left-e.left:T.right<e.left?e.left-T.right:0;if(A<r){n=h,r=A,i=A&&n.nodeType==3?{left:T.right<e.left?T.right:T.left,top:e.top}:e,h.nodeType==1&&A&&(a=g+(e.left>=(T.left+T.right)/2?1:0));continue}}else T.top>e.top&&!d&&T.left<=e.left&&T.right>=e.left&&(d=h,p={left:Math.max(T.left,Math.min(T.right,e.left)),top:T.top});!n&&(e.left>=T.right&&e.top>=T.top||e.left>=T.left&&e.top>=T.bottom)&&(a=g+1)}}return!n&&d&&(n=d,i=p,r=0),n&&n.nodeType==3?K3(n,i):!n||r&&n.nodeType==1?{node:t,offset:a}:JC(n,i)}function K3(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let a=sa(r,1);if(a.top!=a.bottom&&fw(e,a))return{node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}function fw(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function q3(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function W3(t,e,n){let{node:r,offset:i}=JC(e,n),a=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();a=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,a)}function J3(t,e,n,r){let i=-1;for(let a=e,l=!1;a!=t.dom;){let c=t.docView.nearestDesc(a,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&d.left>r.left||d.top>r.top?i=c.posBefore:(!l&&d.right<r.left||d.bottom<r.top)&&(i=c.posAfter),l=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;a=c.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function $C(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),a=i;;){let l=t.childNodes[a];if(l.nodeType==1){let c=l.getClientRects();for(let d=0;d<c.length;d++){let p=c[d];if(fw(e,p))return $C(l,e,p)}}if((a=(a+1)%r)==i)break}return t}function $3(t,e){let n=t.dom.ownerDocument,r,i=0,a=B3(n,e.left,e.top);a&&({node:r,offset:i}=a);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let p=t.dom.getBoundingClientRect();if(!fw(e,p)||(l=$C(t.dom,e,p),!l))return null}if(Gn)for(let p=l;r&&p;p=Vl(p))p.draggable&&(r=void 0);if(l=q3(l,e),r){if(Gr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let h=r.childNodes[i],g;h.nodeName=="IMG"&&(g=h.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&i++}let p;vd&&i&&r.nodeType==1&&(p=r.childNodes[i-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=J3(t,r,i,e))}c==null&&(c=W3(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function eT(t){return t.top<t.bottom||t.left<t.right}function sa(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(eT(r))return r}return Array.prototype.find.call(n,eT)||t.getBoundingClientRect()}const G3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function GC(t,e,n){let{node:r,offset:i,atom:a}=t.docView.domFromPos(e,n<0?-1:1),l=vd||Gr;if(r.nodeType==3)if(l&&(G3.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let d=sa(as(r,i,i),n);if(Gr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let p=sa(as(r,i-1,i-1),-1);if(p.top==d.top){let h=sa(as(r,i,i+1),-1);if(h.top!=d.top)return yc(h,h.left<p.left)}}return d}else{let d=i,p=i,h=n<0?1:-1;return n<0&&!i?(p++,h=-1):n>=0&&i==r.nodeValue.length?(d--,h=1):n<0?d--:p++,yc(sa(as(r,d,p),h),h<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(n<0||i==Br(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return eg(d.getBoundingClientRect(),!1)}if(a==null&&i<Br(r)){let d=r.childNodes[i];if(d.nodeType==1)return eg(d.getBoundingClientRect(),!0)}return eg(r.getBoundingClientRect(),n>=0)}if(a==null&&i&&(n<0||i==Br(r))){let d=r.childNodes[i-1],p=d.nodeType==3?as(d,Br(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(p)return yc(sa(p,1),!1)}if(a==null&&i<Br(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let p=d?d.nodeType==3?as(d,0,l?0:1):d.nodeType==1?d:null:null;if(p)return yc(sa(p,-1),!0)}return yc(sa(r.nodeType==3?as(r):r,-n),n>=0)}function yc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function eg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function YC(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Y3(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return YC(t,e,()=>{let{node:a}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(a,!0);if(!c)break;if(c.node.isBlock){a=c.contentDOM||c.dom;break}a=c.dom.parentNode}let l=GC(t,i.pos,1);for(let c=a.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=as(c,0,c.nodeValue.length).getClientRects();else continue;for(let p=0;p<d.length;p++){let h=d[p];if(h.bottom>h.top+1&&(n=="up"?l.top-h.top>(h.bottom-l.top)*2:h.bottom-l.bottom>(l.bottom-h.top)*2))return!1}}return!0})}const X3=/[\u0590-\u08ac]/;function Q3(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,a=!i,l=i==r.parent.content.size,c=t.domSelection();return c?!X3.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?a:l:YC(t,e,()=>{let{focusNode:d,focusOffset:p,anchorNode:h,anchorOffset:g}=t.domSelectionRange(),b=c.caretBidiLevel;c.modify("move",n,"character");let k=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:T,focusOffset:A}=t.domSelectionRange(),D=T&&!k.contains(T.nodeType==1?T:T.parentNode)||d==T&&p==A;try{c.collapse(h,g),d&&(d!=h||p!=g)&&c.extend&&c.extend(d,p)}catch{}return b!=null&&(c.caretBidiLevel=b),D}):r.pos==r.start()||r.pos==r.end()}let tT=null,nT=null,rT=!1;function Z3(t,e,n){return tT==e&&nT==n?rT:(tT=e,nT=n,rT=n=="up"||n=="down"?Y3(t,e,n):Q3(t,e,n))}const jr=0,iT=1,so=2,Si=3;class wd{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=jr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let a,l;if(e==this.contentDOM)a=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(l)+l.size:this.posAtStart}else{let a,l;if(e==this.contentDOM)a=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Mn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),l;if(a&&(!n||a.node))if(r&&(l=a.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return a}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],a=r+i.size;if(r==e&&a!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let c=i.children[l];if(c.size){i=c;break}}return i}if(e<a)return i.descAt(e-r-i.border);r=a}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let a=0;r<this.children.length;r++){let l=this.children[r],c=a+l.size;if(c>e||l instanceof QC){i=e-a;break}a=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof XC&&a.side>=0;r--);if(n<=0){let a,l=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,l=!1);return a&&n&&l&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?Mn(a.dom)+1:0}}else{let a,l=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,l=!1);return a&&l&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?Mn(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let l=r,c=0;;c++){let d=this.children[c],p=l+d.size;if(i==-1&&e<=p){let h=l+d.border;if(e>=h&&n<=p-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,h);e=l;for(let g=c;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){i=Mn(b.dom)+1;break}e-=b.size}i==-1&&(i=0)}if(i>-1&&(p>n||c==this.children.length-1)){n=p;for(let h=c+1;h<this.children.length;h++){let g=this.children[h];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){a=Mn(g.dom);break}n+=g.size}a==-1&&(a=this.contentDOM.childNodes.length);break}l=p}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let a=Math.min(e,n),l=Math.max(e,n);for(let k=0,T=0;k<this.children.length;k++){let A=this.children[k],D=T+A.size;if(a>T&&l<D)return A.setSelection(e-T-A.border,n-T-A.border,r,i);T=D}let c=this.domFromPos(e,e?-1:1),d=n==e?c:this.domFromPos(n,n?-1:1),p=r.root.getSelection(),h=r.domSelectionRange(),g=!1;if((Gr||Gn)&&e==n){let{node:k,offset:T}=c;if(k.nodeType==3){if(g=!!(T&&k.nodeValue[T-1]==`
`),g&&T==k.nodeValue.length)for(let A=k,D;A;A=A.parentNode){if(D=A.nextSibling){D.nodeName=="BR"&&(c=d={node:D.parentNode,offset:Mn(D)+1});break}let P=A.pmViewDesc;if(P&&P.node&&P.node.isBlock)break}}else{let A=k.childNodes[T-1];g=A&&(A.nodeName=="BR"||A.contentEditable=="false")}}if(Gr&&h.focusNode&&h.focusNode!=d.node&&h.focusNode.nodeType==1){let k=h.focusNode.childNodes[h.focusOffset];k&&k.contentEditable=="false"&&(i=!0)}if(!(i||g&&Gn)&&bo(c.node,c.offset,h.anchorNode,h.anchorOffset)&&bo(d.node,d.offset,h.focusNode,h.focusOffset))return;let b=!1;if((p.extend||e==n)&&!g){p.collapse(c.node,c.offset);try{e!=n&&p.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>n){let T=c;c=d,d=T}let k=document.createRange();k.setEnd(d.node,d.offset),k.setStart(c.node,c.offset),p.removeAllRanges(),p.addRange(k)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let a=this.children[i],l=r+a.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let c=r+a.border,d=l-a.border;if(e>=c&&n<=d){this.dirty=e==r||n==l?so:iT,e==c&&n==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Si:a.markDirty(e-c,n-c);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?so:Si}r=l}this.dirty=so}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?so:iT;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class XC extends wd{constructor(e,n,r,i){let a,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,a=this}matchesWidget(e){return this.dirty==jr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class e6 extends wd{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class So extends wd{constructor(e,n,r,i,a){super(e,[],r,i),this.mark=n,this.spec=a}static create(e,n,r,i){let a=i.nodeViews[n.type.name],l=a&&a(n,i,r);return(!l||!l.dom)&&(l=xo.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new So(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Si||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Si&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=jr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=jr}}slice(e,n,r){let i=So.create(this.parent,this.mark,!0,r),a=this.children,l=this.size;n<l&&(a=iv(a,n,l,r)),e>0&&(a=iv(a,0,e,r));for(let c=0;c<a.length;c++)a[c].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ya extends wd{constructor(e,n,r,i,a,l,c,d,p){super(e,[],a,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,n,r,i,a,l){let c=a.nodeViews[n.type.name],d,p=c&&c(n,a,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,i),h=p&&p.dom,g=p&&p.contentDOM;if(n.isText){if(!h)h=document.createTextNode(n.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:g}=xo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),n.type.spec.draggable&&(h.draggable=!0));let b=h;return h=tA(h,r,n),p?d=new t6(e,n,r,i,h,g||null,b,p,a,l+1):n.isText?new Sh(e,n,r,i,h,b,a):new ya(e,n,r,i,h,g||null,b,a,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ye.empty)}return e}matchesNode(e,n,r){return this.dirty==jr&&e.eq(this.node)&&Cp(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,a=e.composing?this.localCompositionInfo(e,n):null,l=a&&a.pos>-1?a:null,c=a&&a.pos<0,d=new r6(this,l&&l.node,e);a6(this.node,this.innerDeco,(p,h,g)=>{p.spec.marks?d.syncToMarks(p.spec.marks,r,e):p.type.side>=0&&!g&&d.syncToMarks(h==this.node.childCount?Ct.none:this.node.child(h).marks,r,e),d.placeWidget(p,e,i)},(p,h,g,b)=>{d.syncToMarks(p.marks,r,e);let k;d.findNodeMatch(p,h,g,b)||c&&e.state.selection.from>i&&e.state.selection.to<i+p.nodeSize&&(k=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(p,h,g,k,e)||d.updateNextNode(p,h,g,e,b,i)||d.addNode(p,h,g,e,i),i+=p.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==so)&&(l&&this.protectLocalComposition(e,l),ZC(this.contentDOM,this.children,e),Ul&&o6(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ge)||r<n||i>n+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let l=a.nodeValue,c=l6(this.node.content,l,r-n,i-n);return c<0?null:{node:a,pos:c,text:l}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let l=new e6(this,a,n,i);e.input.compositionNodes.push(l),this.children=iv(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==Si||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=jr}updateOuterDeco(e){if(Cp(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=eA(this.dom,this.nodeDOM,rv(this.outerDeco,this.node,n),rv(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function sT(t,e,n,r,i){tA(r,e,t);let a=new ya(void 0,t,e,n,r,r,r,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class Sh extends ya{constructor(e,n,r,i,a,l,c){super(e,n,r,i,a,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Si||this.dirty!=jr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=jr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=jr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),a=document.createTextNode(i.text);return new Sh(this.parent,i,this.outerDeco,this.innerDeco,a,a,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Si)}get domAtom(){return!1}isText(e){return this.node.text==e}}class QC extends wd{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==jr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class t6 extends ya{constructor(e,n,r,i,a,l,c,d,p,h){super(e,n,r,i,a,l,c,p,h),this.spec=d}update(e,n,r,i){if(this.dirty==Si)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,n,r);return a&&this.updateInner(e,n,r,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function ZC(t,e,n){let r=t.firstChild,i=!1;for(let a=0;a<e.length;a++){let l=e[a],c=l.dom;if(c.parentNode==t){for(;c!=r;)r=aT(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(c,r);if(l instanceof So){let d=r?r.previousSibling:t.lastChild;ZC(l.contentDOM,l.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=aT(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Pc=function(t){t&&(this.nodeName=t)};Pc.prototype=Object.create(null);const ao=[new Pc];function rv(t,e,n){if(t.length==0)return ao;let r=n?ao[0]:new Pc,i=[r];for(let a=0;a<t.length;a++){let l=t[a].type.attrs;if(l){l.nodeName&&i.push(r=new Pc(l.nodeName));for(let c in l){let d=l[c];d!=null&&(n&&i.length==1&&i.push(r=new Pc(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return i}function eA(t,e,n,r){if(n==ao&&r==ao)return e;let i=e;for(let a=0;a<r.length;a++){let l=r[a],c=n[a];if(a){let d;c&&c.nodeName==l.nodeName&&i!=t&&(d=i.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(i),c=ao[0]),i=d}n6(i,c||ao[0],l)}return i}function n6(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)i.indexOf(r[a])==-1&&t.classList.remove(r[a]);for(let a=0;a<i.length;a++)r.indexOf(i[a])==-1&&t.classList.add(i[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function tA(t,e,n){return eA(t,t,ao,rv(e,n,t.nodeType!=1))}function Cp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function aT(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class r6{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=i6(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,a=this.stack.length>>1,l=Math.min(a,e.length);for(;i<l&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=jr,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let p=this.top.children[d];if(p.matchesMark(e[a])&&!this.isLocked(p.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=So.create(this.top,e[a],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,a++}}findNodeMatch(e,n,r,i){let a=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))a=this.top.children.indexOf(l,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let p=this.top.children[c];if(p.matchesNode(e,n,r)&&!this.preMatch.matched.has(p)){a=c;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,n,r,i,a){let l=this.top.children[i];return l.dirty==Si&&l.dom==l.contentDOM&&(l.dirty=so),l.update(e,n,r,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,a,l){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof ya){let p=this.preMatch.matched.get(d);if(p!=null&&p!=a)return!1;let h=d.dom,g,b=this.isLocked(h)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Si&&Cp(n,d.outerDeco));if(!b&&d.update(e,n,r,i))return this.destroyBetween(this.index,c),d.dom!=h&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(d,e,n,r,i,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=so,g.updateChildren(i,l+1),g.dirty=jr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,a,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Cp(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=ya.create(this.top,n,r,i,a,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,n,r,i,a){let l=ya.create(this.top,e,n,r,i,a);l.contentDOM&&l.updateChildren(i,a+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new XC(this.top,e,n,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof So;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Sh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Gn||zn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new QC(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function i6(t,e){let n=e,r=n.children.length,i=t.childCount,a=new Map,l=[];e:for(;i>0;){let c;for(;;)if(r){let p=n.children[r-1];if(p instanceof So)n=p,r=p.children.length;else{c=p,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=t.child(i-1))break;--i,a.set(c,i),l.push(c)}}return{index:i,matched:a,matches:l.reverse()}}function s6(t,e){return t.type.side-e.type.side}function a6(t,e,n,r){let i=e.locals(t),a=0;if(i.length==0){for(let p=0;p<t.childCount;p++){let h=t.child(p);r(h,i,e.forChild(a,h),p),a+=h.nodeSize}return}let l=0,c=[],d=null;for(let p=0;;){let h,g;for(;l<i.length&&i[l].to==a;){let D=i[l++];D.widget&&(h?(g||(g=[h])).push(D):h=D)}if(h)if(g){g.sort(s6);for(let D=0;D<g.length;D++)n(g[D],p,!!d)}else n(h,p,!!d);let b,k;if(d)k=-1,b=d,d=null;else if(p<t.childCount)k=p,b=t.child(p++);else break;for(let D=0;D<c.length;D++)c[D].to<=a&&c.splice(D--,1);for(;l<i.length&&i[l].from<=a&&i[l].to>a;)c.push(i[l++]);let T=a+b.nodeSize;if(b.isText){let D=T;l<i.length&&i[l].from<D&&(D=i[l].from);for(let P=0;P<c.length;P++)c[P].to<D&&(D=c[P].to);D<T&&(d=b.cut(D-a),b=b.cut(0,D-a),T=D,k=-1)}else for(;l<i.length&&i[l].to<T;)l++;let A=b.isInline&&!b.isLeaf?c.filter(D=>!D.inline):c.slice();r(b,A,e.forChild(a,b),k),a=T}}function o6(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function l6(t,e,n,r){for(let i=0,a=0;i<t.childCount&&a<=r;){let l=t.child(i++),c=a;if(a+=l.nodeSize,!l.isText)continue;let d=l.text;for(;i<t.childCount;){let p=t.child(i++);if(a+=p.nodeSize,!p.isText)break;d+=p.text}if(a>=n){if(a>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let p=c<r?d.lastIndexOf(e,r-c-1):-1;if(p>=0&&p+e.length+c>=n)return c+p;if(n==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function iv(t,e,n,r,i){let a=[];for(let l=0,c=0;l<t.length;l++){let d=t[l],p=c,h=c+=d.size;p>=n||h<=e?a.push(d):(p<e&&a.push(d.slice(0,e-p,r)),i&&(a.push(i),i=void 0),h>n&&a.push(d.slice(n-p,d.size,r)))}return a}function pw(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),a=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=r.resolve(l),d,p;if(bh(n)){for(d=l;i&&!i.node;)i=i.parent;let g=i.node;if(i&&g.isAtom&&ze.isSelectable(g)&&i.parent&&!(g.isInline&&L3(n.focusNode,n.focusOffset,i.dom))){let b=i.posBefore;p=new ze(l==b?c:r.resolve(b))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=l,b=l;for(let k=0;k<n.rangeCount;k++){let T=n.getRangeAt(k);g=Math.min(g,t.docView.posFromDOM(T.startContainer,T.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(T.endContainer,T.endOffset,-1))}if(g<0)return null;[d,l]=b==t.state.selection.anchor?[b,g]:[g,b],c=r.resolve(l)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let h=r.resolve(d);if(!p){let g=e=="pointer"||t.state.selection.head<c.pos&&!a?1:-1;p=hw(t,h,c,g)}return p}function nA(t){return t.editable?t.hasFocus():iA(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ds(t,e=!1){let n=t.state.selection;if(rA(t,n),!!nA(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&zn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&bo(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)c6(t);else{let{anchor:r,head:i}=n,a,l;oT&&!(n instanceof Ge)&&(n.$from.parent.inlineContent||(a=lT(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=lT(t,n.to))),t.docView.setSelection(r,i,t,e),oT&&(a&&uT(a),l&&uT(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&u6(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const oT=Gn||zn&&KC<63;function lT(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,a=r?n.childNodes[r-1]:null;if(Gn&&i&&i.contentEditable=="false")return tg(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return tg(i);if(a)return tg(a)}}function tg(t){return t.contentEditable="true",Gn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function uT(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function u6(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!nA(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function c6(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Mn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&rr&&ma<=11&&(r.disabled=!0,r.disabled=!1)}function rA(t,e){if(e instanceof ze){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(cT(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else cT(t)}function cT(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function hw(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ge.between(e,n,r)}function dT(t){return t.editable&&!t.hasFocus()?!1:iA(t)}function iA(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function d6(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return bo(e.node,e.offset,n.anchorNode,n.anchorOffset)}function sv(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&Qe.findFrom(a,e)}function aa(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function fT(t,e,n){let r=t.state.selection;if(r instanceof Ge)if(n.indexOf("s")>-1){let{$head:i}=r,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return aa(t,new Ge(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=sv(t.state,e);return i&&i instanceof ze?aa(t,i):!1}else if(!(_r&&n.indexOf("m")>-1)){let i=r.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!a||a.isText)return!1;let c=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(l=t.docView.descAt(c))&&!l.contentDOM?ze.isSelectable(a)?aa(t,new ze(e<0?t.state.doc.resolve(i.pos-a.nodeSize):i)):vd?aa(t,new Ge(t.state.doc.resolve(e<0?c:c+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ze&&r.node.isInline)return aa(t,new Ge(e>0?r.$to:r.$from));{let i=sv(t.state,e);return i?aa(t,i):!1}}}function Ap(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Oc(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Tl(t,e){return e<0?f6(t):p6(t)}function f6(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,a,l=!1;for(Gr&&n.nodeType==1&&r<Ap(n)&&Oc(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(Oc(c,-1))i=n,a=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(sA(n))break;{let c=n.previousSibling;for(;c&&Oc(c,-1);)i=n.parentNode,a=Mn(c),c=c.previousSibling;if(c)n=c,r=Ap(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?av(t,n,r):i&&av(t,i,a)}function p6(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Ap(n),a,l;for(;;)if(r<i){if(n.nodeType!=1)break;let c=n.childNodes[r];if(Oc(c,1))a=n,l=++r;else break}else{if(sA(n))break;{let c=n.nextSibling;for(;c&&Oc(c,1);)a=c.parentNode,l=Mn(c)+1,c=c.nextSibling;if(c)n=c,r=0,i=Ap(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}a&&av(t,a,l)}function sA(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function h6(t,e){for(;t&&e==t.childNodes.length&&!gd(t);)e=Mn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function m6(t,e){for(;t&&!e&&!gd(t);)e=Mn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function av(t,e,n){if(e.nodeType!=3){let a,l;(l=h6(e,n))?(e=l,n=0):(a=m6(e,n))&&(e=a,n=a.nodeValue.length)}let r=t.domSelection();if(!r)return;if(bh(r)){let a=document.createRange();a.setEnd(e,n),a.setStart(e,n),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&ds(t)},50)}function pT(t,e){let n=t.state.doc.resolve(e);if(!(zn||I3)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let a=t.coordsAtPos(e-1),l=(a.top+a.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<n.end()){let a=t.coordsAtPos(e+1),l=(a.top+a.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function hT(t,e,n){let r=t.state.selection;if(r instanceof Ge&&!r.empty||n.indexOf("s")>-1||_r&&n.indexOf("m")>-1)return!1;let{$from:i,$to:a}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=sv(t.state,e);if(l&&l instanceof ze)return aa(t,l)}if(!i.parent.inlineContent){let l=e<0?i:a,c=r instanceof mr?Qe.near(l,e):Qe.findFrom(l,e);return c?aa(t,c):!1}return!1}function mT(t,e){if(!(t.state.selection instanceof Ge))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let l=t.state.tr;return e<0?l.delete(n.pos-a.nodeSize,n.pos):l.delete(n.pos,n.pos+a.nodeSize),t.dispatch(l),!0}return!1}function yT(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function y6(t){if(!Gn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;yT(t,r,"true"),setTimeout(()=>yT(t,r,"false"),20)}return!1}function g6(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function v6(t,e){let n=e.keyCode,r=g6(e);if(n==8||_r&&n==72&&r=="c")return mT(t,-1)||Tl(t,-1);if(n==46&&!e.shiftKey||_r&&n==68&&r=="c")return mT(t,1)||Tl(t,1);if(n==13||n==27)return!0;if(n==37||_r&&n==66&&r=="c"){let i=n==37?pT(t,t.state.selection.from)=="ltr"?-1:1:-1;return fT(t,i,r)||Tl(t,i)}else if(n==39||_r&&n==70&&r=="c"){let i=n==39?pT(t,t.state.selection.from)=="ltr"?1:-1:1;return fT(t,i,r)||Tl(t,i)}else{if(n==38||_r&&n==80&&r=="c")return hT(t,-1,r)||Tl(t,-1);if(n==40||_r&&n==78&&r=="c")return y6(t)||hT(t,1,r)||Tl(t,1);if(r==(_r?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function mw(t,e){t.someProp("transformCopied",k=>{e=k(e,t)});let n=[],{content:r,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,a--;let k=r.firstChild;n.push(k.type.name,k.attrs!=k.type.defaultAttrs?k.attrs:null),r=k.content}let l=t.someProp("clipboardSerializer")||xo.fromSchema(t.state.schema),c=dA(),d=c.createElement("div");d.appendChild(l.serializeFragment(r,{document:c}));let p=d.firstChild,h,g=0;for(;p&&p.nodeType==1&&(h=cA[p.nodeName.toLowerCase()]);){for(let k=h.length-1;k>=0;k--){let T=c.createElement(h[k]);for(;d.firstChild;)T.appendChild(d.firstChild);d.appendChild(T),g++}p=d.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${i} ${a}${g?` -${g}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",k=>k(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function aA(t,e,n,r,i){let a=i.parent.type.spec.code,l,c;if(!n&&!e)return null;let d=e&&(r||a||!n);if(d){if(t.someProp("transformPastedText",b=>{e=b(e,a||r,t)}),a)return e?new Re(ye.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Re.empty;let g=t.someProp("clipboardTextParser",b=>b(e,i,r,t));if(g)c=g;else{let b=i.marks(),{schema:k}=t.state,T=xo.fromSchema(k);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(A=>{let D=l.appendChild(document.createElement("p"));A&&D.appendChild(T.serializeNode(k.text(A,b)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),l=k6(n),vd&&T6(l);let p=l&&l.querySelector("[data-pm-slice]"),h=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let g=+h[3];g>0;g--){let b=l.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;l=b}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||ha.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||h),context:i,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!w6.test(b.parentNode.nodeName)?{ignore:!0}:null}})),h)c=x6(gT(c,+h[1],+h[2]),h[4]);else if(c=Re.maxOpen(b6(c.content,i),!0),c.openStart||c.openEnd){let g=0,b=0;for(let k=c.content.firstChild;g<c.openStart&&!k.type.spec.isolating;g++,k=k.firstChild);for(let k=c.content.lastChild;b<c.openEnd&&!k.type.spec.isolating;b++,k=k.lastChild);c=gT(c,g,b)}return t.someProp("transformPasted",g=>{c=g(c,t)}),c}const w6=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function b6(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),a,l=[];if(t.forEach(c=>{if(!l)return;let d=i.findWrapping(c.type),p;if(!d)return l=null;if(p=l.length&&a.length&&lA(d,a,c,l[l.length-1],0))l[l.length-1]=p;else{l.length&&(l[l.length-1]=uA(l[l.length-1],a.length));let h=oA(c,d);l.push(h),i=i.matchType(h.type),a=d}}),l)return ye.from(l)}return t}function oA(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ye.from(t));return t}function lA(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let a=lA(t,e,n,r.lastChild,i+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ye.from(oA(n,t,i+1))))}}function uA(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,uA(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ye.empty,!0);return t.copy(n.append(r))}function ov(t,e,n,r,i,a){let l=e<0?t.firstChild:t.lastChild,c=l.content;return t.childCount>1&&(a=0),i<r-1&&(c=ov(c,e,n,r,i+1,a)),i>=n&&(c=e<0?l.contentMatchAt(0).fillBefore(c,a<=i).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(ye.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(c))}function gT(t,e,n){return e<t.openStart&&(t=new Re(ov(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Re(ov(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const cA={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let vT=null;function dA(){return vT||(vT=document.implementation.createHTMLDocument("title"))}let ng=null;function S6(t){let e=window.trustedTypes;return e?(ng||(ng=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),ng.createHTML(t)):t}function k6(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=dA().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&cA[r[1].toLowerCase()])&&(t=i.map(a=>"<"+a+">").join("")+t+i.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=S6(t),i)for(let a=0;a<i.length;a++)n=n.querySelector(i[a])||n;return n}function T6(t){let e=t.querySelectorAll(zn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function x6(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:a,openEnd:l}=t;for(let c=r.length-2;c>=0;c-=2){let d=n.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;i=ye.from(d.create(r[c+1],i)),a++,l++}return new Re(i,a,l)}const Yn={},Xn={},E6={touchstart:!0,touchmove:!0};class C6{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function A6(t){for(let e in Yn){let n=Yn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{R6(t,r)&&!yw(t,r)&&(t.editable||!(r.type in Xn))&&n(t,r)},E6[e]?{passive:!0}:void 0)}Gn&&t.dom.addEventListener("input",()=>null),lv(t)}function pa(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function M6(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function lv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>yw(t,r))})}function yw(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function R6(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function D6(t,e){!yw(t,e)&&Yn[e.type]&&(t.editable||!(e.type in Xn))&&Yn[e.type](t,e)}Xn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!pA(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ls&&zn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ul&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,no(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||v6(t,n)?n.preventDefault():pa(t,"key")};Xn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Xn.keypress=(t,e)=>{let n=e;if(pA(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||_r&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ge)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),a=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i,a))&&t.dispatch(a()),n.preventDefault()}};function kh(t){return{left:t.clientX,top:t.clientY}}function P6(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function gw(t,e,n,r,i){if(r==-1)return!1;let a=t.state.doc.resolve(r);for(let l=a.depth+1;l>0;l--)if(t.someProp(e,c=>l>a.depth?c(t,n,a.nodeAfter,a.before(l),i,!0):c(t,n,a.node(l),a.before(l),i,!1)))return!0;return!1}function Bl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function O6(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ze.isSelectable(r)?(Bl(t,new ze(n)),!0):!1}function N6(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof ze&&(r=n.node);let a=t.state.doc.resolve(e);for(let l=a.depth+1;l>0;l--){let c=l>a.depth?a.nodeAfter:a.node(l);if(ze.isSelectable(c)){r&&n.$from.depth>0&&l>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?i=a.before(n.$from.depth):i=a.before(l);break}}return i!=null?(Bl(t,ze.create(t.state.doc,i)),!0):!1}function L6(t,e,n,r,i){return gw(t,"handleClickOn",e,n,r)||t.someProp("handleClick",a=>a(t,e,r))||(i?N6(t,n):O6(t,n))}function _6(t,e,n,r){return gw(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function B6(t,e,n,r){return gw(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||I6(t,n,r)}function I6(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Bl(t,Ge.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a),c=i.before(a);if(l.inlineContent)Bl(t,Ge.create(r,c+1,c+1+l.content.size));else if(ze.isSelectable(l))Bl(t,ze.create(r,c));else continue;return!0}}function vw(t){return Mp(t)}const fA=_r?"metaKey":"ctrlKey";Yn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=vw(t),i=Date.now(),a="singleClick";i-t.input.lastClick.time<500&&P6(n,t.input.lastClick)&&!n[fA]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:a,button:n.button};let l=t.posAtCoords(kh(n));l&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new j6(t,l,n,!!r)):(a=="doubleClick"?_6:B6)(t,l.pos,l.inside,n)?n.preventDefault():pa(t,"pointer"))};class j6{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[fA],this.allowDefault=r.shiftKey;let a,l;if(n.inside>-1)a=e.state.doc.nodeAt(n.inside),l=n.inside;else{let h=e.state.doc.resolve(n.pos);a=h.parent,l=h.depth?h.before():0}const c=i?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:p}=e.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||p instanceof ze&&p.from<=l&&p.to>l)&&(this.mightDrag={node:a,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Gr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),pa(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ds(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(kh(e))),this.updateAllowDefault(e),this.allowDefault||!n?pa(this.view,"pointer"):L6(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Gn&&this.mightDrag&&!this.mightDrag.node.isAtom||zn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Bl(this.view,Qe.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):pa(this.view,"pointer")}move(e){this.updateAllowDefault(e),pa(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Yn.touchstart=t=>{t.input.lastTouch=Date.now(),vw(t),pa(t,"pointer")};Yn.touchmove=t=>{t.input.lastTouch=Date.now(),pa(t,"pointer")};Yn.contextmenu=t=>vw(t);function pA(t,e){return t.composing?!0:Gn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const z6=ls?5e3:-1;Xn.compositionstart=Xn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ge&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Mp(t,!0),t.markCursor=null;else if(Mp(t,!e.selection.empty),Gr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,a=r.focusOffset;i&&i.nodeType==1&&a!=0;){let l=a<0?i.lastChild:i.childNodes[a-1];if(!l)break;if(l.nodeType==3){let c=t.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else i=l,a=-1}}t.input.composing=!0}hA(t,z6)};Xn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,hA(t,20))};function hA(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Mp(t),e))}function mA(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=U6());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function V6(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=O3(e.focusNode,e.focusOffset),r=N3(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(n==a||r==a)return a;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function U6(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Mp(t,e=!1){if(!(ls&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),mA(t),e||t.docView&&t.docView.dirty){let n=pw(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function H6(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Zc=rr&&ma<15||Ul&&j3<604;Yn.copy=Xn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let a=Zc?null:n.clipboardData,l=r.content(),{dom:c,text:d}=mw(t,l);a?(n.preventDefault(),a.clearData(),a.setData("text/html",c.innerHTML),a.setData("text/plain",d)):H6(t,c),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function F6(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function K6(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ed(t,r.value,null,i,e):ed(t,r.textContent,r.innerHTML,i,e)},50)}function ed(t,e,n,r,i){let a=aA(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,i,a||Re.empty)))return!0;if(!a)return!1;let l=F6(a),c=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(a);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function yA(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Xn.paste=(t,e)=>{let n=e;if(t.composing&&!ls)return;let r=Zc?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&ed(t,yA(r),r.getData("text/html"),i,n)?n.preventDefault():K6(t,n)};class gA{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const q6=_r?"altKey":"ctrlKey";function vA(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[q6]}Yn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,a=i.empty?null:t.posAtCoords(kh(n)),l;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof ze?i.to-1:i.to))){if(r&&r.mightDrag)l=ze.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(l=ze.create(t.state.doc,g.posBefore))}}let c=(l||t.state.selection).content(),{dom:d,text:p,slice:h}=mw(t,c);(!n.dataTransfer.files.length||!zn||KC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Zc?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Zc||n.dataTransfer.setData("text/plain",p),t.dragging=new gA(h,vA(t,n),l)};Yn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Xn.dragover=Xn.dragenter=(t,e)=>e.preventDefault();Xn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(kh(n));if(!i)return;let a=t.state.doc.resolve(i.pos),l=r&&r.slice;l?t.someProp("transformPasted",T=>{l=T(l,t)}):l=aA(t,yA(n.dataTransfer),Zc?null:n.dataTransfer.getData("text/html"),!1,a);let c=!!(r&&vA(t,n));if(t.someProp("handleDrop",T=>T(t,n,l||Re.empty,c))){n.preventDefault();return}if(!l)return;n.preventDefault();let d=l?_C(t.state.doc,a.pos,l):a.pos;d==null&&(d=a.pos);let p=t.state.tr;if(c){let{node:T}=r;T?T.replace(p):p.deleteSelection()}let h=p.mapping.map(d),g=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,b=p.doc;if(g?p.replaceRangeWith(h,h,l.content.firstChild):p.replaceRange(h,h,l),p.doc.eq(b))return;let k=p.doc.resolve(h);if(g&&ze.isSelectable(l.content.firstChild)&&k.nodeAfter&&k.nodeAfter.sameMarkup(l.content.firstChild))p.setSelection(new ze(k));else{let T=p.mapping.map(d);p.mapping.maps[p.mapping.maps.length-1].forEach((A,D,P,z)=>T=z),p.setSelection(hw(t,k,p.doc.resolve(T)))}t.focus(),t.dispatch(p.setMeta("uiEvent","drop"))};Yn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ds(t)},20))};Yn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Yn.beforeinput=(t,e)=>{if(zn&&ls&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,no(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Xn)Yn[t]=Xn[t];function td(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Rp{constructor(e,n){this.toDOM=e,this.spec=n||mo,this.side=this.spec.side||0}map(e,n,r,i){let{pos:a,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new $n(a-r,a-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Rp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&td(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ga{constructor(e,n){this.attrs=e,this.spec=n||mo}map(e,n,r,i){let a=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return a>=l?null:new $n(a,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ga&&td(this.attrs,e.attrs)&&td(this.spec,e.spec)}static is(e){return e.type instanceof ga}destroy(){}}class ww{constructor(e,n){this.attrs=e,this.spec=n||mo}map(e,n,r,i){let a=e.mapResult(n.from+i,1);if(a.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=a.pos?null:new $n(a.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),a;return i==n.from&&!(a=e.child(r)).isText&&i+a.nodeSize==n.to}eq(e){return this==e||e instanceof ww&&td(this.attrs,e.attrs)&&td(this.spec,e.spec)}destroy(){}}class $n{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new $n(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new $n(e,e,new Rp(n,r))}static inline(e,n,r,i){return new $n(e,n,new ga(r,i))}static node(e,n,r,i){return new $n(e,n,new ww(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ga}get widget(){return this.type instanceof Rp}}const Cl=[],mo={};class It{constructor(e,n){this.local=e.length?e:Cl,this.children=n.length?n:Cl}static create(e,n){return n.length?Dp(n,e,0,mo):In}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,a){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=e&&(!a||a(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,r,i+c,a)}}map(e,n,r){return this==In||e.maps.length==0?this:this.mapInner(e,n,0,0,r||mo)}mapInner(e,n,r,i,a){let l;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,i);d&&d.type.valid(n,d)?(l||(l=[])).push(d):a.onRemove&&a.onRemove(this.local[c].spec)}return this.children.length?W6(this.children,l||[],e,n,r,i,a):l?new It(l.sort(yo),Cl):In}add(e,n){return n.length?this==In?It.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,a=0;e.forEach((c,d)=>{let p=d+r,h;if(h=bA(n,c,p)){for(i||(i=this.children.slice());a<i.length&&i[a]<d;)a+=3;i[a]==d?i[a+2]=i[a+2].addInner(c,h,p+1):i.splice(a,0,d,d+c.nodeSize,Dp(h,c,p+1,mo)),a+=3}});let l=wA(a?SA(n):n,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new It(l.length?this.local.concat(l).sort(yo):this.local,i||this.children)}remove(e){return e.length==0||this==In?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let a=0;a<r.length;a+=3){let l,c=r[a]+n,d=r[a+1]+n;for(let h=0,g;h<e.length;h++)(g=e[h])&&g.from>c&&g.to<d&&(e[h]=null,(l||(l=[])).push(g));if(!l)continue;r==this.children&&(r=this.children.slice());let p=r[a+2].removeInner(l,c+1);p!=In?r[a+2]=p:(r.splice(a,3),a-=3)}if(i.length){for(let a=0,l;a<e.length;a++)if(l=e[a])for(let c=0;c<i.length;c++)i[c].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new It(i,r):In}forChild(e,n){if(this==In)return this;if(n.isLeaf)return It.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let a=e+1,l=a+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<l&&d.to>a&&d.type instanceof ga){let p=Math.max(a,d.from)-a,h=Math.min(l,d.to)-a;p<h&&(i||(i=[])).push(d.copy(p,h))}}if(i){let c=new It(i.sort(yo),Cl);return r?new ua([c,r]):c}return r||In}eq(e){if(this==e)return!0;if(!(e instanceof It)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return bw(this.localsInner(e))}localsInner(e){if(this==In)return Cl;if(e.inlineContent||!this.local.some(ga.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ga||n.push(this.local[r]);return n}forEachSet(e){e(this)}}It.empty=new It([],[]);It.removeOverlap=bw;const In=It.empty;class ua{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,mo));return ua.from(r)}forChild(e,n){if(n.isLeaf)return It.empty;let r=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,n);a!=In&&(a instanceof ua?r=r.concat(a.members):r.push(a))}return ua.from(r)}eq(e){if(!(e instanceof ua)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!n)n=a;else{r&&(n=n.slice(),r=!1);for(let l=0;l<a.length;l++)n.push(a[l])}}return n?bw(r?n:n.sort(yo)):Cl}static from(e){switch(e.length){case 0:return In;case 1:return e[0];default:return new ua(e.every(n=>n instanceof It)?e:e.reduce((n,r)=>n.concat(r instanceof It?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function W6(t,e,n,r,i,a,l){let c=t.slice();for(let p=0,h=a;p<n.maps.length;p++){let g=0;n.maps[p].forEach((b,k,T,A)=>{let D=A-T-(k-b);for(let P=0;P<c.length;P+=3){let z=c[P+1];if(z<0||b>z+h-g)continue;let $=c[P]+h-g;k>=$?c[P+1]=b<=$?-2:-1:b>=h&&D&&(c[P]+=D,c[P+1]+=D)}g+=D}),h=n.maps[p].map(h,-1)}let d=!1;for(let p=0;p<c.length;p+=3)if(c[p+1]<0){if(c[p+1]==-2){d=!0,c[p+1]=-1;continue}let h=n.map(t[p]+a),g=h-i;if(g<0||g>=r.content.size){d=!0;continue}let b=n.map(t[p+1]+a,-1),k=b-i,{index:T,offset:A}=r.content.findIndex(g),D=r.maybeChild(T);if(D&&A==g&&A+D.nodeSize==k){let P=c[p+2].mapInner(n,D,h+1,t[p]+a+1,l);P!=In?(c[p]=g,c[p+1]=k,c[p+2]=P):(c[p+1]=-2,d=!0)}else d=!0}if(d){let p=J6(c,t,e,n,i,a,l),h=Dp(p,r,0,l);e=h.local;for(let g=0;g<c.length;g+=3)c[g+1]<0&&(c.splice(g,3),g-=3);for(let g=0,b=0;g<h.children.length;g+=3){let k=h.children[g];for(;b<c.length&&c[b]<k;)b+=3;c.splice(b,0,h.children[g],h.children[g+1],h.children[g+2])}}return new It(e.sort(yo),c)}function wA(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new $n(i.from+e,i.to+e,i.type))}return n}function J6(t,e,n,r,i,a,l){function c(d,p){for(let h=0;h<d.local.length;h++){let g=d.local[h].map(r,i,p);g?n.push(g):l.onRemove&&l.onRemove(d.local[h].spec)}for(let h=0;h<d.children.length;h+=3)c(d.children[h+2],d.children[h]+p+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&c(t[d+2],e[d]+a+1);return n}function bA(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let a=0,l;a<t.length;a++)(l=t[a])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[a]=null);return i}function SA(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Dp(t,e,n,r){let i=[],a=!1;e.forEach((c,d)=>{let p=bA(t,c,d+n);if(p){a=!0;let h=Dp(p,c,n+d+1,r);h!=In&&i.push(d,d+c.nodeSize,h)}});let l=wA(a?SA(t):t,-n).sort(yo);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||i.length?new It(l,i):In}function yo(t,e){return t.from-e.from||t.to-e.to}function bw(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let a=e[i];if(a.from==r.from){a.to!=r.to&&(e==t&&(e=t.slice()),e[i]=a.copy(a.from,r.to),wT(e,i+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,a.from),wT(e,i,r.copy(a.from,r.to)));break}}}return e}function wT(t,e,n){for(;e<t.length&&yo(n,t[e])>0;)e++;t.splice(e,0,n)}function rg(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=In&&e.push(r)}),t.cursorWrapper&&e.push(It.create(t.state.doc,[t.cursorWrapper.deco])),ua.from(e)}const $6={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},G6=rr&&ma<=11;class Y6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class X6{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Y6,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);rr&&ma<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),G6&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,$6)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(dT(this.view)){if(this.suppressingSelectionUpdates)return ds(this.view);if(rr&&ma<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&bo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let a=e.focusNode;a;a=Vl(a))n.add(a);for(let a=e.anchorNode;a;a=Vl(a))if(n.has(a)){r=a;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&dT(e)&&!this.ignoreSelectionChange(r),a=-1,l=-1,c=!1,d=[];if(e.editable)for(let h=0;h<n.length;h++){let g=this.registerMutation(n[h],d);g&&(a=a<0?g.from:Math.min(g.from,a),l=l<0?g.to:Math.max(g.to,l),g.typeOver&&(c=!0))}if(Gr&&d.length){let h=d.filter(g=>g.nodeName=="BR");if(h.length==2){let[g,b]=h;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of h){let k=b.parentNode;k&&k.nodeName=="LI"&&(!g||eI(e,g)!=k)&&b.remove()}}}let p=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&bh(r)&&(p=pw(e))&&p.eq(Qe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ds(e),this.currentSelection.set(r),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,l),Q6(e)),this.handleDOMChange(a,l,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ds(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let g=e.addedNodes[h];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,a=e.nextSibling;if(rr&&ma<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:g,nextSibling:b}=e.addedNodes[h];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(a=b)}let l=i&&i.parentNode==e.target?Mn(i)+1:0,c=r.localPosFromDOM(e.target,l,-1),d=a&&a.parentNode==e.target?Mn(a):e.target.childNodes.length,p=r.localPosFromDOM(e.target,d,1);return{from:c,to:p}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let bT=new WeakMap,ST=!1;function Q6(t){if(!bT.has(t)&&(bT.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Gr,ST)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ST=!0}}function kT(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return bo(l.node,l.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function Z6(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return kT(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?kT(t,n):null}function eI(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function tI(t,e,n){let{node:r,fromOffset:i,toOffset:a,from:l,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),p,h=d.anchorNode;if(h&&t.dom.contains(h.nodeType==1?h:h.parentNode)&&(p=[{node:h,offset:d.anchorOffset}],bh(d)||p.push({node:d.focusNode,offset:d.focusOffset})),zn&&t.input.lastKeyCode===8)for(let D=a;D>i;D--){let P=r.childNodes[D-1],z=P.pmViewDesc;if(P.nodeName=="BR"&&!z){a=D;break}if(!z||z.size)break}let g=t.state.doc,b=t.someProp("domParser")||ha.fromSchema(t.state.schema),k=g.resolve(l),T=null,A=b.parse(r,{topNode:k.parent,topMatch:k.parent.contentMatchAt(k.index()),topOpen:!0,from:i,to:a,preserveWhitespace:k.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:nI,context:k});if(p&&p[0].pos!=null){let D=p[0].pos,P=p[1]&&p[1].pos;P==null&&(P=D),T={anchor:D+l,head:P+l}}return{doc:A,sel:T,from:l,to:c}}function nI(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Gn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Gn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const rI=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function iI(t,e,n,r,i){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let de=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Ae=pw(t,de);if(Ae&&!t.state.selection.eq(Ae)){if(zn&&ls&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",dt=>dt(t,no(13,"Enter"))))return;let Ne=t.state.tr.setSelection(Ae);de=="pointer"?Ne.setMeta("pointer",!0):de=="key"&&Ne.scrollIntoView(),a&&Ne.setMeta("composition",a),t.dispatch(Ne)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d=t.state.selection,p=tI(t,e,n),h=t.state.doc,g=h.slice(p.from,p.to),b,k;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,k="end"):(b=t.state.selection.from,k="start"),t.input.lastKeyCode=null;let T=oI(g.content,p.doc.content,p.from,b,k);if(T&&t.input.domChangeCount++,(Ul&&t.input.lastIOSEnter>Date.now()-225||ls)&&i.some(de=>de.nodeType==1&&!rI.test(de.nodeName))&&(!T||T.endA>=T.endB)&&t.someProp("handleKeyDown",de=>de(t,no(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!T)if(r&&d instanceof Ge&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))T={start:d.from,endA:d.to,endB:d.to};else{if(p.sel){let de=TT(t,t.state.doc,p.sel);if(de&&!de.eq(t.state.selection)){let Ae=t.state.tr.setSelection(de);a&&Ae.setMeta("composition",a),t.dispatch(Ae)}}return}t.state.selection.from<t.state.selection.to&&T.start==T.endB&&t.state.selection instanceof Ge&&(T.start>t.state.selection.from&&T.start<=t.state.selection.from+2&&t.state.selection.from>=p.from?T.start=t.state.selection.from:T.endA<t.state.selection.to&&T.endA>=t.state.selection.to-2&&t.state.selection.to<=p.to&&(T.endB+=t.state.selection.to-T.endA,T.endA=t.state.selection.to)),rr&&ma<=11&&T.endB==T.start+1&&T.endA==T.start&&T.start>p.from&&p.doc.textBetween(T.start-p.from-1,T.start-p.from+1)=="  "&&(T.start--,T.endA--,T.endB--);let A=p.doc.resolveNoCache(T.start-p.from),D=p.doc.resolveNoCache(T.endB-p.from),P=h.resolve(T.start),z=A.sameParent(D)&&A.parent.inlineContent&&P.end()>=T.endA,$;if((Ul&&t.input.lastIOSEnter>Date.now()-225&&(!z||i.some(de=>de.nodeName=="DIV"||de.nodeName=="P"))||!z&&A.pos<p.doc.content.size&&(!A.sameParent(D)||!A.parent.inlineContent)&&!/\S/.test(p.doc.textBetween(A.pos,D.pos,"",""))&&($=Qe.findFrom(p.doc.resolve(A.pos+1),1,!0))&&$.head>A.pos)&&t.someProp("handleKeyDown",de=>de(t,no(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>T.start&&aI(h,T.start,T.endA,A,D)&&t.someProp("handleKeyDown",de=>de(t,no(8,"Backspace")))){ls&&zn&&t.domObserver.suppressSelectionUpdates();return}zn&&T.endB==T.start&&(t.input.lastChromeDelete=Date.now()),ls&&!z&&A.start()!=D.start()&&D.parentOffset==0&&A.depth==D.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==T.endA&&(T.endB-=2,D=p.doc.resolveNoCache(T.endB-p.from),setTimeout(()=>{t.someProp("handleKeyDown",function(de){return de(t,no(13,"Enter"))})},20));let ae=T.start,Y=T.endA,ue=de=>{let Ae=de||t.state.tr.replace(ae,Y,p.doc.slice(T.start-p.from,T.endB-p.from));if(p.sel){let Ne=TT(t,Ae.doc,p.sel);Ne&&!(zn&&t.composing&&Ne.empty&&(T.start!=T.endB||t.input.lastChromeDelete<Date.now()-100)&&(Ne.head==ae||Ne.head==Ae.mapping.map(Y)-1)||rr&&Ne.empty&&Ne.head==ae)&&Ae.setSelection(Ne)}return a&&Ae.setMeta("composition",a),Ae.scrollIntoView()},pe;if(z){if(A.pos==D.pos){rr&&ma<=11&&A.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ds(t),20));let de=ue(t.state.tr.delete(ae,Y)),Ae=h.resolve(T.start).marksAcross(h.resolve(T.endA));Ae&&de.ensureMarks(Ae),t.dispatch(de)}else if(T.endA==T.endB&&(pe=sI(A.parent.content.cut(A.parentOffset,D.parentOffset),P.parent.content.cut(P.parentOffset,T.endA-P.start())))){let de=ue(t.state.tr);pe.type=="add"?de.addMark(ae,Y,pe.mark):de.removeMark(ae,Y,pe.mark),t.dispatch(de)}else if(A.parent.child(A.index()).isText&&A.index()==D.index()-(D.textOffset?0:1)){let de=A.parent.textBetween(A.parentOffset,D.parentOffset),Ae=()=>ue(t.state.tr.insertText(de,ae,Y));t.someProp("handleTextInput",Ne=>Ne(t,ae,Y,de,Ae))||t.dispatch(Ae())}}else t.dispatch(ue())}function TT(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:hw(t,e.resolve(n.anchor),e.resolve(n.head))}function sI(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,a=r,l,c,d;for(let h=0;h<r.length;h++)i=r[h].removeFromSet(i);for(let h=0;h<n.length;h++)a=n[h].removeFromSet(a);if(i.length==1&&a.length==0)c=i[0],l="add",d=h=>h.mark(c.addToSet(h.marks));else if(i.length==0&&a.length==1)c=a[0],l="remove",d=h=>h.mark(c.removeFromSet(h.marks));else return null;let p=[];for(let h=0;h<e.childCount;h++)p.push(d(e.child(h)));if(ye.from(p).eq(t))return{mark:c,type:l}}function aI(t,e,n,r,i){if(n-e<=i.pos-r.pos||ig(r,!0,!1)<i.pos)return!1;let a=t.resolve(e);if(!r.parent.isTextblock){let c=a.nodeAfter;return c!=null&&n==e+c.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let l=t.resolve(ig(a,!0,!0));return!l.parent.isTextblock||l.pos>n||ig(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function ig(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let a=t.node(r).maybeChild(t.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function oI(t,e,n,r,i){let a=t.findDiffStart(e,n);if(a==null)return null;let{a:l,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let d=Math.max(0,a-Math.min(l,c));r-=l+d-a}if(l<a&&t.size<e.size){let d=r<=a&&r>=l?a-r:0;a-=d,a&&a<e.size&&xT(e.textBetween(a-1,a+1))&&(a+=d?1:-1),c=a+(c-l),l=a}else if(c<a){let d=r<=a&&r>=c?a-r:0;a-=d,a&&a<t.size&&xT(t.textBetween(a-1,a+1))&&(a+=d?1:-1),l=a+(l-c),c=a}return{start:a,endA:l,endB:c}}function xT(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class kA{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new C6,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(RT),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=AT(this),CT(this),this.nodeViews=MT(this),this.docView=sT(this.state.doc,ET(this),rg(this),this.dom,this),this.domObserver=new X6(this,(r,i,a,l)=>iI(this,r,i,a,l)),this.domObserver.start(),A6(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&lv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(RT),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,a=!1,l=!1;e.storedMarks&&this.composing&&(mA(this),l=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let k=MT(this);uI(k,this.nodeViews)&&(this.nodeViews=k,a=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&lv(this),this.editable=AT(this),CT(this);let d=rg(this),p=ET(this),h=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",g=a||!this.docView.matchesNode(e.doc,p,d);(g||!e.selection.eq(i.selection))&&(l=!0);let b=h=="preserve"&&l&&this.dom.style.overflowAnchor==null&&U3(this);if(l){this.domObserver.stop();let k=g&&(rr||zn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&lI(i.selection,e.selection);if(g){let T=zn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=V6(this)),(a||!this.docView.update(e.doc,p,d,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=sT(e.doc,p,d,this.dom,this)),T&&!this.trackWrites&&(k=!0)}k||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&d6(this))?ds(this,k):(rA(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():b&&H3(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Z1(this,n.getBoundingClientRect(),e)}else Z1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let a=r.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(i=a)}this.dragging=new gA(e.slice,e.move,i<0?void 0:ze.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(i=n?n(c):c))return i}let a=this.state.plugins;if(a)for(let l=0;l<a.length;l++){let c=a[l].props[e];if(c!=null&&(i=n?n(c):c))return i}}hasFocus(){if(rr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&F3(this.dom),ds(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return $3(this,e)}coordsAtPos(e,n=1){return GC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Z3(this,n||this.state,e)}pasteHTML(e,n){return ed(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ed(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return mw(this,e)}destroy(){this.docView&&(M6(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],rg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,D3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return D6(this,e)}domSelectionRange(){let e=this.domSelection();return e?Gn&&this.root.nodeType===11&&_3(this.dom.ownerDocument)==this.dom&&Z6(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}kA.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function ET(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[$n.node(0,t.state.doc.content.size,e)]}function CT(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:$n.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function AT(t){return!t.someProp("editable",e=>e(t.state)===!1)}function lI(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function MT(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function uI(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function RT(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Sa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Pp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},cI=typeof navigator<"u"&&/Mac/.test(navigator.platform),dI=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Rn=0;Rn<10;Rn++)Sa[48+Rn]=Sa[96+Rn]=String(Rn);for(var Rn=1;Rn<=24;Rn++)Sa[Rn+111]="F"+Rn;for(var Rn=65;Rn<=90;Rn++)Sa[Rn]=String.fromCharCode(Rn+32),Pp[Rn]=String.fromCharCode(Rn);for(var sg in Sa)Pp.hasOwnProperty(sg)||(Pp[sg]=Sa[sg]);function fI(t){var e=cI&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||dI&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Pp:Sa)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const pI=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),hI=typeof navigator<"u"&&/Win/.test(navigator.platform);function mI(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,a,l;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))pI?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function yI(t){let e=Object.create(null);for(let n in t)e[mI(n)]=t[n];return e}function ag(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function gI(t){return new qt({props:{handleKeyDown:TA(t)}})}function TA(t){let e=yI(t);return function(n,r){let i=fI(r),a,l=e[ag(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[ag(i,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(hI&&r.ctrlKey&&r.altKey)&&(a=Sa[r.keyCode])&&a!=i){let c=e[ag(a,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}const Sw=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function xA(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const EA=(t,e,n)=>{let r=xA(t,n);if(!r)return!1;let i=kw(r);if(!i){let l=r.blockRange(),c=l&&Ql(l);return c==null?!1:(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}let a=i.nodeBefore;if(LA(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Hl(a,"end")||ze.isSelectable(a)))for(let l=r.depth;;l--){let c=vh(t.doc,r.before(l),r.after(l),Re.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(Hl(a,"end")?Qe.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):ze.create(d.doc,i.pos-a.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return a.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1},vI=(t,e,n)=>{let r=xA(t,n);if(!r)return!1;let i=kw(r);return i?CA(t,i,e):!1},wI=(t,e,n)=>{let r=MA(t,n);if(!r)return!1;let i=Tw(r);return i?CA(t,i,e):!1};function CA(t,e,n){let r=e.nodeBefore,i=r,a=e.pos-1;for(;!i.isTextblock;a--){if(i.type.spec.isolating)return!1;let h=i.lastChild;if(!h)return!1;i=h}let l=e.nodeAfter,c=l,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let h=c.firstChild;if(!h)return!1;c=h}let p=vh(t.doc,a,d,Re.empty);if(!p||p.from!=a||p instanceof gn&&p.slice.size>=d-a)return!1;if(n){let h=t.tr.step(p);h.setSelection(Ge.create(h.doc,a)),n(h.scrollIntoView())}return!0}function Hl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const AA=(t,e,n)=>{let{$head:r,empty:i}=t.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;a=kw(r)}let l=a&&a.nodeBefore;return!l||!ze.isSelectable(l)?!1:(e&&e(t.tr.setSelection(ze.create(t.doc,a.pos-l.nodeSize)).scrollIntoView()),!0)};function kw(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function MA(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const RA=(t,e,n)=>{let r=MA(t,n);if(!r)return!1;let i=Tw(r);if(!i)return!1;let a=i.nodeAfter;if(LA(t,i,e,1))return!0;if(r.parent.content.size==0&&(Hl(a,"start")||ze.isSelectable(a))){let l=vh(t.doc,r.before(),r.after(),Re.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(Hl(a,"start")?Qe.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):ze.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return a.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},DA=(t,e,n)=>{let{$head:r,empty:i}=t.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;a=Tw(r)}let l=a&&a.nodeAfter;return!l||!ze.isSelectable(l)?!1:(e&&e(t.tr.setSelection(ze.create(t.doc,a.pos)).scrollIntoView()),!0)};function Tw(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const bI=(t,e)=>{let n=t.selection,r=n instanceof ze,i;if(r){if(n.node.isTextblock||!Ea(t.doc,n.from))return!1;i=n.from}else if(i=gh(t.doc,n.from,-1),i==null)return!1;if(e){let a=t.tr.join(i);r&&a.setSelection(ze.create(a.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},SI=(t,e)=>{let n=t.selection,r;if(n instanceof ze){if(n.node.isTextblock||!Ea(t.doc,n.to))return!1;r=n.to}else if(r=gh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},kI=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),a=i&&Ql(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)},PA=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function xw(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const TI=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),a=n.indexAfter(-1),l=xw(i.contentMatchAt(a));if(!l||!i.canReplaceWith(a,a,l))return!1;if(e){let c=n.after(),d=t.tr.replaceWith(c,c,l.createAndFill());d.setSelection(Qe.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},OA=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof mr||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=xw(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=t.tr.insert(l,a.createAndFill());c.setSelection(Ge.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},NA=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(cs(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ql(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function xI(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ze&&e.selection.node.isBlock)return!r.parentOffset||!cs(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let a=[],l,c,d=!1,p=!1;for(let k=r.depth;;k--)if(r.node(k).isBlock){d=r.end(k)==r.pos+(r.depth-k),p=r.start(k)==r.pos-(r.depth-k),c=xw(r.node(k-1).contentMatchAt(r.indexAfter(k-1))),a.unshift(d&&c?{type:c}:null),l=k;break}else{if(k==1)return!1;a.unshift(null)}let h=e.tr;(e.selection instanceof Ge||e.selection instanceof mr)&&h.deleteSelection();let g=h.mapping.map(r.pos),b=cs(h.doc,g,a.length,a);if(b||(a[0]=c?{type:c}:null,b=cs(h.doc,g,a.length,a)),!b)return!1;if(h.split(g,a.length,a),!d&&p&&r.node(l).type!=c){let k=h.mapping.map(r.before(l)),T=h.doc.resolve(k);c&&r.node(l-1).canReplaceWith(T.index(),T.index()+1,c)&&h.setNodeMarkup(h.mapping.map(r.before(l)),c)}return n&&n(h.scrollIntoView()),!0}}const EI=xI(),CI=(t,e)=>{let{$from:n,to:r}=t.selection,i,a=n.sharedDepth(r);return a==0?!1:(i=n.before(a),e&&e(t.tr.setSelection(ze.create(t.doc,i))),!0)};function AI(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,a=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||Ea(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function LA(t,e,n,r){let i=e.nodeBefore,a=e.nodeAfter,l,c,d=i.type.spec.isolating||a.type.spec.isolating;if(!d&&AI(t,e,n))return!0;let p=!d&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(l=(c=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&c.matchType(l[0]||a.type).validEnd){if(n){let k=e.pos+a.nodeSize,T=ye.empty;for(let P=l.length-1;P>=0;P--)T=ye.from(l[P].create(null,T));T=ye.from(i.copy(T));let A=t.tr.step(new vn(e.pos-1,k,e.pos,k,new Re(T,1,0),l.length,!0)),D=A.doc.resolve(k+2*l.length);D.nodeAfter&&D.nodeAfter.type==i.type&&Ea(A.doc,D.pos)&&A.join(D.pos),n(A.scrollIntoView())}return!0}let h=a.type.spec.isolating||r>0&&d?null:Qe.findFrom(e,1),g=h&&h.$from.blockRange(h.$to),b=g&&Ql(g);if(b!=null&&b>=e.depth)return n&&n(t.tr.lift(g,b).scrollIntoView()),!0;if(p&&Hl(a,"start",!0)&&Hl(i,"end")){let k=i,T=[];for(;T.push(k),!k.isTextblock;)k=k.lastChild;let A=a,D=1;for(;!A.isTextblock;A=A.firstChild)D++;if(k.canReplace(k.childCount,k.childCount,A.content)){if(n){let P=ye.empty;for(let $=T.length-1;$>=0;$--)P=ye.from(T[$].copy(P));let z=t.tr.step(new vn(e.pos-T.length,e.pos+a.nodeSize,e.pos+D,e.pos+a.nodeSize-D,new Re(P,T.length,0),0,!0));n(z.scrollIntoView())}return!0}}return!1}function _A(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(n&&n(e.tr.setSelection(Ge.create(e.doc,t<0?i.start(a):i.end(a)))),!0):!1}}const MI=_A(-1),RI=_A(1);function DI(t,e=null){return function(n,r){let{$from:i,$to:a}=n.selection,l=i.blockRange(a),c=l&&cw(l,t,e);return c?(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function DT(t,e=null){return function(n,r){let i=!1;for(let a=0;a<n.selection.ranges.length&&!i;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];n.doc.nodesBetween(l,c,(d,p)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)i=!0;else{let h=n.doc.resolve(p),g=h.index();i=h.parent.canReplaceWith(g,g+1,t)}})}if(!i)return!1;if(r){let a=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[l];a.setBlockType(c,d,t,e)}r(a.scrollIntoView())}return!0}}function Ew(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Ew(Sw,EA,AA);Ew(Sw,RA,DA);Ew(PA,OA,NA,EI);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function PI(t,e=null){return function(n,r){let{$from:i,$to:a}=n.selection,l=i.blockRange(a);if(!l)return!1;let c=r?n.tr:null;return OI(c,l,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function OI(t,e,n,r=null){let i=!1,a=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);a=new xp(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new xp(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=cw(a,n,r,e);return c?(t&&NI(t,e,c,i,n),!0):!1}function NI(t,e,n,r,i){let a=ye.empty;for(let h=n.length-1;h>=0;h--)a=ye.from(n[h].type.create(n[h].attrs,a));t.step(new vn(e.start-(r?2:0),e.end,e.start,e.end,new Re(a,0,0),n.length,!0));let l=0;for(let h=0;h<n.length;h++)n[h].type==i&&(l=h+1);let c=n.length-l,d=e.start+n.length-(r?2:0),p=e.parent;for(let h=e.startIndex,g=e.endIndex,b=!0;h<g;h++,b=!1)!b&&cs(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=p.child(h).nodeSize;return t}function LI(t){return function(e,n){let{$from:r,$to:i}=e.selection,a=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return a?n?r.node(a.depth-1).type==t?_I(e,n,t,a):BI(e,n,a):!0:!1}}function _I(t,e,n,r){let i=t.tr,a=r.end,l=r.$to.end(r.depth);a<l&&(i.step(new vn(a-1,l,a,l,new Re(ye.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new xp(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=Ql(r);if(c==null)return!1;i.lift(r,c);let d=i.doc.resolve(i.mapping.map(a,-1)-1);return Ea(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function BI(t,e,n){let r=t.tr,i=n.parent;for(let k=n.end,T=n.endIndex-1,A=n.startIndex;T>A;T--)k-=i.child(T).nodeSize,r.delete(k-1,k+1);let a=r.doc.resolve(n.start),l=a.nodeAfter;if(r.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==i.childCount,p=a.node(-1),h=a.index(-1);if(!p.canReplace(h+(c?0:1),h+1,l.content.append(d?ye.empty:ye.from(i))))return!1;let g=a.pos,b=g+l.nodeSize;return r.step(new vn(g-(c?1:0),b+(d?1:0),g+1,b-1,new Re((c?ye.empty:ye.from(i.copy(ye.empty))).append(d?ye.empty:ye.from(i.copy(ye.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function II(t){return function(e,n){let{$from:r,$to:i}=e.selection,a=r.blockRange(i,p=>p.childCount>0&&p.firstChild.type==t);if(!a)return!1;let l=a.startIndex;if(l==0)return!1;let c=a.parent,d=c.child(l-1);if(d.type!=t)return!1;if(n){let p=d.lastChild&&d.lastChild.type==c.type,h=ye.from(p?t.create():null),g=new Re(ye.from(t.create(null,ye.from(c.type.create(null,h)))),p?3:1,0),b=a.start,k=a.end;n(e.tr.step(new vn(b-(p?3:1),k,b,k,g,1,!0)).scrollIntoView())}return!0}}var jI=Object.defineProperty,BA=(t,e)=>{for(var n in e)jI(t,n,{get:e[n],enumerable:!0})};function Th(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:a}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,a=n.storedMarks,n}}}var xh=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,a=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...p)=>{const h=c(...p)(a);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:a}=r,l=[],c=!!t,d=t||i.tr,p=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(d),l.every(g=>g===!0)),h={...Object.fromEntries(Object.entries(n).map(([g,b])=>[g,(...T)=>{const A=this.buildProps(d,e),D=b(...T)(A);return l.push(D),h}])),run:p};return h}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,a=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...p)=>d(...p)({...a,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:a}=r,l={tr:t,editor:r,view:a,state:Th({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...p)=>d(...p)(l)]))}};return l}},zI=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function IA(t,e){const n=new VC(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var jA=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&jA(r)}return t};function qf(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return jA(n)}function nd(t,e,n){if(t instanceof $r||t instanceof ye)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ye.fromArray(t.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),nd("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,c="";const d=new xC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(l=!0,c=typeof p=="string"?p:p.outerHTML,null)}]}})});if(n.slice?ha.fromSchema(d).parseSlice(qf(t),n.parseOptions):ha.fromSchema(d).parse(qf(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const a=ha.fromSchema(e);return n.slice?a.parseSlice(qf(t),n.parseOptions).content:a.parse(qf(t),n.parseOptions)}return nd("",e,n)}function uv(t,e,n={},r={}){return nd(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function VI(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function UI(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,a)=>{n(i)&&r.push({node:i,pos:a})}),r}function HI(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Eh(t){return e=>HI(e.$from,t)}function je(t,e,n){return t.config[e]===void 0&&t.parent?je(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?je(t.parent,e,n):null}):t.config[e]}function Cw(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=je(e,"addExtensions",n);return r?[e,...Cw(r())]:e}).flat(10)}function Aw(t,e){const n=xo.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function zA(t){return typeof t=="function"}function vt(t,e=void 0,...n){return zA(t)?e?t.bind(e)(...n):t(...n):t}function FI(t={}){return Object.keys(t).length===0&&t.constructor===Object}function rd(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function VA(t){const e=[],{nodeExtensions:n,markExtensions:r}=rd(t),i=[...n,...r],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:i},d=je(l,"addGlobalAttributes",c);if(!d)return;d().forEach(h=>{h.types.forEach(g=>{Object.entries(h.attributes).forEach(([b,k])=>{e.push({type:g,name:b,attribute:{...a,...k}})})})})}),i.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},d=je(l,"addAttributes",c);if(!d)return;const p=d();Object.entries(p).forEach(([h,g])=>{const b={...a,...g};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,e.push({type:l.name,name:h,attribute:b})})}),e}function an(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,a])=>{if(!r[i]){r[i]=a;return}if(i==="class"){const c=a?String(a).split(" "):[],d=r[i]?r[i].split(" "):[],p=c.filter(h=>!d.includes(h));r[i]=[...d,...p].join(" ")}else if(i==="style"){const c=a?a.split(";").map(h=>h.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(h=>h.trim()).filter(Boolean):[],p=new Map;d.forEach(h=>{const[g,b]=h.split(":").map(k=>k.trim());p.set(g,b)}),c.forEach(h=>{const[g,b]=h.split(":").map(k=>k.trim());p.set(g,b)}),r[i]=Array.from(p.entries()).map(([h,g])=>`${h}: ${g}`).join("; ")}else r[i]=a}),r},{})}function Op(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>an(n,r),{})}function KI(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function PT(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((a,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):KI(n.getAttribute(l.name));return c==null?a:{...a,[l.name]:c}},{});return{...r,...i}}}}function OT(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&FI(n)?!1:n!=null))}function qI(t,e){var n;const r=VA(t),{nodeExtensions:i,markExtensions:a}=rd(t),l=(n=i.find(p=>je(p,"topNode")))==null?void 0:n.name,c=Object.fromEntries(i.map(p=>{const h=r.filter(P=>P.type===p.name),g={name:p.name,options:p.options,storage:p.storage,editor:e},b=t.reduce((P,z)=>{const $=je(z,"extendNodeSchema",g);return{...P,...$?$(p):{}}},{}),k=OT({...b,content:vt(je(p,"content",g)),marks:vt(je(p,"marks",g)),group:vt(je(p,"group",g)),inline:vt(je(p,"inline",g)),atom:vt(je(p,"atom",g)),selectable:vt(je(p,"selectable",g)),draggable:vt(je(p,"draggable",g)),code:vt(je(p,"code",g)),whitespace:vt(je(p,"whitespace",g)),linebreakReplacement:vt(je(p,"linebreakReplacement",g)),defining:vt(je(p,"defining",g)),isolating:vt(je(p,"isolating",g)),attrs:Object.fromEntries(h.map(P=>{var z,$;return[P.name,{default:(z=P?.attribute)==null?void 0:z.default,validate:($=P?.attribute)==null?void 0:$.validate}]}))}),T=vt(je(p,"parseHTML",g));T&&(k.parseDOM=T.map(P=>PT(P,h)));const A=je(p,"renderHTML",g);A&&(k.toDOM=P=>A({node:P,HTMLAttributes:Op(P,h)}));const D=je(p,"renderText",g);return D&&(k.toText=D),[p.name,k]})),d=Object.fromEntries(a.map(p=>{const h=r.filter(D=>D.type===p.name),g={name:p.name,options:p.options,storage:p.storage,editor:e},b=t.reduce((D,P)=>{const z=je(P,"extendMarkSchema",g);return{...D,...z?z(p):{}}},{}),k=OT({...b,inclusive:vt(je(p,"inclusive",g)),excludes:vt(je(p,"excludes",g)),group:vt(je(p,"group",g)),spanning:vt(je(p,"spanning",g)),code:vt(je(p,"code",g)),attrs:Object.fromEntries(h.map(D=>{var P,z;return[D.name,{default:(P=D?.attribute)==null?void 0:P.default,validate:(z=D?.attribute)==null?void 0:z.validate}]}))}),T=vt(je(p,"parseHTML",g));T&&(k.parseDOM=T.map(D=>PT(D,h)));const A=je(p,"renderHTML",g);return A&&(k.toDOM=D=>A({mark:D,HTMLAttributes:Op(D,h)})),[p.name,k]}));return new xC({topNode:l,nodes:c,marks:d})}function WI(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Mw(t){return t.sort((n,r)=>{const i=je(n,"priority")||100,a=je(r,"priority")||100;return i>a?-1:i<a?1:0})}function UA(t){const e=Mw(Cw(t)),n=WI(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function HA(t,e,n){const{from:r,to:i}=e,{blockSeparator:a=`

`,textSerializers:l={}}=n||{};let c="";return t.nodesBetween(r,i,(d,p,h,g)=>{var b;d.isBlock&&p>r&&(c+=a);const k=l?.[d.type.name];if(k)return h&&(c+=k({node:d,pos:p,parent:h,index:g,range:e})),!1;d.isText&&(c+=(b=d?.text)==null?void 0:b.slice(Math.max(r,p)-p,i-p))}),c}function JI(t,e){const n={from:0,to:t.content.size};return HA(t,n,e)}function FA(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function ms(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function KA(t,e){const n=ms(e,t.schema),{from:r,to:i,empty:a}=t.selection,l=[];a?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,d=>{l.push(...d.marks)});const c=l.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function on(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function $I(t,e){const n=on(e,t.schema),{from:r,to:i}=t.selection,a=[];t.doc.nodesBetween(r,i,c=>{a.push(c)});const l=a.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Ch(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function qA(t,e){const n=Ch(typeof e=="string"?e:e.name,t.schema);return n==="node"?$I(t,e):n==="mark"?KA(t,e):{}}function GI(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function YI(t){const e=GI(t);return e.length===1?e:e.filter((n,r)=>!e.filter((a,l)=>l!==r).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function WA(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,a)=>{const l=[];if(i.ranges.length)i.forEach((c,d)=>{l.push({from:c,to:d})});else{const{from:c,to:d}=n[a];if(c===void 0||d===void 0)return;l.push({from:c,to:d})}l.forEach(({from:c,to:d})=>{const p=e.slice(a).map(c,-1),h=e.slice(a).map(d),g=e.invert().map(p,-1),b=e.invert().map(h);r.push({oldRange:{from:g,to:b},newRange:{from:p,to:h}})})}),YI(r)}function Rw(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Np(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Rw(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function JA(t,e,n={}){return t.find(r=>r.type===e&&Np(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function NT(t,e,n={}){return!!JA(t,e,n)}function Dw(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(h=>h.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(h=>h.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!JA([...i.node.marks],e,n)))return;let l=i.index,c=t.start()+i.offset,d=l+1,p=c+i.node.nodeSize;for(;l>0&&NT([...t.parent.child(l-1).marks],e,n);)l-=1,c-=t.parent.child(l).nodeSize;for(;d<t.parent.childCount&&NT([...t.parent.child(d).marks],e,n);)p+=t.parent.child(d).nodeSize,d+=1;return{from:c,to:p}}function Pw(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const a=n.resolve(t),l=Dw(a,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,a)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:a,to:a+i.nodeSize,mark:l})))}),r}var XI=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let a=r,l=null;for(;a>0&&l===null;){const c=i.node(a);c?.type.name===e?l=c:a-=1}return[l,a]};function og(t,e){return e.nodes[t]||e.marks[t]||null}function lp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(a=>a.type===e&&a.name===r);return i?i.attribute.keepOnSplit:!1}))}var QI=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,a,l,c)=>{var d,p;const h=((p=(d=i.type.spec).toText)==null?void 0:p.call(d,{node:i,pos:a,parent:l,index:c}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?h:h.slice(0,Math.max(0,r-a))}),n};function cv(t,e,n={}){const{empty:r,ranges:i}=t.selection,a=e?ms(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>a?a.name===g.type.name:!0).find(g=>Np(g.attrs,n,{strict:!1}));let l=0;const c=[];if(i.forEach(({$from:g,$to:b})=>{const k=g.pos,T=b.pos;t.doc.nodesBetween(k,T,(A,D)=>{if(!A.isText&&!A.marks.length)return;const P=Math.max(k,D),z=Math.min(T,D+A.nodeSize),$=z-P;l+=$,c.push(...A.marks.map(ae=>({mark:ae,from:P,to:z})))})}),l===0)return!1;const d=c.filter(g=>a?a.name===g.mark.type.name:!0).filter(g=>Np(g.mark.attrs,n,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),p=c.filter(g=>a?g.mark.type!==a&&g.mark.type.excludes(a):!0).reduce((g,b)=>g+b.to-b.from,0);return(d>0?d+p:d)>=l}function ka(t,e,n={}){const{from:r,to:i,empty:a}=t.selection,l=e?on(e,t.schema):null,c=[];t.doc.nodesBetween(r,i,(g,b)=>{if(g.isText)return;const k=Math.max(r,b),T=Math.min(i,b+g.nodeSize);c.push({node:g,from:k,to:T})});const d=i-r,p=c.filter(g=>l?l.name===g.node.type.name:!0).filter(g=>Np(g.node.attrs,n,{strict:!1}));return a?!!p.length:p.reduce((g,b)=>g+b.to-b.from,0)>=d}function ZI(t,e,n={}){if(!e)return ka(t,null,n)||cv(t,null,n);const r=Ch(e,t.schema);return r==="node"?ka(t,e,n):r==="mark"?cv(t,e,n):!1}var ej=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const a=Eh(c=>c.type.name===e)(t.selection);if(!a)return!1;const l=t.doc.resolve(a.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},tj=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function LT(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function _T(t,e){const{nodeExtensions:n}=rd(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},a=vt(je(r,"group",i));return typeof a!="string"?!1:a.split(" ").includes("list")}function Ah(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(a=>{i!==!1&&(Ah(a,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function $A(t){return t instanceof ze}function GA(t){return t instanceof Ge}function oo(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function YA(t,e=null){if(!e)return null;const n=Qe.atStart(t),r=Qe.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,a=r.to;return e==="all"?Ge.create(t,oo(0,i,a),oo(t.content.size,i,a)):Ge.create(t,oo(e,i,a),oo(e,i,a))}function nj(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof gn||i instanceof vn))return;const a=t.mapping.maps[r];let l=0;a.forEach((c,d,p,h)=>{l===0&&(l=h)}),t.setSelection(Qe.near(t.doc.resolve(l),n))}var Mh=class{constructor(t){this.find=t.find,this.handler=t.handler}},rj=(t,e)=>{if(Rw(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Wf(t){var e;const{editor:n,from:r,to:i,text:a,rules:l,plugin:c}=t,{view:d}=n;if(d.composing)return!1;const p=d.state.doc.resolve(r);if(p.parent.type.spec.code||(e=p.nodeBefore||p.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let h=!1;const g=QI(p)+a;return l.forEach(b=>{if(h)return;const k=rj(g,b.find);if(!k)return;const T=d.state.tr,A=Th({state:d.state,transaction:T}),D={from:r-(k[0].length-a.length),to:i},{commands:P,chain:z,can:$}=new xh({editor:n,state:A});b.handler({state:A,range:D,match:k,commands:P,chain:z,can:$})===null||!T.steps.length||(T.setMeta(c,{transform:T,from:r,to:i,text:a}),d.dispatch(T),h=!0)}),h}function ij(t){const{editor:e,rules:n}=t,r=new qt({state:{init(){return null},apply(i,a,l){const c=i.getMeta(r);if(c)return c;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:h}=d;typeof h=="string"?h=h:h=Aw(ye.from(h),l.schema);const{from:g}=d,b=g+h.length;Wf({editor:e,from:g,to:b,text:h,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:a}},props:{handleTextInput(i,a,l,c){return Wf({editor:e,from:a,to:l,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:a}=i.state.selection;a&&Wf({editor:e,from:a.pos,to:a.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,a){if(a.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Wf({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function sj(t){return Object.prototype.toString.call(t).slice(8,-1)}function Jf(t){return sj(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function XA(t,e){const n={...t};return Jf(t)&&Jf(e)&&Object.keys(e).forEach(r=>{Jf(e[r])&&Jf(t[r])?n[r]=XA(t[r],e[r]):n[r]=e[r]}),n}var Ow=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...vt(je(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...vt(je(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>XA(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Eo=class QA extends Ow{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new QA(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(p=>p?.type.name===n.name))return!1;const d=l.find(p=>p?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function aj(t){return typeof t=="number"}var oj=class{constructor(t){this.find=t.find,this.handler=t.handler}},lj=(t,e,n)=>{if(Rw(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const a=[i.text];return a.index=i.index,a.input=t,a.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(i.replaceWith)),a}):[]};function uj(t){const{editor:e,state:n,from:r,to:i,rule:a,pasteEvent:l,dropEvent:c}=t,{commands:d,chain:p,can:h}=new xh({editor:e,state:n}),g=[];return n.doc.nodesBetween(r,i,(k,T)=>{if(!k.isTextblock||k.type.spec.code)return;const A=Math.max(r,T),D=Math.min(i,T+k.content.size),P=k.textBetween(A-T,D-T,void 0,"￼");lj(P,a.find,l).forEach($=>{if($.index===void 0)return;const ae=A+$.index+1,Y=ae+$[0].length,ue={from:n.tr.mapping.map(ae),to:n.tr.mapping.map(Y)},pe=a.handler({state:n,range:ue,match:$,commands:d,chain:p,can:h,pasteEvent:l,dropEvent:c});g.push(pe)})}),g.every(k=>k!==null)}var $f=null,cj=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function dj(t){const{editor:e,rules:n}=t;let r=null,i=!1,a=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:h,from:g,to:b,rule:k,pasteEvt:T})=>{const A=h.tr,D=Th({state:h,transaction:A});if(!(!uj({editor:e,state:D,from:Math.max(g-1,0),to:b.b-1,rule:k,pasteEvent:T,dropEvent:c})||!A.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,A}};return n.map(h=>new qt({view(g){const b=T=>{var A;r=(A=g.dom.parentElement)!=null&&A.contains(T.target)?g.dom.parentElement:null,r&&($f=e)},k=()=>{$f&&($f=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",k),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",k)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(a=r===g.dom.parentElement,c=b,!a){const k=$f;k?.isEditable&&setTimeout(()=>{const T=k.state.selection;T&&k.commands.deleteRange({from:T.from,to:T.to})},10)}return!1},paste:(g,b)=>{var k;const T=(k=b.clipboardData)==null?void 0:k.getData("text/html");return l=b,i=!!T?.includes("data-pm-slice"),!1}}},appendTransaction:(g,b,k)=>{const T=g[0],A=T.getMeta("uiEvent")==="paste"&&!i,D=T.getMeta("uiEvent")==="drop"&&!a,P=T.getMeta("applyPasteRules"),z=!!P;if(!A&&!D&&!z)return;if(z){let{text:Y}=P;typeof Y=="string"?Y=Y:Y=Aw(ye.from(Y),k.schema);const{from:ue}=P,pe=ue+Y.length,de=cj(Y);return d({rule:h,state:k,from:ue,to:{b:pe},pasteEvt:de})}const $=b.doc.content.findDiffStart(k.doc.content),ae=b.doc.content.findDiffEnd(k.doc.content);if(!(!aj($)||!ae||$===ae.b))return d({rule:h,state:k,from:$,to:ae,pasteEvt:l})}}))}var Rh=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=UA(t),this.schema=qI(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:og(e.name,this.schema)},r=je(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this,e=Mw([...this.extensions].reverse()),n=[],r=[],i=e.map(a=>{const l={name:a.name,options:a.options,storage:this.editor.extensionStorage[a.name],editor:t,type:og(a.name,this.schema)},c=[],d=je(a,"addKeyboardShortcuts",l);let p={};if(a.type==="mark"&&je(a,"exitable",l)&&(p.ArrowRight=()=>Eo.handleExit({editor:t,mark:a})),d){const T=Object.fromEntries(Object.entries(d()).map(([A,D])=>[A,()=>D({editor:t})]));p={...p,...T}}const h=gI(p);c.push(h);const g=je(a,"addInputRules",l);LT(a,t.options.enableInputRules)&&g&&n.push(...g());const b=je(a,"addPasteRules",l);LT(a,t.options.enablePasteRules)&&b&&r.push(...b());const k=je(a,"addProseMirrorPlugins",l);if(k){const T=k();c.push(...T)}return c}).flat();return[ij({editor:t,rules:n}),...dj({editor:t,rules:r}),...i]}get attributes(){return VA(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=rd(this.extensions);return Object.fromEntries(e.filter(n=>!!je(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:on(n.name,this.schema)},a=je(n,"addNodeView",i);if(!a)return[];const l=(c,d,p,h,g)=>{const b=Op(c,r);return a()({node:c,view:d,getPos:p,decorations:h,innerDecorations:g,editor:t,extension:n,HTMLAttributes:b})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=rd(this.extensions);return Object.fromEntries(e.filter(n=>!!je(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ms(n.name,this.schema)},a=je(n,"addMarkView",i);if(!a)return[];const l=(c,d,p)=>{const h=Op(c,r);return a()({mark:c,view:d,inline:p,editor:t,extension:n,HTMLAttributes:h,updateAttributes:g=>{Az(c,t,g)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:og(e.name,this.schema)};e.type==="mark"&&((n=vt(je(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=je(e,"onBeforeCreate",r),a=je(e,"onCreate",r),l=je(e,"onUpdate",r),c=je(e,"onSelectionUpdate",r),d=je(e,"onTransaction",r),p=je(e,"onFocus",r),h=je(e,"onBlur",r),g=je(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),a&&this.editor.on("create",a),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),p&&this.editor.on("focus",p),h&&this.editor.on("blur",h),g&&this.editor.on("destroy",g)})}};Rh.resolve=UA;Rh.sort=Mw;Rh.flatten=Cw;var fj={};BA(fj,{ClipboardTextSerializer:()=>eM,Commands:()=>rM,Delete:()=>iM,Drop:()=>sM,Editable:()=>aM,FocusEvents:()=>lM,Keymap:()=>uM,Paste:()=>cM,Tabindex:()=>dM,focusEventsPluginKey:()=>oM});var Qt=class ZA extends Ow{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new ZA(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},eM=Qt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new qt({key:new bn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:a}=i,l=Math.min(...a.map(h=>h.$from.pos)),c=Math.max(...a.map(h=>h.$to.pos)),d=FA(n);return HA(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),tM={};BA(tM,{blur:()=>pj,clearContent:()=>hj,clearNodes:()=>mj,command:()=>yj,createParagraphNear:()=>gj,cut:()=>vj,deleteCurrentNode:()=>wj,deleteNode:()=>bj,deleteRange:()=>Sj,deleteSelection:()=>kj,enter:()=>Tj,exitCode:()=>xj,extendMarkRange:()=>Ej,first:()=>Cj,focus:()=>Mj,forEach:()=>Rj,insertContent:()=>Dj,insertContentAt:()=>Oj,joinBackward:()=>_j,joinDown:()=>Lj,joinForward:()=>Bj,joinItemBackward:()=>Ij,joinItemForward:()=>jj,joinTextblockBackward:()=>zj,joinTextblockForward:()=>Vj,joinUp:()=>Nj,keyboardShortcut:()=>Hj,lift:()=>Fj,liftEmptyBlock:()=>Kj,liftListItem:()=>qj,newlineInCode:()=>Wj,resetAttributes:()=>Jj,scrollIntoView:()=>$j,selectAll:()=>Gj,selectNodeBackward:()=>Yj,selectNodeForward:()=>Xj,selectParentNode:()=>Qj,selectTextblockEnd:()=>Zj,selectTextblockStart:()=>ez,setContent:()=>tz,setMark:()=>rz,setMeta:()=>iz,setNode:()=>sz,setNodeSelection:()=>az,setTextSelection:()=>oz,sinkListItem:()=>lz,splitBlock:()=>uz,splitListItem:()=>cz,toggleList:()=>dz,toggleMark:()=>fz,toggleNode:()=>pz,toggleWrap:()=>hz,undoInputRule:()=>mz,unsetAllMarks:()=>yz,unsetMark:()=>gz,updateAttributes:()=>vz,wrapIn:()=>wz,wrapInList:()=>bz});var pj=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),hj=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),mj=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:a,$to:l})=>{t.doc.nodesBetween(a.pos,l.pos,(c,d)=>{if(c.type.isText)return;const{doc:p,mapping:h}=e,g=p.resolve(h.map(d)),b=p.resolve(h.map(d+c.nodeSize)),k=g.blockRange(b);if(!k)return;const T=Ql(k);if(c.type.isTextblock){const{defaultType:A}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(k.start,A)}(T||T===0)&&e.lift(k,T)})}),!0},yj=t=>e=>t(e),gj=()=>({state:t,dispatch:e})=>OA(t,e),vj=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,a=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,a.content),r.setSelection(new Ge(r.doc.resolve(Math.max(l-1,0)))),!0},wj=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===r.type){if(e){const c=i.before(a),d=i.after(a);t.delete(c,d).scrollIntoView()}return!0}return!1},bj=t=>({tr:e,state:n,dispatch:r})=>{const i=on(t,n.schema),a=e.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===i){if(r){const d=a.before(l),p=a.after(l);e.delete(d,p).scrollIntoView()}return!0}return!1},Sj=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},kj=()=>({state:t,dispatch:e})=>Sw(t,e),Tj=()=>({commands:t})=>t.keyboardShortcut("Enter"),xj=()=>({state:t,dispatch:e})=>TI(t,e),Ej=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const a=ms(t,r.schema),{doc:l,selection:c}=n,{$from:d,from:p,to:h}=c;if(i){const g=Dw(d,a,e);if(g&&g.from<=p&&g.to>=h){const b=Ge.create(l,g.from,g.to);n.setSelection(b)}}return!0},Cj=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Aj(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Nw(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Mj=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:a})=>{e={scrollIntoView:!0,...e};const l=()=>{(Nw()||Aj())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(a&&t===null&&!GA(n.state.selection))return l(),!0;const c=YA(i.doc,t)||n.state.selection,d=n.state.selection.eq(c);return a&&(d||i.setSelection(c),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},Rj=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),Dj=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),Pj=t=>!("type"in t),Oj=(t,e,n)=>({tr:r,dispatch:i,editor:a})=>{var l;if(i){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const{selection:d}=a.state,p=P=>{a.emit("contentError",{editor:a,error:P,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{nd(e,a.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(P){p(P)}try{c=nd(e,a.schema,{parseOptions:h,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:a.options.enableContentCheck})}catch(P){return p(P),!1}let{from:g,to:b}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},k=!0,T=!0;if((Pj(c)?c:[c]).forEach(P=>{P.check(),k=k?P.isText&&P.marks.length===0:!1,T=T?P.isBlock:!1}),g===b&&T){const{parent:P}=r.doc.resolve(g);P.isTextblock&&!P.type.spec.code&&!P.childCount&&(g-=1,b+=1)}let D;if(k){if(Array.isArray(e))D=e.map(P=>P.text||"").join("");else if(e instanceof ye){let P="";e.forEach(z=>{z.text&&(P+=z.text)}),D=P}else typeof e=="object"&&e&&e.text?D=e.text:D=e;r.insertText(D,g,b)}else{D=c;const P=d.$from.parentOffset===0,z=d.$from.node().isText||d.$from.node().isTextblock,$=d.$from.node().content.size>0;P&&z&&$&&(g=Math.max(0,g-1)),r.replaceWith(g,b,D)}n.updateSelection&&nj(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:g,text:D}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:g,text:D})}return!0},Nj=()=>({state:t,dispatch:e})=>bI(t,e),Lj=()=>({state:t,dispatch:e})=>SI(t,e),_j=()=>({state:t,dispatch:e})=>EA(t,e),Bj=()=>({state:t,dispatch:e})=>RA(t,e),Ij=()=>({state:t,dispatch:e,tr:n})=>{try{const r=gh(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},jj=()=>({state:t,dispatch:e,tr:n})=>{try{const r=gh(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},zj=()=>({state:t,dispatch:e})=>vI(t,e),Vj=()=>({state:t,dispatch:e})=>wI(t,e);function nM(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Uj(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,a,l;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))Nw()||nM()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}var Hj=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const a=Uj(t).split(/-(?!$)/),l=a.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",p=>p(n,c))});return d?.steps.forEach(p=>{const h=p.map(r.mapping);h&&i&&r.maybeStep(h)}),!0},Fj=(t,e={})=>({state:n,dispatch:r})=>{const i=on(t,n.schema);return ka(n,i,e)?kI(n,r):!1},Kj=()=>({state:t,dispatch:e})=>NA(t,e),qj=t=>({state:e,dispatch:n})=>{const r=on(t,e.schema);return LI(r)(e,n)},Wj=()=>({state:t,dispatch:e})=>PA(t,e);function BT(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var Jj=(t,e)=>({tr:n,state:r,dispatch:i})=>{let a=null,l=null;const c=Ch(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(a=on(t,r.schema)),c==="mark"&&(l=ms(t,r.schema)),i&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(p,h)=>{a&&a===p.type&&n.setNodeMarkup(h,void 0,BT(p.attrs,e)),l&&p.marks.length&&p.marks.forEach(g=>{l===g.type&&n.addMark(h,h+p.nodeSize,l.create(BT(g.attrs,e)))})})}),!0):!1},$j=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Gj=()=>({tr:t,dispatch:e})=>{if(e){const n=new mr(t.doc);t.setSelection(n)}return!0},Yj=()=>({state:t,dispatch:e})=>AA(t,e),Xj=()=>({state:t,dispatch:e})=>DA(t,e),Qj=()=>({state:t,dispatch:e})=>CI(t,e),Zj=()=>({state:t,dispatch:e})=>RI(t,e),ez=()=>({state:t,dispatch:e})=>MI(t,e),tz=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:a,dispatch:l,commands:c})=>{const{doc:d}=a;if(r.preserveWhitespace!=="full"){const p=uv(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&a.replaceWith(0,d.content.size,p).setMeta("preventUpdate",!n),!0}return l&&a.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:d.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function nz(t,e,n){var r;const{selection:i}=e;let a=null;if(GA(i)&&(a=i.$cursor),a){const c=(r=t.storedMarks)!=null?r:a.marks();return!!n.isInSet(c)||!c.some(d=>d.type.excludes(n))}const{ranges:l}=i;return l.some(({$from:c,$to:d})=>{let p=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,d.pos,(h,g,b)=>{if(p)return!1;if(h.isInline){const k=!b||b.type.allowsMarkType(n),T=!!n.isInSet(h.marks)||!h.marks.some(A=>A.type.excludes(n));p=k&&T}return!p}),p})}var rz=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:a}=n,{empty:l,ranges:c}=a,d=ms(t,r.schema);if(i)if(l){const p=KA(r,d);n.addStoredMark(d.create({...p,...e}))}else c.forEach(p=>{const h=p.$from.pos,g=p.$to.pos;r.doc.nodesBetween(h,g,(b,k)=>{const T=Math.max(k,h),A=Math.min(k+b.nodeSize,g);b.marks.find(P=>P.type===d)?b.marks.forEach(P=>{d===P.type&&n.addMark(T,A,d.create({...P.attrs,...e}))}):n.addMark(T,A,d.create(e))})});return nz(r,n,d)},iz=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),sz=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const a=on(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a.isTextblock?i().command(({commands:c})=>DT(a,{...l,...e})(n)?!0:c.clearNodes()).command(({state:c})=>DT(a,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},az=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=oo(t,0,r.content.size),a=ze.create(r,i);e.setSelection(a)}return!0},oz=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:a}=typeof t=="number"?{from:t,to:t}:t,l=Ge.atStart(r).from,c=Ge.atEnd(r).to,d=oo(i,l,c),p=oo(a,l,c),h=Ge.create(r,d,p);e.setSelection(h)}return!0},lz=t=>({state:e,dispatch:n})=>{const r=on(t,e.schema);return II(r)(e,n)};function IT(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var uz=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:a,doc:l}=e,{$from:c,$to:d}=a,p=i.extensionManager.attributes,h=lp(p,c.node().type.name,c.node().attrs);if(a instanceof ze&&a.node.isBlock)return!c.parentOffset||!cs(l,c.pos)?!1:(r&&(t&&IT(n,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,b=c.depth===0?void 0:VI(c.node(-1).contentMatchAt(c.indexAfter(-1)));let k=g&&b?[{type:b,attrs:h}]:void 0,T=cs(e.doc,e.mapping.map(c.pos),1,k);if(!k&&!T&&cs(e.doc,e.mapping.map(c.pos),1,b?[{type:b}]:void 0)&&(T=!0,k=b?[{type:b,attrs:h}]:void 0),r){if(T&&(a instanceof Ge&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,k),b&&!g&&!c.parentOffset&&c.parent.type!==b)){const A=e.mapping.map(c.before()),D=e.doc.resolve(A);c.node(-1).canReplaceWith(D.index(),D.index()+1,b)&&e.setNodeMarkup(e.mapping.map(c.before()),b)}t&&IT(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return T},cz=(t,e={})=>({tr:n,state:r,dispatch:i,editor:a})=>{var l;const c=on(t,r.schema),{$from:d,$to:p}=r.selection,h=r.selection.node;if(h&&h.isBlock||d.depth<2||!d.sameParent(p))return!1;const g=d.node(-1);if(g.type!==c)return!1;const b=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let P=ye.empty;const z=d.index(-1)?1:d.index(-2)?2:3;for(let de=d.depth-z;de>=d.depth-3;de-=1)P=ye.from(d.node(de).copy(P));const $=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,ae={...lp(b,d.node().type.name,d.node().attrs),...e},Y=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(ae))||void 0;P=P.append(ye.from(c.createAndFill(null,Y)||void 0));const ue=d.before(d.depth-(z-1));n.replace(ue,d.after(-$),new Re(P,4-z,0));let pe=-1;n.doc.nodesBetween(ue,n.doc.content.size,(de,Ae)=>{if(pe>-1)return!1;de.isTextblock&&de.content.size===0&&(pe=Ae+1)}),pe>-1&&n.setSelection(Ge.near(n.doc.resolve(pe))),n.scrollIntoView()}return!0}const k=p.pos===d.end()?g.contentMatchAt(0).defaultType:null,T={...lp(b,g.type.name,g.attrs),...e},A={...lp(b,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,p.pos);const D=k?[{type:c,attrs:T},{type:k,attrs:A}]:[{type:c,attrs:T}];if(!cs(n.doc,d.pos,2))return!1;if(i){const{selection:P,storedMarks:z}=r,{splittableMarks:$}=a.extensionManager,ae=z||P.$to.parentOffset&&P.$from.marks();if(n.split(d.pos,2,D).scrollIntoView(),!ae||!i)return!0;const Y=ae.filter(ue=>$.includes(ue.type.name));n.ensureMarks(Y)}return!0},lg=(t,e)=>{const n=Eh(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Ea(t.doc,n.pos)&&t.join(n.pos),!0},ug=(t,e)=>{const n=Eh(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Ea(t.doc,r)&&t.join(r),!0},dz=(t,e,n,r={})=>({editor:i,tr:a,state:l,dispatch:c,chain:d,commands:p,can:h})=>{const{extensions:g,splittableMarks:b}=i.extensionManager,k=on(t,l.schema),T=on(e,l.schema),{selection:A,storedMarks:D}=l,{$from:P,$to:z}=A,$=P.blockRange(z),ae=D||A.$to.parentOffset&&A.$from.marks();if(!$)return!1;const Y=Eh(ue=>_T(ue.type.name,g))(A);if($.depth>=1&&Y&&$.depth-Y.depth<=1){if(Y.node.type===k)return p.liftListItem(T);if(_T(Y.node.type.name,g)&&k.validContent(Y.node.content)&&c)return d().command(()=>(a.setNodeMarkup(Y.pos,k),!0)).command(()=>lg(a,k)).command(()=>ug(a,k)).run()}return!n||!ae||!c?d().command(()=>h().wrapInList(k,r)?!0:p.clearNodes()).wrapInList(k,r).command(()=>lg(a,k)).command(()=>ug(a,k)).run():d().command(()=>{const ue=h().wrapInList(k,r),pe=ae.filter(de=>b.includes(de.type.name));return a.ensureMarks(pe),ue?!0:p.clearNodes()}).wrapInList(k,r).command(()=>lg(a,k)).command(()=>ug(a,k)).run()},fz=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:a=!1}=n,l=ms(t,r.schema);return cv(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:a}):i.setMark(l,e)},pz=(t,e,n={})=>({state:r,commands:i})=>{const a=on(t,r.schema),l=on(e,r.schema),c=ka(r,a,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?i.setNode(l,d):i.setNode(a,{...d,...n})},hz=(t,e={})=>({state:n,commands:r})=>{const i=on(t,n.schema);return ka(n,i,e)?r.lift(i):r.wrapIn(i,e)},mz=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let a;if(i.spec.isInputRules&&(a=i.getState(t))){if(e){const l=t.tr,c=a.transform;for(let d=c.steps.length-1;d>=0;d-=1)l.step(c.steps[d].invert(c.docs[d]));if(a.text){const d=l.doc.resolve(a.from).marks();l.replaceWith(a.from,a.to,t.schema.text(a.text,d))}else l.delete(a.from,a.to)}return!0}}return!1},yz=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},gz=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var a;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=n,d=ms(t,r.schema),{$from:p,empty:h,ranges:g}=c;if(!i)return!0;if(h&&l){let{from:b,to:k}=c;const T=(a=p.marks().find(D=>D.type===d))==null?void 0:a.attrs,A=Dw(p,d,T);A&&(b=A.from,k=A.to),n.removeMark(b,k,d)}else g.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,d)});return n.removeStoredMark(d),!0},vz=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let a=null,l=null;const c=Ch(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(a=on(t,r.schema)),c==="mark"&&(l=ms(t,r.schema)),i&&n.selection.ranges.forEach(d=>{const p=d.$from.pos,h=d.$to.pos;let g,b,k,T;n.selection.empty?r.doc.nodesBetween(p,h,(A,D)=>{a&&a===A.type&&(k=Math.max(D,p),T=Math.min(D+A.nodeSize,h),g=D,b=A)}):r.doc.nodesBetween(p,h,(A,D)=>{D<p&&a&&a===A.type&&(k=Math.max(D,p),T=Math.min(D+A.nodeSize,h),g=D,b=A),D>=p&&D<=h&&(a&&a===A.type&&n.setNodeMarkup(D,void 0,{...A.attrs,...e}),l&&A.marks.length&&A.marks.forEach(P=>{if(l===P.type){const z=Math.max(D,p),$=Math.min(D+A.nodeSize,h);n.addMark(z,$,l.create({...P.attrs,...e}))}}))}),b&&(g!==void 0&&n.setNodeMarkup(g,void 0,{...b.attrs,...e}),l&&b.marks.length&&b.marks.forEach(A=>{l===A.type&&n.addMark(k,T,l.create({...A.attrs,...e}))}))}),!0):!1},wz=(t,e={})=>({state:n,dispatch:r})=>{const i=on(t,n.schema);return DI(i,e)(n,r)},bz=(t,e={})=>({state:n,dispatch:r})=>{const i=on(t,n.schema);return PI(i,e)(n,r)},rM=Qt.create({name:"commands",addCommands(){return{...tM}}}),iM=Qt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const a=()=>{var l,c,d,p;if((p=(d=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,t))!=null?p:t.getMeta("y-sync$"))return;const h=IA(t.before,[t,...e]);WA(h).forEach(k=>{h.mapping.mapResult(k.oldRange.from).deletedAfter&&h.mapping.mapResult(k.oldRange.to).deletedBefore&&h.before.nodesBetween(k.oldRange.from,k.oldRange.to,(T,A)=>{const D=A+T.nodeSize-2,P=k.oldRange.from<=A&&D<=k.oldRange.to;this.editor.emit("delete",{type:"node",node:T,from:A,to:D,newFrom:h.mapping.map(A),newTo:h.mapping.map(D),deletedRange:k.oldRange,newRange:k.newRange,partial:!P,editor:this.editor,transaction:t,combinedTransform:h})})});const b=h.mapping;h.steps.forEach((k,T)=>{var A,D;if(k instanceof Jr){const P=b.slice(T).map(k.from,-1),z=b.slice(T).map(k.to),$=b.invert().map(P,-1),ae=b.invert().map(z),Y=(A=h.doc.nodeAt(P-1))==null?void 0:A.marks.some(pe=>pe.eq(k.mark)),ue=(D=h.doc.nodeAt(z))==null?void 0:D.marks.some(pe=>pe.eq(k.mark));this.editor.emit("delete",{type:"mark",mark:k.mark,from:k.from,to:k.to,deletedRange:{from:$,to:ae},newRange:{from:P,to:z},partial:!!(ue||Y),editor:this.editor,transaction:t,combinedTransform:h})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(a,0):a()}}),sM=Qt.create({name:"drop",addProseMirrorPlugins(){return[new qt({key:new bn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),aM=Qt.create({name:"editable",addProseMirrorPlugins(){return[new qt({key:new bn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),oM=new bn("focusEvents"),lM=Qt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new qt({key:oM,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),uM=Qt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:d,doc:p}=c,{empty:h,$anchor:g}=d,{pos:b,parent:k}=g,T=g.parent.isTextblock&&b>0?c.doc.resolve(b-1):g,A=T.parent.type.spec.isolating,D=g.pos-g.parentOffset,P=A&&T.parent.childCount===1?D===g.pos:Qe.atStart(p).from===b;return!h||!k.type.isTextblock||k.textContent.length||!P||P&&g.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},a={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Nw()||nM()?a:i},addProseMirrorPlugins(){return[new qt({key:new bn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(A=>A.getMeta("composition")))return;const r=t.some(A=>A.docChanged)&&!e.doc.eq(n.doc),i=t.some(A=>A.getMeta("preventClearDocument"));if(!r||i)return;const{empty:a,from:l,to:c}=e.selection,d=Qe.atStart(e.doc).from,p=Qe.atEnd(e.doc).to;if(a||!(l===d&&c===p)||!Ah(n.doc))return;const b=n.tr,k=Th({state:n,transaction:b}),{commands:T}=new xh({editor:this.editor,state:k});if(T.clearNodes(),!!b.steps.length)return b}})]}}),cM=Qt.create({name:"paste",addProseMirrorPlugins(){return[new qt({key:new bn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),dM=Qt.create({name:"tabindex",addProseMirrorPlugins(){return[new qt({key:new bn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Sz=class Al{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Al(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Al(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Al(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,l=this.pos+r+(a?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!i&&c.depth<=this.depth)return;const d=new Al(c,this.editor,i,i?n:null);i&&(d.actualDepth=this.depth+1),e.push(new Al(c,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const a=i.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const d=l[c];if(a[d]!==n[d])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const a=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&a.every(d=>n[d]===l.node.attrs[d])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},kz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Tz(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var xz=class extends zI{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:a})=>this.options.onDrop(r,i,a)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=YA(e,this.options.autofocus);this.editorState=Ll.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){var t;if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}this.editorView=null,this.isInitialized=!1,(t=this.css)==null||t.remove(),this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Tz(kz,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.editorState=this.state.apply(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=zA(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const a=typeof i=="string"?`${i}$`:i.key;n=n.filter(l=>!l.key.startsWith(a))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[aM,eM.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),rM,lM,uM,dM,sM,cM,iM].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Rh(r,this)}createCommandManager(){this.commandManager=new xh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=uv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=uv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new kA(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(p=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(p)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),c=l?.getMeta("focus"),d=l?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:l}),d&&this.emit("blur",{editor:this,event:d.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(p=>p.docChanged)||a.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return qA(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return ZI(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Aw(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return JI(this.state.doc,{blockSeparator:e,textSerializers:{...FA(this.schema),...n}})}get isEmpty(){return Ah(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Sz(e,this)}get $doc(){return this.$pos(0)}};function Fl(t){return new Mh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=vt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:a}=e,l=r[r.length-1],c=r[0];if(l){const d=c.search(/\S/),p=n.from+c.indexOf(l),h=p+l.length;if(Pw(n.from,n.to,e.doc).filter(k=>k.mark.type.excluded.find(A=>A===t.type&&A!==k.mark.type)).filter(k=>k.to>p).length)return null;h<n.to&&a.delete(h,n.to),p>n.from&&a.delete(n.from+d,p);const b=n.from+d+l.length;a.addMark(n.from+d,b,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}function Ez(t){return new Mh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=vt(t.getAttributes,void 0,r)||{},{tr:a}=e,l=n.from;let c=n.to;const d=t.type.create(i);if(r[1]){const p=r[0].lastIndexOf(r[1]);let h=l+p;h>c?h=c:c=h+r[1].length;const g=r[0][r[0].length-1];a.insertText(g,l+r[0].length-1),a.replaceWith(h,c,d)}else if(r[0]){const p=t.type.isInline?l:l-1;a.insert(p,t.type.create(i)).delete(a.mapping.map(l),a.mapping.map(c))}a.scrollIntoView()}})}function dv(t){return new Mh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),a=vt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,a)}})}function Kl(t){return new Mh({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const a=vt(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),d=l.doc.resolve(n.from).blockRange(),p=d&&cw(d,t.type,a);if(!p)return null;if(l.wrap(d,p),t.keepMarks&&t.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:k}=t.editor.extensionManager,T=b||g.$to.parentOffset&&g.$from.marks();if(T){const A=T.filter(D=>k.includes(D.type.name));l.ensureMarks(A)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(g,a).run()}const h=l.doc.resolve(n.from-1).nodeBefore;h&&h.type===t.type&&Ea(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,h))&&l.join(n.from-1)}})}function Cz(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof ze){const a=r.index();return r.parent.canReplaceWith(a,a+1,e)}let i=r.depth;for(;i>=0;){const a=r.index(i);if(r.node(i).contentMatchAt(a).matchType(e))return!0;i-=1}return!1}function Az(t,e,n={}){const{state:r}=e,{doc:i,tr:a}=r,l=t;i.descendants((c,d)=>{const p=a.mapping.map(d),h=a.mapping.map(d)+c.nodeSize;let g=null;if(c.marks.forEach(k=>{if(k!==l)return!1;g=k}),!g)return;let b=!1;if(Object.keys(n).forEach(k=>{n[k]!==g.attrs[k]&&(b=!0)}),b){const k=t.type.create({...t.attrs,...n});a.removeMark(p,h,t.type),a.addMark(p,h,k)}}),a.docChanged&&e.view.dispatch(a)}var yr=class fM extends Ow{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new fM(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ko(t){return new oj({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const a=vt(t.getAttributes,void 0,r,i);if(a===!1||a===null)return null;const{tr:l}=e,c=r[r.length-1],d=r[0];let p=n.to;if(c){const h=d.search(/\S/),g=n.from+d.indexOf(c),b=g+c.length;if(Pw(n.from,n.to,e.doc).filter(T=>T.mark.type.excluded.find(D=>D===t.type&&D!==T.mark.type)).filter(T=>T.to>g).length)return null;b<n.to&&l.delete(b,n.to),g>n.from&&l.delete(n.from+h,g),p=n.from+h+c.length,l.addMark(n.from+h,p,t.type.create(a||{})),l.removeStoredMark(t.type)}}})}var cg,jT;function Mz(){return jT||(jT=1,cg=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var l=a[i];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),cg}var Rz=Mz();const Dz=ad(Rz);var dg={exports:{}},fg={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function Pz(){if(zT)return fg;zT=1;var t=od(),e=oC();function n(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return fg.useSyncExternalStoreWithSelector=function(p,h,g,b,k){var T=a(null);if(T.current===null){var A={hasValue:!1,value:null};T.current=A}else A=T.current;T=c(function(){function P(ue){if(!z){if(z=!0,$=ue,ue=b(ue),k!==void 0&&A.hasValue){var pe=A.value;if(k(pe,ue))return ae=pe}return ae=ue}if(pe=ae,r($,ue))return pe;var de=b(ue);return k!==void 0&&k(pe,de)?($=ue,pe):($=ue,ae=de)}var z=!1,$,ae,Y=g===void 0?null:g;return[function(){return P(h())},Y===null?void 0:function(){return P(Y())}]},[h,g,b,k]);var D=i(p,T[0],T[1]);return l(function(){A.hasValue=!0,A.value=D},[D]),d(D),D},fg}var VT;function Oz(){return VT||(VT=1,dg.exports=Pz()),dg.exports}var Nz=Oz(),Lz=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},_z=({contentComponent:t})=>{const e=lC.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return ne.jsx(ne.Fragment,{children:Object.values(e)})};function Bz(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:B2.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var Iz=class extends va.Component{constructor(t){var e;super(t),this.editorContentRef=va.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=Bz(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((t=e.options.element)!=null&&t.firstChild)))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:t,innerRef:e,...n}=this.props;return ne.jsxs(ne.Fragment,{children:[ne.jsx("div",{ref:Lz(e,this.editorContentRef),...n}),t?.contentComponent&&ne.jsx(_z,{contentComponent:t.contentComponent})]})}},jz=I.forwardRef((t,e)=>{const n=va.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return va.createElement(Iz,{key:n,innerRef:e,...t})}),zz=va.memo(jz),Vz=typeof window<"u"?I.useLayoutEffect:I.useEffect,Uz=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function Hz(t){var e;const[n]=I.useState(()=>new Uz(t.editor)),r=Nz.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Dz);return Vz(()=>n.watch(t.editor),[t.editor,n]),I.useDebugValue(r),r}var Fz=!1,fv=typeof window>"u",Kz=fv||!!(typeof window<"u"&&window.next),qz=class pM{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?fv||Kz?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,a;return(a=(i=this.options.current).onBeforeCreate)==null?void 0:a.call(i,...r)},onBlur:(...r)=>{var i,a;return(a=(i=this.options.current).onBlur)==null?void 0:a.call(i,...r)},onCreate:(...r)=>{var i,a;return(a=(i=this.options.current).onCreate)==null?void 0:a.call(i,...r)},onDestroy:(...r)=>{var i,a;return(a=(i=this.options.current).onDestroy)==null?void 0:a.call(i,...r)},onFocus:(...r)=>{var i,a;return(a=(i=this.options.current).onFocus)==null?void 0:a.call(i,...r)},onSelectionUpdate:(...r)=>{var i,a;return(a=(i=this.options.current).onSelectionUpdate)==null?void 0:a.call(i,...r)},onTransaction:(...r)=>{var i,a;return(a=(i=this.options.current).onTransaction)==null?void 0:a.call(i,...r)},onUpdate:(...r)=>{var i,a;return(a=(i=this.options.current).onUpdate)==null?void 0:a.call(i,...r)},onContentError:(...r)=>{var i,a;return(a=(i=this.options.current).onContentError)==null?void 0:a.call(i,...r)},onDrop:(...r)=>{var i,a;return(a=(i=this.options.current).onDrop)==null?void 0:a.call(i,...r)},onPaste:(...r)=>{var i,a;return(a=(i=this.options.current).onPaste)==null?void 0:a.call(i,...r)},onDelete:(...r)=>{var i,a;return(a=(i=this.options.current).onDelete)==null?void 0:a.call(i,...r)}};return new xz(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,a)=>{var l;return i===((l=n.extensions)==null?void 0:l[a])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?pM.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Wz(t={},e=[]){const n=I.useRef(t);n.current=t;const[r]=I.useState(()=>new qz(n)),i=lC.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return I.useDebugValue(i),I.useEffect(r.onRender(e)),Hz({editor:i,selector:({transactionNumber:a})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&a===0?0:a+1}),i}var Jz=I.createContext({editor:null});Jz.Consumer;var $z=I.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Gz=()=>I.useContext($z);va.forwardRef((t,e)=>{const{onDragStart:n}=Gz(),r=t.as||"div";return ne.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});va.createContext({markViewContentRef:()=>{}});var Lp=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},Yz=/^\s*>\s$/,Xz=yr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Lp("blockquote",{...an(this.options.HTMLAttributes,t),children:Lp("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Kl({find:Yz,type:this.type})]}}),Qz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Zz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,e4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,t4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,n4=Eo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Lp("strong",{...an(this.options.HTMLAttributes,t),children:Lp("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Fl({find:Qz,type:this.type}),Fl({find:e4,type:this.type})]},addPasteRules(){return[ko({find:Zz,type:this.type}),ko({find:t4,type:this.type})]}}),r4=/(^|[^`])`([^`]+)`(?!`)/,i4=/(^|[^`])`([^`]+)`(?!`)/g,s4=Eo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Fl({find:r4,type:this.type})]},addPasteRules(){return[ko({find:i4,type:this.type})]}}),a4=/^```([a-z]+)?[\s\n]$/,o4=/^~~~([a-z]+)?[\s\n]$/,l4=yr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,a=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",an(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!a||!l?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:a}=n;if(!a||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:p})=>(p.setSelection(Qe.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[dv({find:a4,type:this.type,getAttributes:t=>({language:t[1]})}),dv({find:o4,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new qt({key:new bn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,a=i?.mode;if(!n||!a)return!1;const{tr:l,schema:c}=t.state,d=c.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:a},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(Ge.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),u4=yr.create({name:"doc",topNode:!0,content:"block+"}),c4=yr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",an(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:a}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,d=a||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:h})=>{if(h&&d&&l){const g=d.filter(b=>c.includes(b.type.name));p.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),d4=yr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,an(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>dv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),f4=yr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",an(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Cz(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return $A(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:a,dispatch:l})=>{var c;if(l){const{$to:d}=a.selection,p=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?a.setSelection(Ge.create(a.doc,d.pos+1)):d.nodeAfter.isBlock?a.setSelection(ze.create(a.doc,d.pos)):a.setSelection(Ge.create(a.doc,d.pos));else{const h=(c=d.parent.type.contentMatch.defaultType)==null?void 0:c.create();h&&(a.insert(p,h),a.setSelection(Ge.create(a.doc,p+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Ez({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),p4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,h4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,m4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,y4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,g4=Eo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Fl({find:p4,type:this.type}),Fl({find:m4,type:this.type})]},addPasteRules(){return[ko({find:h4,type:this.type}),ko({find:y4,type:this.type})]}});const v4="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",w4="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",ql=(t,e)=>{for(const n in e)t[n]=e[n];return t},pv="numeric",hv="ascii",mv="alpha",Nc="asciinumeric",kc="alphanumeric",yv="domain",hM="emoji",b4="scheme",S4="slashscheme",pg="whitespace";function k4(t,e){return t in e||(e[t]=[]),e[t]}function lo(t,e,n){e[pv]&&(e[Nc]=!0,e[kc]=!0),e[hv]&&(e[Nc]=!0,e[mv]=!0),e[Nc]&&(e[kc]=!0),e[mv]&&(e[kc]=!0),e[kc]&&(e[yv]=!0),e[hM]&&(e[yv]=!0);for(const r in e){const i=k4(r,n);i.indexOf(t)<0&&i.push(t)}}function T4(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function tr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}tr.groups={};tr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],a=e.jr[r][1];if(a&&i.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||tr.groups;let i;return e&&e.j?i=e:(i=new tr(e),n&&r&&lo(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const a=t.length;if(!a)return i;for(let l=0;l<a-1;l++)i=i.tt(t[l]);return i.tt(t[a-1],e,n,r)},tt(t,e,n,r){r=r||tr.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const a=e;let l,c=i.go(t);if(c?(l=new tr,ql(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new tr,a){if(r)if(l.t&&typeof l.t=="string"){const d=ql(T4(l.t,r),n);lo(a,d,r)}else n&&lo(a,n,r);l.t=a}return i.j[t]=l,l}};const Ze=(t,e,n,r,i)=>t.ta(e,n,r,i),Ht=(t,e,n,r,i)=>t.tr(e,n,r,i),UT=(t,e,n,r,i)=>t.ts(e,n,r,i),be=(t,e,n,r,i)=>t.tt(e,n,r,i),ss="WORD",gv="UWORD",mM="ASCIINUMERICAL",yM="ALPHANUMERICAL",id="LOCALHOST",vv="TLD",wv="UTLD",up="SCHEME",Ml="SLASH_SCHEME",Lw="NUM",bv="WS",_w="NL",Lc="OPENBRACE",_c="CLOSEBRACE",_p="OPENBRACKET",Bp="CLOSEBRACKET",Ip="OPENPAREN",jp="CLOSEPAREN",zp="OPENANGLEBRACKET",Vp="CLOSEANGLEBRACKET",Up="FULLWIDTHLEFTPAREN",Hp="FULLWIDTHRIGHTPAREN",Fp="LEFTCORNERBRACKET",Kp="RIGHTCORNERBRACKET",qp="LEFTWHITECORNERBRACKET",Wp="RIGHTWHITECORNERBRACKET",Jp="FULLWIDTHLESSTHAN",$p="FULLWIDTHGREATERTHAN",Gp="AMPERSAND",Yp="APOSTROPHE",Xp="ASTERISK",oa="AT",Qp="BACKSLASH",Zp="BACKTICK",eh="CARET",ca="COLON",Bw="COMMA",th="DOLLAR",fi="DOT",nh="EQUALS",Iw="EXCLAMATION",Lr="HYPHEN",Bc="PERCENT",rh="PIPE",ih="PLUS",sh="POUND",Ic="QUERY",jw="QUOTE",gM="FULLWIDTHMIDDLEDOT",zw="SEMI",pi="SLASH",jc="TILDE",ah="UNDERSCORE",vM="EMOJI",oh="SYM";var wM=Object.freeze({__proto__:null,ALPHANUMERICAL:yM,AMPERSAND:Gp,APOSTROPHE:Yp,ASCIINUMERICAL:mM,ASTERISK:Xp,AT:oa,BACKSLASH:Qp,BACKTICK:Zp,CARET:eh,CLOSEANGLEBRACKET:Vp,CLOSEBRACE:_c,CLOSEBRACKET:Bp,CLOSEPAREN:jp,COLON:ca,COMMA:Bw,DOLLAR:th,DOT:fi,EMOJI:vM,EQUALS:nh,EXCLAMATION:Iw,FULLWIDTHGREATERTHAN:$p,FULLWIDTHLEFTPAREN:Up,FULLWIDTHLESSTHAN:Jp,FULLWIDTHMIDDLEDOT:gM,FULLWIDTHRIGHTPAREN:Hp,HYPHEN:Lr,LEFTCORNERBRACKET:Fp,LEFTWHITECORNERBRACKET:qp,LOCALHOST:id,NL:_w,NUM:Lw,OPENANGLEBRACKET:zp,OPENBRACE:Lc,OPENBRACKET:_p,OPENPAREN:Ip,PERCENT:Bc,PIPE:rh,PLUS:ih,POUND:sh,QUERY:Ic,QUOTE:jw,RIGHTCORNERBRACKET:Kp,RIGHTWHITECORNERBRACKET:Wp,SCHEME:up,SEMI:zw,SLASH:pi,SLASH_SCHEME:Ml,SYM:oh,TILDE:jc,TLD:vv,UNDERSCORE:ah,UTLD:wv,UWORD:gv,WORD:ss,WS:bv});const rs=/[a-z]/,gc=new RegExp("\\p{L}","u"),hg=new RegExp("\\p{Emoji}","u"),is=/\d/,mg=/\s/,HT="\r",yg=`
`,x4="️",E4="‍",gg="￼";let Gf=null,Yf=null;function C4(t=[]){const e={};tr.groups=e;const n=new tr;Gf==null&&(Gf=FT(v4)),Yf==null&&(Yf=FT(w4)),be(n,"'",Yp),be(n,"{",Lc),be(n,"}",_c),be(n,"[",_p),be(n,"]",Bp),be(n,"(",Ip),be(n,")",jp),be(n,"<",zp),be(n,">",Vp),be(n,"（",Up),be(n,"）",Hp),be(n,"「",Fp),be(n,"」",Kp),be(n,"『",qp),be(n,"』",Wp),be(n,"＜",Jp),be(n,"＞",$p),be(n,"&",Gp),be(n,"*",Xp),be(n,"@",oa),be(n,"`",Zp),be(n,"^",eh),be(n,":",ca),be(n,",",Bw),be(n,"$",th),be(n,".",fi),be(n,"=",nh),be(n,"!",Iw),be(n,"-",Lr),be(n,"%",Bc),be(n,"|",rh),be(n,"+",ih),be(n,"#",sh),be(n,"?",Ic),be(n,'"',jw),be(n,"/",pi),be(n,";",zw),be(n,"~",jc),be(n,"_",ah),be(n,"\\",Qp),be(n,"・",gM);const r=Ht(n,is,Lw,{[pv]:!0});Ht(r,is,r);const i=Ht(r,rs,mM,{[Nc]:!0}),a=Ht(r,gc,yM,{[kc]:!0}),l=Ht(n,rs,ss,{[hv]:!0});Ht(l,is,i),Ht(l,rs,l),Ht(i,is,i),Ht(i,rs,i);const c=Ht(n,gc,gv,{[mv]:!0});Ht(c,rs),Ht(c,is,a),Ht(c,gc,c),Ht(a,is,a),Ht(a,rs),Ht(a,gc,a);const d=be(n,yg,_w,{[pg]:!0}),p=be(n,HT,bv,{[pg]:!0}),h=Ht(n,mg,bv,{[pg]:!0});be(n,gg,h),be(p,yg,d),be(p,gg,h),Ht(p,mg,h),be(h,HT),be(h,yg),Ht(h,mg,h),be(h,gg,h);const g=Ht(n,hg,vM,{[hM]:!0});be(g,"#"),Ht(g,hg,g),be(g,x4,g);const b=be(g,E4);be(b,"#"),Ht(b,hg,g);const k=[[rs,l],[is,i]],T=[[rs,null],[gc,c],[is,a]];for(let A=0;A<Gf.length;A++)ra(n,Gf[A],vv,ss,k);for(let A=0;A<Yf.length;A++)ra(n,Yf[A],wv,gv,T);lo(vv,{tld:!0,ascii:!0},e),lo(wv,{utld:!0,alpha:!0},e),ra(n,"file",up,ss,k),ra(n,"mailto",up,ss,k),ra(n,"http",Ml,ss,k),ra(n,"https",Ml,ss,k),ra(n,"ftp",Ml,ss,k),ra(n,"ftps",Ml,ss,k),lo(up,{scheme:!0,ascii:!0},e),lo(Ml,{slashscheme:!0,ascii:!0},e),t=t.sort((A,D)=>A[0]>D[0]?1:-1);for(let A=0;A<t.length;A++){const D=t[A][0],z=t[A][1]?{[b4]:!0}:{[S4]:!0};D.indexOf("-")>=0?z[yv]=!0:rs.test(D)?is.test(D)?z[Nc]=!0:z[hv]=!0:z[pv]=!0,UT(n,D,D,z)}return UT(n,"localhost",id,{ascii:!0}),n.jd=new tr(oh),{start:n,tokens:ql({groups:e},wM)}}function bM(t,e){const n=A4(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,i=[];let a=0,l=0;for(;l<r;){let c=t,d=null,p=0,h=null,g=-1,b=-1;for(;l<r&&(d=c.go(n[l]));)c=d,c.accepts()?(g=0,b=0,h=c):g>=0&&(g+=n[l].length,b++),p+=n[l].length,a+=n[l].length,l++;a-=g,l-=b,p-=g,i.push({t:h.t,v:e.slice(a-p,a),s:a-p,e:a})}return i}function A4(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),a,l=i<55296||i>56319||r+1===n||(a=t.charCodeAt(r+1))<56320||a>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function ra(t,e,n,r,i){let a;const l=e.length;for(let c=0;c<l-1;c++){const d=e[c];t.j[d]?a=t.j[d]:(a=new tr(r),a.jr=i.slice(),t.j[d]=a),t=a}return a=new tr(n),a.jr=i.slice(),t.j[e[l-1]]=a,a}function FT(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let a=0;for(;i.indexOf(t[r+a])>=0;)a++;if(a>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+a),10);l>0;l--)n.pop();r+=a}else n.push(t[r]),r++}return e}const sd={defaultProtocol:"http",events:null,format:KT,formatHref:KT,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Vw(t,e=null){let n=ql({},sd);t&&(n=ql(n,t instanceof Vw?t.o:t));const r=n.ignoreTags,i=[];for(let a=0;a<r.length;a++)i.push(r[a].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}Vw.prototype={o:sd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:sd[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function KT(t){return t}function SM(t,e){this.t="token",this.v=t,this.tk=e}SM.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=sd.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),a=this.toFormattedString(t),l={},c=t.get("className",n,e),d=t.get("target",n,e),p=t.get("rel",n,e),h=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return l.href=r,c&&(l.class=c),d&&(l.target=d),p&&(l.rel=p),h&&ql(l,h),{tagName:i,attributes:l,content:a,eventListeners:g}}};function Dh(t,e){class n extends SM{constructor(i,a){super(i,a),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const qT=Dh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),WT=Dh("text"),M4=Dh("nl"),Xf=Dh("url",{isLink:!0,toHref(t=sd.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==id&&t[1].t===ca}}),Or=t=>new tr(t);function R4({groups:t}){const e=t.domain.concat([Gp,Xp,oa,Qp,Zp,eh,th,nh,Lr,Lw,Bc,rh,ih,sh,pi,oh,jc,ah]),n=[Yp,ca,Bw,fi,Iw,Bc,Ic,jw,zw,zp,Vp,Lc,_c,Bp,_p,Ip,jp,Up,Hp,Fp,Kp,qp,Wp,Jp,$p],r=[Gp,Yp,Xp,Qp,Zp,eh,th,nh,Lr,Lc,_c,Bc,rh,ih,sh,Ic,pi,oh,jc,ah],i=Or(),a=be(i,jc);Ze(a,r,a),Ze(a,t.domain,a);const l=Or(),c=Or(),d=Or();Ze(i,t.domain,l),Ze(i,t.scheme,c),Ze(i,t.slashscheme,d),Ze(l,r,a),Ze(l,t.domain,l);const p=be(l,oa);be(a,oa,p),be(c,oa,p),be(d,oa,p);const h=be(a,fi);Ze(h,r,a),Ze(h,t.domain,a);const g=Or();Ze(p,t.domain,g),Ze(g,t.domain,g);const b=be(g,fi);Ze(b,t.domain,g);const k=Or(qT);Ze(b,t.tld,k),Ze(b,t.utld,k),be(p,id,k);const T=be(g,Lr);be(T,Lr,T),Ze(T,t.domain,g),Ze(k,t.domain,g),be(k,fi,b),be(k,Lr,T);const A=be(k,ca);Ze(A,t.numeric,qT);const D=be(l,Lr),P=be(l,fi);be(D,Lr,D),Ze(D,t.domain,l),Ze(P,r,a),Ze(P,t.domain,l);const z=Or(Xf);Ze(P,t.tld,z),Ze(P,t.utld,z),Ze(z,t.domain,l),Ze(z,r,a),be(z,fi,P),be(z,Lr,D),be(z,oa,p);const $=be(z,ca),ae=Or(Xf);Ze($,t.numeric,ae);const Y=Or(Xf),ue=Or();Ze(Y,e,Y),Ze(Y,n,ue),Ze(ue,e,Y),Ze(ue,n,ue),be(z,pi,Y),be(ae,pi,Y);const pe=be(c,ca),de=be(d,ca),Ae=be(de,pi),Ne=be(Ae,pi);Ze(c,t.domain,l),be(c,fi,P),be(c,Lr,D),Ze(d,t.domain,l),be(d,fi,P),be(d,Lr,D),Ze(pe,t.domain,Y),be(pe,pi,Y),be(pe,Ic,Y),Ze(Ne,t.domain,Y),Ze(Ne,e,Y),be(Ne,pi,Y);const dt=[[Lc,_c],[_p,Bp],[Ip,jp],[zp,Vp],[Up,Hp],[Fp,Kp],[qp,Wp],[Jp,$p]];for(let ft=0;ft<dt.length;ft++){const[pt,wt]=dt[ft],mt=be(Y,pt);be(ue,pt,mt),be(mt,wt,Y);const se=Or(Xf);Ze(mt,e,se);const me=Or();Ze(mt,n),Ze(se,e,se),Ze(se,n,me),Ze(me,e,se),Ze(me,n,me),be(se,wt,Y),be(me,wt,Y)}return be(i,id,z),be(i,_w,M4),{start:i,tokens:wM}}function D4(t,e,n){let r=n.length,i=0,a=[],l=[];for(;i<r;){let c=t,d=null,p=null,h=0,g=null,b=-1;for(;i<r&&!(d=c.go(n[i].t));)l.push(n[i++]);for(;i<r&&(p=d||c.go(n[i].t));)d=null,c=p,c.accepts()?(b=0,g=c):b>=0&&b++,i++,h++;if(b<0)i-=h,i<r&&(l.push(n[i]),i++);else{l.length>0&&(a.push(vg(WT,e,l)),l=[]),i-=b,h-=b;const k=g.t,T=n.slice(i-h,i);a.push(vg(k,e,T))}}return l.length>0&&a.push(vg(WT,e,l)),a}function vg(t,e,n){const r=n[0].s,i=n[n.length-1].e,a=e.slice(r,i);return new t(a,n)}const P4=typeof console<"u"&&console&&console.warn||(()=>{}),O4="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ot={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function N4(){return tr.groups={},Ot.scanner=null,Ot.parser=null,Ot.tokenQueue=[],Ot.pluginQueue=[],Ot.customSchemes=[],Ot.initialized=!1,Ot}function JT(t,e=!1){if(Ot.initialized&&P4(`linkifyjs: already initialized - will not register custom scheme "${t}" ${O4}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ot.customSchemes.push([t,e])}function L4(){Ot.scanner=C4(Ot.customSchemes);for(let t=0;t<Ot.tokenQueue.length;t++)Ot.tokenQueue[t][1]({scanner:Ot.scanner});Ot.parser=R4(Ot.scanner.tokens);for(let t=0;t<Ot.pluginQueue.length;t++)Ot.pluginQueue[t][1]({scanner:Ot.scanner,parser:Ot.parser});return Ot.initialized=!0,Ot}function Uw(t){return Ot.initialized||L4(),D4(Ot.parser.start,t,bM(Ot.scanner.start,t))}Uw.scan=bM;function kM(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Vw(n),i=Uw(t),a=[];for(let l=0;l<i.length;l++){const c=i[l];c.isLink&&(!e||c.t===e)&&r.check(c)&&a.push(c.toFormattedObject(r))}return a}var Hw="[\0-   ᠎ -\u2029 　]",_4=new RegExp(Hw),B4=new RegExp(`${Hw}$`),I4=new RegExp(Hw,"g");function j4(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function z4(t){return new qt({key:new bn("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(p=>p.docChanged)&&!n.doc.eq(r.doc),a=e.some(p=>p.getMeta("preventAutolink"));if(!i||a)return;const{tr:l}=r,c=IA(n.doc,[...e]);if(WA(c).forEach(({newRange:p})=>{const h=UI(r.doc,p,k=>k.isTextblock);let g,b;if(h.length>1)g=h[0],b=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(h.length){const k=r.doc.textBetween(p.from,p.to," "," ");if(!B4.test(k))return;g=h[0],b=r.doc.textBetween(g.pos,p.to,void 0," ")}if(g&&b){const k=b.split(_4).filter(Boolean);if(k.length<=0)return!1;const T=k[k.length-1],A=g.pos+b.lastIndexOf(T);if(!T)return!1;const D=Uw(T).map(P=>P.toObject(t.defaultProtocol));if(!j4(D))return!1;D.filter(P=>P.isLink).map(P=>({...P,from:A+P.start+1,to:A+P.end+1})).filter(P=>r.schema.marks.code?!r.doc.rangeHasMark(P.from,P.to,r.schema.marks.code):!0).filter(P=>t.validate(P.value)).filter(P=>t.shouldAutoLink(P.value)).forEach(P=>{Pw(P.from,P.to,r.doc).some(z=>z.mark.type===t.type)||l.addMark(P.from,P.to,t.type.create({href:P.href}))})}}),!!l.steps.length)return l}})}function V4(t){return new qt({key:new bn("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,a;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let h=r.target;const g=[];for(;h.nodeName!=="DIV";)g.push(h),h=h.parentNode;l=g.find(b=>b.nodeName==="A")}if(!l)return!1;const c=qA(e.state,t.type.name),d=(i=l?.href)!=null?i:c.href,p=(a=l?.target)!=null?a:c.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&d?(window.open(d,p),!0):!1}}})}function U4(t){return new qt({key:new bn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:a}=i,{empty:l}=a;if(l)return!1;let c="";r.content.forEach(p=>{c+=p.textContent});const d=kM(c,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===c);return!c||!d?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function eo(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(I4,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var TM=Eo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){JT(t);return}JT(t.scheme,t.optionalSlashes)})},onDestroy(){N4()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!eo(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!eo(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!eo(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",an(this.options.HTMLAttributes,t),0]:["a",an(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!eo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!eo(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ko({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=kM(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:l=>!!eo(l,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(a=>e.push({text:a.value,data:{href:a.href},index:a.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(z4({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!eo(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(V4({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(U4({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),H4=TM,F4=Object.defineProperty,K4=(t,e)=>{for(var n in e)F4(t,n,{get:e[n],enumerable:!0})},q4="listItem",$T="textStyle",GT=/^\s*([-+*])\s$/,xM=yr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",an(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(q4,this.editor.getAttributes($T)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Kl({find:GT,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Kl({find:GT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes($T),editor:this.editor})),[t]}}),EM=yr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",an(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),W4={};K4(W4,{findListItemPos:()=>bd,getNextListDepth:()=>Fw,handleBackspace:()=>Sv,handleDelete:()=>kv,hasListBefore:()=>CM,hasListItemAfter:()=>J4,hasListItemBefore:()=>AM,listItemHasSubList:()=>MM,nextListIsDeeper:()=>RM,nextListIsHigher:()=>DM});var bd=(t,e)=>{const{$from:n}=e.selection,r=on(t,e.schema);let i=null,a=n.depth,l=n.pos,c=null;for(;a>0&&c===null;)i=n.node(a),i.type===r?c=a:(a-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},Fw=(t,e)=>{const n=bd(t,e);if(!n)return!1;const[,r]=XI(e,t,n.$pos.pos+4);return r},CM=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),a=t.doc.resolve(i).node();return!(!a||!n.includes(a.type.name))},AM=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},MM=(t,e,n)=>{if(!n)return!1;const r=on(t,e.schema);let i=!1;return n.descendants(a=>{a.type===r&&(i=!0)}),i},Sv=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ka(t.state,e)&&CM(t.state,e,n)){const{$anchor:c}=t.state.selection,d=t.state.doc.resolve(c.before()-1),p=[];d.node().descendants((b,k)=>{b.type.name===e&&p.push({node:b,pos:k})});const h=p.at(-1);if(!h)return!1;const g=t.state.doc.resolve(d.start()+h.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},g.end()).joinForward().run()}if(!ka(t.state,e)||!tj(t.state))return!1;const r=bd(e,t.state);if(!r)return!1;const a=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=MM(e,t.state,a);return AM(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},RM=(t,e)=>{const n=Fw(t,e),r=bd(t,e);return!r||!n?!1:n>r.depth},DM=(t,e)=>{const n=Fw(t,e),r=bd(t,e);return!r||!n?!1:n<r.depth},kv=(t,e)=>{if(!ka(t.state,e)||!ej(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:RM(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():DM(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},J4=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},PM=Qt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&kv(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&kv(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Sv(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Sv(t,n,r)&&(e=!0)}),e}}}}),$4="listItem",YT="textStyle",XT=/^(\d+)\.\s$/,OM=yr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",an(this.options.HTMLAttributes,n),0]:["ol",an(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($4,this.editor.getAttributes(YT)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Kl({find:XT,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Kl({find:XT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(YT)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),G4=/^\s*(\[([( |x])?\])\s$/,Y4=yr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",an(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),a=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),p=()=>{var h,g;c.ariaLabel=((g=(h=this.options.a11y)==null?void 0:h.checkboxLabel)==null?void 0:g.call(h,t,c.checked))||`Task item checkbox for ${t.textContent||"empty task item"}`};return p(),a.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",h=>h.preventDefault()),c.addEventListener("change",h=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:g}=h.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const k=n();if(typeof k!="number")return!1;const T=b.doc.nodeAt(k);return b.setNodeMarkup(k,void 0,{...T?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,g)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,g])=>{i.setAttribute(h,g)}),i.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,a.append(c,l),i.append(a,d),Object.entries(e).forEach(([h,g])=>{i.setAttribute(h,g)}),{dom:i,contentDOM:d,update:h=>h.type!==this.type?!1:(i.dataset.checked=h.attrs.checked,c.checked=h.attrs.checked,p(),!0)}}},addInputRules(){return[Kl({find:G4,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),X4=yr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",an(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Qt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(xM.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(EM.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(PM.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(OM.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(Y4.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(X4.configure(this.options.taskList)),t}});var Q4=yr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Z4=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,eV=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,tV=Eo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Fl({find:Z4,type:this.type})]},addPasteRules(){return[ko({find:eV,type:this.type})]}}),nV=yr.create({name:"text",group:"inline"}),rV=Eo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",an(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function iV(t={}){return new qt({view(e){return new sV(e,t)}})}class sV{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let a=l=>{this[i](l)};return e.dom.addEventListener(i,a),{name:i,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,a=i.getBoundingClientRect(),l=a.width/i.offsetWidth,c=a.height/i.offsetHeight;if(n){let g=e.nodeBefore,b=e.nodeAfter;if(g||b){let k=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(k){let T=k.getBoundingClientRect(),A=g?T.bottom:T.top;g&&b&&(A=(A+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let D=this.width/2*c;r={left:T.left,right:T.right,top:A-D,bottom:A+D}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*l;r={left:g.left-b,right:g.left+b,top:g.top,bottom:g.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let p,h;if(!d||d==document.body&&getComputedStyle(d).position=="static")p=-pageXOffset,h=-pageYOffset;else{let g=d.getBoundingClientRect(),b=g.width/d.offsetWidth,k=g.height/d.offsetHeight;p=g.left-d.scrollLeft*b,h=g.top-d.scrollTop*k}this.element.style.left=(r.left-p)/l+"px",this.element.style.top=(r.top-h)/c+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,a=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!a){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=_C(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Kt extends Qe{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Kt.valid(r)?new Kt(r):Qe.near(r)}content(){return Re.empty}eq(e){return e instanceof Kt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Kt(e.resolve(n.pos))}getBookmark(){return new Kw(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!aV(e)||!oV(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Kt.valid(e))return e;let i=e.pos,a=null;for(let l=e.depth;;l--){let c=e.node(l);if(n>0?e.indexAfter(l)<c.childCount:e.index(l)>0){a=c.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let d=e.doc.resolve(i);if(Kt.valid(d))return d}for(;;){let l=n>0?a.firstChild:a.lastChild;if(!l){if(a.isAtom&&!a.isText&&!ze.isSelectable(a)){e=e.doc.resolve(i+a.nodeSize*n),r=!1;continue e}break}a=l,i+=n;let c=e.doc.resolve(i);if(Kt.valid(c))return c}return null}}}Kt.prototype.visible=!1;Kt.findFrom=Kt.findGapCursorFrom;Qe.jsonID("gapcursor",Kt);class Kw{constructor(e){this.pos=e}map(e){return new Kw(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Kt.valid(n)?new Kt(n):Qe.near(n)}}function aV(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function oV(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function lV(){return new qt({props:{decorations:fV,createSelectionBetween(t,e,n){return e.pos==n.pos&&Kt.valid(n)?new Kt(n):null},handleClick:cV,handleKeyDown:uV,handleDOMEvents:{beforeinput:dV}}})}const uV=TA({ArrowLeft:Qf("horiz",-1),ArrowRight:Qf("horiz",1),ArrowUp:Qf("vert",-1),ArrowDown:Qf("vert",1)});function Qf(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,a){let l=r.selection,c=e>0?l.$to:l.$from,d=l.empty;if(l instanceof Ge){if(!a.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let p=Kt.findGapCursorFrom(c,e,d);return p?(i&&i(r.tr.setSelection(new Kt(p))),!0):!1}}function cV(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Kt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ze.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Kt(r))),!0)}function dV(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Kt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ye.empty;for(let l=r.length-1;l>=0;l--)i=ye.from(r[l].createAndFill(null,i));let a=t.state.tr.replace(n.pos,n.pos,new Re(i,0,0));return a.setSelection(Ge.near(a.doc.resolve(n.pos+1))),t.dispatch(a),!1}function fV(t){if(!(t.selection instanceof Kt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",It.create(t.doc,[$n.widget(t.selection.head,e,{key:"gapcursor"})])}var lh=200,wn=function(){};wn.prototype.append=function(e){return e.length?(e=wn.from(e),!this.length&&e||e.length<lh&&this.leafAppend(e)||this.length<lh&&e.leafPrepend(this)||this.appendInner(e)):this};wn.prototype.prepend=function(e){return e.length?wn.from(e).append(this):this};wn.prototype.appendInner=function(e){return new pV(this,e)};wn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?wn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};wn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};wn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};wn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(a,l){return i.push(e(a,l))},n,r),i};wn.from=function(e){return e instanceof wn?e:e&&e.length?new NM(e):wn.empty};var NM=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,l,c){for(var d=a;d<l;d++)if(i(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,l,c){for(var d=a-1;d>=l;d--)if(i(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=lh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=lh)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(wn);wn.empty=new NM([]);var pV=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,a,l){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(a,c),l)===!1||a>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,a)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,a,l){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(a,c)-c,l+c)===!1||a<c&&this.left.forEachInvertedInner(r,Math.min(i,c),a,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(r,i):r>=a?this.right.slice(r-a,i-a):this.left.slice(r,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(wn);const hV=500;class Wr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,a;n&&(i=this.remapping(r,this.items.length),a=i.maps.length);let l=e.tr,c,d,p=[],h=[];return this.items.forEach((g,b)=>{if(!g.step){i||(i=this.remapping(r,b+1),a=i.maps.length),a--,h.push(g);return}if(i){h.push(new hi(g.map));let k=g.step.map(i.slice(a)),T;k&&l.maybeStep(k).doc&&(T=l.mapping.maps[l.mapping.maps.length-1],p.push(new hi(T,void 0,void 0,p.length+h.length))),a--,T&&i.appendMap(T,a)}else l.maybeStep(g.step);if(g.selection)return c=i?g.selection.map(i.slice(a)):g.selection,d=new Wr(this.items.slice(0,r).append(h.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:c}}addTransform(e,n,r,i){let a=[],l=this.eventCount,c=this.items,d=!i&&c.length?c.get(c.length-1):null;for(let h=0;h<e.steps.length;h++){let g=e.steps[h].invert(e.docs[h]),b=new hi(e.mapping.maps[h],g,n),k;(k=d&&d.merge(b))&&(b=k,h?a.pop():c=c.slice(0,c.length-1)),a.push(b),n&&(l++,n=void 0),i||(d=b)}let p=l-r.depth;return p>yV&&(c=mV(c,p),l-=p),new Wr(c.append(a),l)}remapping(e,n){let r=new Xc;return this.items.forEach((i,a)=>{let l=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new Wr(this.items.append(e.map(n=>new hi(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),a=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(b=>{b.selection&&c--},i);let d=n;this.items.forEach(b=>{let k=a.getMirror(--d);if(k==null)return;l=Math.min(l,k);let T=a.maps[k];if(b.step){let A=e.steps[k].invert(e.docs[k]),D=b.selection&&b.selection.map(a.slice(d+1,k));D&&c++,r.push(new hi(T,A,D))}else r.push(new hi(T))},i);let p=[];for(let b=n;b<l;b++)p.push(new hi(a.maps[b]));let h=this.items.slice(0,i).append(p).append(r),g=new Wr(h,c);return g.emptyItemCount()>hV&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],a=0;return this.items.forEach((l,c)=>{if(c>=e)i.push(l),l.selection&&a++;else if(l.step){let d=l.step.map(n.slice(r)),p=d&&d.getMap();if(r--,p&&n.appendMap(p,r),d){let h=l.selection&&l.selection.map(n.slice(r));h&&a++;let g=new hi(p.invert(),d,h),b,k=i.length-1;(b=i.length&&i[k].merge(g))?i[k]=b:i.push(g)}}else l.map&&r--},this.items.length,0),new Wr(wn.from(i.reverse()),a)}}Wr.empty=new Wr(wn.empty,0);function mV(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class hi{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new hi(n.getMap().invert(),n,this.selection)}}}class la{constructor(e,n,r,i,a){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=a}}const yV=20;function gV(t,e,n,r){let i=n.getMeta(go),a;if(i)return i.historyState;n.getMeta(bV)&&(t=new la(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(go))return l.getMeta(go).redo?new la(t.done.addTransform(n,void 0,r,cp(e)),t.undone,QT(n.mapping.maps),t.prevTime,t.prevComposition):new la(t.done,t.undone.addTransform(n,void 0,r,cp(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!vV(n,t.prevRanges)),p=l?wg(t.prevRanges,n.mapping):QT(n.mapping.maps);return new la(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,cp(e)),Wr.empty,p,n.time,c??t.prevComposition)}else return(a=n.getMeta("rebased"))?new la(t.done.rebased(n,a),t.undone.rebased(n,a),wg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new la(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),wg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function vV(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let a=0;a<e.length;a+=2)r<=e[a+1]&&i>=e[a]&&(n=!0)}),n}function QT(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,a,l)=>e.push(a,l));return e}function wg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),a=e.map(t[r+1],-1);i<=a&&n.push(i,a)}return n}function wV(t,e,n){let r=cp(e),i=go.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,r);if(!a)return null;let l=a.selection.resolve(a.transform.doc),c=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,r),d=new la(n?c:a.remaining,n?a.remaining:c,null,0,-1);return a.transform.setSelection(l).setMeta(go,{redo:n,historyState:d})}let bg=!1,ZT=null;function cp(t){let e=t.plugins;if(ZT!=e){bg=!1,ZT=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){bg=!0;break}}return bg}const go=new bn("history"),bV=new bn("closeHistory");function SV(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new qt({key:go,state:{init(){return new la(Wr.empty,Wr.empty,null,0,-1)},apply(e,n,r){return gV(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?_M:r=="historyRedo"?BM:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function LM(t,e){return(n,r)=>{let i=go.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let a=wV(i,n,t);a&&r(e?a.scrollIntoView():a)}return!0}}const _M=LM(!1,!0),BM=LM(!0,!0);Qt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new qt({key:new bn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const a=this.storage.characters({node:r.doc});if(a>i){const l=a-i,c=0,d=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const p=r.tr.deleteRange(c,d);return t=!0,p}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),a=this.storage.characters({node:e.doc});if(a<=r||i>r&&a>r&&a<=i)return!0;if(i>r&&a>r&&a>i||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=a-r,p=c-d,h=c;return e.deleteRange(p,h),!(this.storage.characters({node:e.doc})>r)}})]}});var kV=Qt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[iV(this.options)]}});Qt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new qt({key:new bn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,a=[];if(!n||!r)return It.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((d,p)=>{if(d.isText)return;if(!(i>=p&&i<=p+d.nodeSize-1))return!1;l+=1});let c=0;return t.descendants((d,p)=>{if(d.isText||!(i>=p&&i<=p+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";a.push($n.node(p,p+d.nodeSize,{class:this.options.className}))}),It.create(t,a)}}})]}});var TV=Qt.create({name:"gapCursor",addProseMirrorPlugins(){return[lV()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=vt(je(t,"allowGapCursor",n)))!=null?e:null}}}),xV=Qt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new qt({key:new bn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const a=this.editor.isEmpty;return t.descendants((l,c)=>{const d=r>=c&&r<=c+l.nodeSize,p=!l.isLeaf&&Ah(l);if((d||!this.options.showOnlyCurrent)&&p){const h=[this.options.emptyNodeClass];a&&h.push(this.options.emptyEditorClass);const g=$n.node(c,c+l.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:d}):this.options.placeholder});i.push(g)}return this.options.includeChildren}),It.create(t,i)}}})]}});Qt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new qt({key:new bn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||$A(n.selection)||t.view.dragging?null:It.create(n.doc,[$n.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function ex({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var EV=Qt.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new bn(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new qt({key:t,appendTransaction:(n,r,i)=>{const{doc:a,tr:l,schema:c}=i,d=t.getState(i),p=a.content.size,h=c.nodes[this.options.node];if(d)return l.insert(p,h.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!ex({node:i,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!ex({node:i,types:e})}}})]}}),CV=Qt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>_M(t,e),redo:()=>({state:t,dispatch:e})=>BM(t,e)}},addProseMirrorPlugins(){return[SV(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),AV=Qt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(n4.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(Xz.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(xM.configure(this.options.bulletList)),this.options.code!==!1&&i.push(s4.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(l4.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(u4.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(kV.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(TV.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(c4.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(d4.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(CV.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(f4.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(g4.configure(this.options.italic)),this.options.listItem!==!1&&i.push(EM.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(PM.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(TM.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(OM.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(Q4.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(tV.configure(this.options.strike)),this.options.text!==!1&&i.push(nV.configure(this.options.text)),this.options.underline!==!1&&i.push(rV.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(EV.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),MV=AV,RV=Qt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),DV=RV,PV=xV;function OV(){const{t,i18n:e}=Ta(),{lang:n}=$l(),[r,i]=I.useState([]),[a,l]=I.useState(!0),[c,d]=I.useState(null),p=Wz({extensions:[MV,DV.configure({types:["heading","paragraph"]}),H4,PV.configure({placeholder:t("journalPlaceholder","اكتب تدوينتك هنا...")})],content:"",editorProps:{attributes:{class:`min-h-[100px] w-full rounded border p-2 bg-gray-50 dark:bg-zinc-800 text-gray-800 dark:text-gray-100 focus:outline-none ${e.language==="ar"?"text-right":"text-left"}`,dir:e.language==="ar"?"rtl":"ltr"}}});I.useEffect(()=>{h()},[]),I.useEffect(()=>{p&&c?p.commands.setContent(c.content||""):p&&!c&&p.commands.setContent("")},[c,p]);async function h(){l(!0),i(await DB()),l(!1)}async function g(){const T=p.getHTML();c?await OB(c.id,{content:T}):await PB({content:T,date:Date.now()}),d(null),p.commands.setContent(""),h()}async function b(T){await NB(T),h()}function k(T){d(T)}return ne.jsxs("div",{className:"max-w-2xl mx-auto py-8",dir:e.language==="ar"?"rtl":"ltr",children:[ne.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-emerald-700",children:t("journalTitle","اليوميات")}),ne.jsxs("div",{className:"mb-6",children:[ne.jsx(NV,{editor:p,lang:n}),ne.jsx(zz,{editor:p}),ne.jsxs("div",{className:"flex gap-2 mt-2",children:[ne.jsx("button",{onClick:g,className:"px-4 py-1 rounded bg-emerald-600 text-white hover:bg-emerald-700 transition",disabled:!p||p.isEmpty,children:c?t("update","تحديث"):t("add","إضافة")}),c&&ne.jsx("button",{onClick:()=>{d(null),p.commands.setContent("")},className:"px-3 py-1 rounded bg-gray-200 dark:bg-zinc-700 text-gray-700 dark:text-gray-200",children:t("cancel","إلغاء")})]})]}),ne.jsx("div",{children:a?ne.jsx("div",{className:"text-center text-gray-400",children:t("loading","جاري التحميل...")}):r.length===0?ne.jsx("div",{className:"text-center text-gray-400",children:t("noJournalEntries","لا توجد تدوينات بعد.")}):ne.jsx("ul",{className:"space-y-4",children:r.map(T=>ne.jsxs("li",{className:"rounded border p-3 bg-white dark:bg-zinc-900 shadow flex flex-col gap-2",children:[ne.jsx("div",{className:"text-xs text-gray-500 mb-1",children:new Date(T.date).toLocaleDateString(n==="ar"?"ar-EG":"en-US")}),ne.jsx("div",{className:"text-gray-800 dark:text-gray-100 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:T.content}}),ne.jsxs("div",{className:"flex gap-2 mt-1",children:[ne.jsx("button",{onClick:()=>k(T),className:"text-xs text-emerald-700 hover:underline",children:t("edit","تعديل")}),ne.jsx("button",{onClick:()=>b(T.id),className:"text-xs text-red-600 hover:underline",children:t("delete","حذف")})]})]},T.id))})})]})}function NV({editor:t,lang:e}){return t?ne.jsxs("div",{className:"flex flex-wrap gap-1 mb-2 border-b pb-1",children:[ne.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"font-bold text-emerald-700":"",children:"B"}),ne.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"italic text-emerald-700":"",children:"I"}),ne.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?"line-through text-emerald-700":"",children:"S"}),ne.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"font-bold text-lg text-emerald-700":"",children:"H1"}),ne.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"font-bold text-emerald-700":"",children:"H2"}),ne.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"text-emerald-700":"",children:"• قائمة"}),ne.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"text-emerald-700":"",children:"1. قائمة"}),ne.jsx("button",{onClick:()=>t.chain().focus().setTextAlign(e==="ar"?"right":"left").run(),className:"",children:e==="ar"?"يمين":"Left"}),ne.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:"",children:"وسط"}),ne.jsx("button",{onClick:()=>t.chain().focus().setTextAlign(e==="ar"?"left":"right").run(),className:"",children:e==="ar"?"يسار":"Right"}),ne.jsx("button",{onClick:()=>t.chain().focus().unsetAllMarks().clearNodes().run(),className:"text-gray-400",children:"مسح"})]}):null}function LV(){return ne.jsx(I2,{children:ne.jsx(xP,{children:ne.jsx(E2,{children:ne.jsx(n2,{children:ne.jsxs(xl,{element:ne.jsx(BP,{}),children:[ne.jsx(xl,{path:"/",element:ne.jsx(UP,{})}),ne.jsx(xl,{path:"/plan",element:ne.jsx(CB,{})}),ne.jsx(xl,{path:"/journal",element:ne.jsx(OV,{})}),ne.jsx(xl,{path:"*",element:ne.jsx(HP,{})})]})})})})})}lD.createRoot(document.getElementById("root")).render(ne.jsx(va.StrictMode,{children:ne.jsx(LV,{})}));
